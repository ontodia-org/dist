!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("lodash"),require("whatwg-fetch"),require("n3"),require("webcola"),require("backbone"),require("jointjs"),require("d3-color"),require("react-dom"),require("handlebars"),require("jquery"),require("intro.js")):"function"==typeof define&&define.amd?define(["react","lodash","whatwg-fetch","n3","webcola","backbone","jointjs","d3-color","react-dom","handlebars","jquery","intro.js"],t):"object"==typeof exports?exports.Ontodia=t(require("react"),require("lodash"),require("whatwg-fetch"),require("n3"),require("webcola"),require("backbone"),require("jointjs"),require("d3-color"),require("react-dom"),require("handlebars"),require("jquery"),require("intro.js")):e.Ontodia=t(e.react,e.lodash,e["whatwg-fetch"],e.n3,e.webcola,e.backbone,e.jointjs,e["d3-color"],e["react-dom"],e.handlebars,e.jquery,e["intro.js"])}(this,function(e,t,i,r,a,n,o,s,l,d,c,h){return function(e){function t(r){if(i[r])return i[r].exports;var a=i[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function r(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}i(1),i(5),r(i(24)),r(i(26)),r(i(27)),r(i(33)),r(i(37)),r(i(38)),r(i(41));var a=i(42);t.Element=a.Element,t.Link=a.Link,r(i(45)),r(i(48));var n=i(63);t.Workspace=n.Workspace},function(e,t,i){var r=i(2);"string"==typeof r&&(r=[[e.id,r,""]]);i(4)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,i){t=e.exports=i(3)(),t.push([e.id,'.introjs-overlay{position:absolute;z-index:999999;background-color:#000;opacity:0;background:radial-gradient(center,ellipse cover,rgba(0,0,0,.4) 0,rgba(0,0,0,.9) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#66000000",endColorstr="#e6000000",GradientType=1);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";filter:alpha(opacity=50);transition:all .3s ease-out}.introjs-fixParent{z-index:auto!important;opacity:1!important;position:absolute!important;-webkit-transform:none!important;transform:none!important}.introjs-showElement,tr.introjs-showElement>td,tr.introjs-showElement>th{z-index:9999999!important}.introjs-disableInteraction{z-index:99999999!important;position:absolute}.introjs-relativePosition,tr.introjs-showElement>td,tr.introjs-showElement>th{position:relative}.introjs-helperLayer{position:absolute;z-index:9999998;background-color:#fff;background-color:hsla(0,0%,100%,.9);border:1px solid #777;border:1px solid rgba(0,0,0,.5);border-radius:4px;box-shadow:0 2px 15px rgba(0,0,0,.4);transition:all .3s ease-out}.introjs-tooltipReferenceLayer{position:absolute;visibility:hidden;z-index:10000000;background-color:transparent;transition:all .3s ease-out}.introjs-helperLayer *,.introjs-helperLayer :after,.introjs-helperLayer :before{-ms-box-sizing:content-box;-o-box-sizing:content-box;box-sizing:content-box}.introjs-helperNumberLayer{position:absolute;visibility:visible;top:-16px;left:-16px;z-index:9999999999!important;padding:2px;font-family:Arial,verdana,tahoma;font-size:13px;font-weight:700;color:#fff;text-align:center;text-shadow:1px 1px 1px rgba(0,0,0,.3);background:#ff3019;background:linear-gradient(180deg,#ff3019 0,#cf0404);width:20px;height:20px;line-height:20px;border:3px solid #fff;border-radius:50%;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#ff3019",endColorstr="#cf0404",GradientType=0);filter:progid:DXImageTransform.Microsoft.Shadow(direction=135,strength=2,color=ff0000);box-shadow:0 2px 5px rgba(0,0,0,.4)}.introjs-arrow{border:5px solid #fff;content:"";position:absolute}.introjs-arrow.top,.introjs-arrow.top-right{top:-10px;border-top-color:transparent;border-right-color:transparent;border-bottom-color:#fff;border-left-color:transparent}.introjs-arrow.top-right{right:10px}.introjs-arrow.top-middle{top:-10px;left:50%;margin-left:-5px;border-top-color:transparent;border-right-color:transparent;border-bottom-color:#fff;border-left-color:transparent}.introjs-arrow.right{top:10px}.introjs-arrow.right,.introjs-arrow.right-bottom{right:-10px;border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-left-color:#fff}.introjs-arrow.right-bottom{bottom:10px}.introjs-arrow.bottom{bottom:-10px;border-top-color:#fff;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent}.introjs-arrow.left{top:10px}.introjs-arrow.left,.introjs-arrow.left-bottom{left:-10px;border-top-color:transparent;border-right-color:#fff;border-bottom-color:transparent;border-left-color:transparent}.introjs-arrow.left-bottom{bottom:10px}.introjs-tooltip{position:absolute;visibility:visible;padding:10px;background-color:#fff;min-width:200px;max-width:300px;border-radius:3px;box-shadow:0 1px 10px rgba(0,0,0,.4);transition:opacity .1s ease-out}.introjs-tooltipbuttons{text-align:right;white-space:nowrap}.introjs-button{position:relative;overflow:visible;display:inline-block;padding:.3em .8em;border:1px solid #d4d4d4;margin:0;text-decoration:none;text-shadow:1px 1px 0 #fff;font:11px/normal sans-serif;color:#333;white-space:nowrap;cursor:pointer;outline:none;background-color:#ececec;background-image:linear-gradient(#f4f4f4,#ececec);-webkit-background-clip:padding;-moz-background-clip:padding;-o-background-clip:padding-box;border-radius:.2em;zoom:1;*display:inline;margin-top:10px}.introjs-button:hover{border-color:#bcbcbc;text-decoration:none;box-shadow:0 1px 1px #e3e3e3}.introjs-button:active,.introjs-button:focus{background-image:linear-gradient(#ececec,#f4f4f4)}.introjs-button::-moz-focus-inner{padding:0;border:0}.introjs-skipbutton{margin-right:5px;color:#7a7a7a}.introjs-prevbutton{border-radius:.2em 0 0 .2em;border-right:none}.introjs-nextbutton{border-radius:0 .2em .2em 0}.introjs-disabled,.introjs-disabled:focus,.introjs-disabled:hover{color:#9a9a9a;border-color:#d4d4d4;box-shadow:none;cursor:default;background-color:#f4f4f4;background-image:none;text-decoration:none}.introjs-bullets{text-align:center}.introjs-bullets ul{clear:both;margin:15px auto 0;padding:0;display:inline-block}.introjs-bullets ul li{list-style:none;float:left;margin:0 2px}.introjs-bullets ul li a{display:block;width:6px;height:6px;background:#ccc;border-radius:10px;-moz-border-radius:10px;-webkit-border-radius:10px;text-decoration:none}.introjs-bullets ul li a.active,.introjs-bullets ul li a:hover{background:#999}.introjs-progress{overflow:hidden;height:10px;margin:10px 0 5px;border-radius:4px;background-color:#ecf0f1}.introjs-progressbar{float:left;width:0;height:100%;font-size:10px;line-height:10px;text-align:center;background-color:#08c}.introjsFloatingElement{position:absolute;height:0;width:0;left:50%;top:50%}',""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var i=this[t];i[2]?e.push("@media "+i[2]+"{"+i[1]+"}"):e.push(i[1])}return e.join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},a=0;a<this.length;a++){var n=this[a][0];"number"==typeof n&&(r[n]=!0)}for(a=0;a<t.length;a++){var o=t[a];"number"==typeof o[0]&&r[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),e.push(o))}},e}},function(e,t,i){function r(e,t){for(var i=0;i<e.length;i++){var r=e[i],a=u[r.id];if(a){a.refs++;for(var n=0;n<a.parts.length;n++)a.parts[n](r.parts[n]);for(;n<r.parts.length;n++)a.parts.push(d(r.parts[n],t))}else{for(var o=[],n=0;n<r.parts.length;n++)o.push(d(r.parts[n],t));u[r.id]={id:r.id,refs:1,parts:o}}}}function a(e){for(var t=[],i={},r=0;r<e.length;r++){var a=e[r],n=a[0],o=a[1],s=a[2],l=a[3],d={css:o,media:s,sourceMap:l};i[n]?i[n].parts.push(d):t.push(i[n]={id:n,parts:[d]})}return t}function n(e,t){var i=m(),r=y[y.length-1];if("top"===e.insertAt)r?r.nextSibling?i.insertBefore(t,r.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",n(e,t),t}function l(e){var t=document.createElement("link");return t.rel="stylesheet",n(e,t),t}function d(e,t){var i,r,a;if(t.singleton){var n=b++;i=v||(v=s(t)),r=c.bind(null,i,n,!1),a=c.bind(null,i,n,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=l(t),r=p.bind(null,i),a=function(){o(i),i.href&&URL.revokeObjectURL(i.href)}):(i=s(t),r=h.bind(null,i),a=function(){o(i)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}function c(e,t,i,r){var a=i?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,a);else{var n=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(n,o[t]):e.appendChild(n)}}function h(e,t){var i=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function p(e,t){var i=t.css,r=t.sourceMap;r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),n=e.href;e.href=URL.createObjectURL(a),n&&URL.revokeObjectURL(n)}var u={},g=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},f=g(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=g(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,b=0,y=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=f()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var i=a(e);return r(i,t),function(e){for(var n=[],o=0;o<i.length;o++){var s=i[o],l=u[s.id];l.refs--,n.push(l)}if(e){var d=a(e);r(d,t)}for(var o=0;o<n.length;o++){var l=n[o];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete u[l.id]}}}};var w=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()},function(e,t,i){var r=i(6);"string"==typeof r&&(r=[[e.id,r,""]]);i(4)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,i){t=e.exports=i(3)(),t.push([e.id,".link-tools .tool-options,.link-tools .tool-remove,.marker-arrowheads,.selection .handle.rotate{display:none}.ontodia-connections-menu{position:absolute;width:300px;height:300px;border-radius:3px;display:flex;flex-direction:column;box-shadow:0 4px 15px 0 rgba(0,0,0,.38)}.ontodia-connections-menu_bread-crumbs{padding:10px;padding-bottom:0;overflow:hidden;text-overflow:ellipsis;height:27px;min-height:27px;flex-grow:0}.ontodia-connections-menu__title-label{position:absolute;top:-11px;left:10px;background:#fff;padding-left:3px;padding-right:3px;border-radius:6px}.ontodia-connections-menu_search-line{padding:10px}.ontodia-connections-menu_links-list{padding:5px;overflow-x:hidden;overflow-y:auto;border-top:1px solid #dbdbdb;flex-grow:1;margin-bottom:0}.ocm_links-list-empty{display:flex;align-items:center}.ontodia-connections-menu_links-list__empty{width:100%;position:relative;font-size:x-large;color:#cbcbcb;text-align:center}.ontodia-connections-menu__error,.ontodia-connections-menu__loading{width:100%;height:100%;position:relative;font-size:x-large;display:flex;color:#cbcbcb;align-items:center;justify-content:center}.ontodia-connections-menu__loading-objects{border:1px solid gray;flex-grow:1;box-shadow:inset 0 0 23px -8px gray;background-color:#f5f5f5;position:relative;font-size:x-large;display:flex;color:#cbcbcb;align-items:center;justify-content:center;margin-bottom:5px}.ontodia-connections-menu__progress-bar{opacity:0;height:0;transition:.3s}.ontodia-connections-menu__progress-bar--error,.ontodia-connections-menu__progress-bar--loading{height:10px;opacity:1}.ontodia-connections-menu__progress-bar--error>.progress-bar{background-color:#e72f2f}.element-in-popup-menu{display:flex;padding:5px 10px;margin:5px 10px;border-radius:5px}.element-in-popup-menu:hover{background-color:#e6e6e6}.element-in-popup-menu.unchecked{background-color:hsla(0,0%,100%,.79)}.element-in-popup-menu_disabled-line{pointer-events:none;cursor:not-allowed}.element-in-popup-menu__checkbox{min-width:13px}.element-in-popup-menu__link-label{flex-grow:1;margin-left:5px;overflow:hidden;text-overflow:ellipsis}.link-in-popup-menu{display:flex;padding:5px 5px 5px 10px;border-radius:5px;align-items:center;margin-bottom:4px;box-shadow:inset 0 0 23px -5px #dbdbdb}.link-in-popup-menu:hover{background-color:#f5f5f5}.link-in-popup-menu__link-title{flex-grow:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.link-in-popup-menu__count{float:right;margin-left:10px}.link-in-popup-menu__count.badge{min-width:21px}.link-in-popup-menu__navigate-button{float:right;background-image:url("+i(7)+");width:16px;height:16px;opacity:.5;margin-left:10px;min-width:16px;background-size:cover}.link-in-popup-menu__navigate-button:hover{opacity:1}.link-in-popup-menu__in-direction{background:url("+i(8)+") 0 0 no-repeat;height:15px;margin:0 14px 0 0;width:22px}.link-in-popup-menu__out-direction{background:url("+i(9)+") 0 0 no-repeat;height:15px;margin:0 8px 0 6px;width:22px}.ontodia-connections-menu_links-list__loading{text-align:center;width:100%;position:relative;font-size:x-large;color:#cbcbcb}.ontodia-connections-menu_links-list__hr{margin-top:10px;margin-bottom:10px}.ontodia-connections-menu_objects-panel{flex-grow:1;padding:10px;position:relative;display:flex;flex-direction:column;padding-top:0}.ontodia-connections-menu_objects-panel__select-all{white-space:nowrap;margin-bottom:5px;display:flex}.ontodia-connections-menu_objects-panel__select-all input{display:inline-block}.ontodia-connections-menu_objects-panel__select-all .undefined{opacity:.3}.ontodia-connections-menu_objects-panel__select-all span{margin-left:5px}.ontodia-connections-menu_objects-panel_bottom-panel{height:25px;white-space:nowrap}.ontodia-connections-menu_objects-panel_bottom-panel__count-label{height:25px;float:left;padding:0 5px;font-size:larger;display:flex;align-items:center;max-width:60%}.btn.ontodia-connections-menu_objects-panel_bottom-panel__add-button{height:25px;padding-top:1px;padding-bottom:2px}.ontodia-connections-menu_objects-panel_objects-list{border:1px solid gray;height:0;flex-grow:1;box-shadow:inset 0 0 23px -8px gray;background-color:#f5f5f5;overflow-x:hidden;overflow-y:scroll;margin-bottom:5px}.ontodia-overlayed-element{cursor:move;outline:none}.ontodia-exported-element,.ontodia-overlayed-element{box-sizing:border-box;color:#000;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;line-height:1.42857143}.ontodia-exported-element img,.ontodia-overlayed-element img{vertical-align:middle}.link .connection{fill:none}.link .connection-wrap{fill:none;opacity:0}.ontodia-halo{position:absolute;pointer-events:none}.ontodia-halo__navigate{position:absolute;background-size:cover;cursor:pointer;pointer-events:auto;opacity:.5;transition:opacity .3s;width:16px;height:16px;bottom:calc(50% - 10px);right:-17px;margin-left:-8px}.ontodia-halo__navigate:hover{opacity:1}.ontodia-halo__navigate--open{background-image:url("+i(10)+")}.ontodia-halo__navigate--closed{background-image:url("+i(11)+")}.ontodia-halo__delete{position:absolute;background-size:cover;cursor:pointer;pointer-events:auto;opacity:.5;transition:opacity .3s;width:16px;height:16px;background-image:url("+i(12)+");top:-16px;right:-16px}.ontodia-halo__delete:hover{opacity:1}.ontodia-halo__expand{position:absolute;background-size:cover;cursor:pointer;pointer-events:auto;opacity:.5;transition:opacity .3s;width:16px;height:16px;bottom:-17px;left:50%;margin-left:-8px}.ontodia-halo__expand:hover{opacity:1}.ontodia-halo__expand--open{background-image:url("+i(13)+")}.ontodia-halo__expand--closed{background-image:url("+i(14)+")}.ontodia-halo__add-to-filter{position:absolute;background-size:cover;cursor:pointer;pointer-events:auto;opacity:.5;transition:opacity .3s;width:16px;height:16px;background-image:url("+i(15)+");bottom:-17px;right:-17px}.ontodia-halo__add-to-filter:hover{opacity:1}.paper-area{flex:auto;cursor:default;overflow:scroll;-webkit-transform:translateZ(0);transform:translateZ(0);background-image:url("+i(16)+")}.paper-area .paper{margin:0;position:relative;display:inline-block;border:1px solid #000;background-color:#fff}.uiElementView__iri{fill:#969696;font-size:smaller}.ontodia-spinner__arrow{animation-name:ontodia-spinner-rotation;animation-duration:1.5s;animation-timing-function:cubic-bezier(.645,.045,.355,1);animation-iteration-count:infinite}.ontodia-spinner[data-error=true] .ontodia-spinner__arrow{animation-iteration-count:1}@keyframes ontodia-spinner-rotation{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ontodia-class-tree{flex:auto;display:flex;flex-direction:column}.ontodia-class-tree__filter{flex-shrink:0;margin:10px 0}.ontodia-class-tree__filter-group{margin-left:10px;margin-right:10px}.ontodia-class-tree__rest{height:0;flex-grow:1;overflow-y:scroll;border-top:1px solid #ddd}.ontodia-class-tree .jstree-icon.default-tree-icon:after{content:url("+i(17)+");max-width:19px;max-height:19px;margin:2px}.ontodia-class-tree .ontodia-icon{display:inline-block;width:1em;height:1em;background-size:auto 100%;vertical-align:middle}.ontodia-class-tree .jstree-icon.parent-tree-icon:after{content:url("+i(18)+');max-width:19px;max-height:19px;margin:2px}.ontodia-instances-search{flex:auto;display:flex;flex-direction:column}.ontodia-instances-search__criteria{flex-shrink:0;margin:10px 0}.ontodia-instances-search__criterions{padding-left:15px;margin-bottom:10px}.ontodia-instances-search__criterions:empty{margin-bottom:0}.ontodia-instances-search__criterion{display:block;position:relative;width:100%}.ontodia-instances-search__criterion-class{border:1px dashed #000;background:#ffd221;padding:0 .5em;word-wrap:break-word}.ontodia-instances-search__criterion-element{border:1px dashed #000;background:#ff835c;padding:0 .5em;word-wrap:break-word}.ontodia-instances-search__criterion-link-type{border:1px dashed #000;background:#caffce;padding:0 .5em;word-wrap:break-word}.ontodia-instances-search__criterion-remove{float:right;margin:0 10px 4px 4px}.ontodia-instances-search__text-criteria{margin:0 10px}.ontodia-instances-search__rest{height:0;flex-grow:1;overflow-y:scroll;border-top:1px solid #ddd}.ontodia-instances-search__results{padding-left:0;padding-top:10px;margin:0 10px}.ontodia-instances-search[data-state=finished] .ontodia-instances-search__results:empty:before{content:"No items correspond to the specified criteria.";font-style:italic}.ontodia-instances-search__rest-end{margin:5px 10px 15px}.ontodia-instances-search__load-more{width:100%}.link-types-toolbox{flex:auto;display:flex;flex-direction:column;margin-bottom:0}.link-types-toolbox__heading{padding:10px}.link-types-toolbox__searching-box{display:flex;align-items:center}.link-types-toolbox__clearSearch{margin-left:-25px;-webkit-appearance:none;padding:0;cursor:pointer;background:0 0;border:0}.link-types-toolbox__switch-all{margin-top:5px}.link-types-toolbox__rest{border-top:1px solid #ddd;flex:auto;display:flex;flex-direction:column}.link-types-toolbox .panel-heading{flex-shrink:0;-webkit-flex-shrink:0}.link-types-toolbox .link-lists{flex:auto;height:0;overflow-y:scroll}.link-types-toolbox ul{margin-bottom:0}.link-types-toolbox .links-heading{margin-left:.4em}.link-types-toolbox .links-heading span{border:1px dashed #000;background:#ff835c;padding:0 .5em;word-wrap:break-word;line-height:1.3}.link-types-toolbox__heading .link-types-toolbox-controls{padding:5px 15px;font-size:14px;font-style:italic}.link-types-toolbox__heading .link-types-toolbox-controls>span{padding-left:.3em}.list-group .linkInToolBox{padding:0 0 0 5px;word-break:break-word}.linkInToolBox>div{display:inline}.linkInToolBox .badge,.linkInToolBox .label{margin-left:.5em;white-space:normal;word-wrap:normal}.linkInToolBox .badge{display:none}.connected-links .linkInToolBox .badge{display:inline}.linkInToolBox .link-title{font-size:16px;color:#000;display:inline}.linkInToolBox .btn-group{float:left;margin-top:2px;margin-right:6px;margin-bottom:2px}.linkInToolBox .btn.btn-default{border-color:#c3c3c3}.linkInToolBox .filter-button{display:none;float:right;margin:3px;cursor:pointer;opacity:.4;transition:opacity .2s 0ms}.linkInToolBox:hover .filter-button{opacity:1;transition:opacity .2s 0ms}.connected-links .linkInToolBox .filter-button{display:inline}.linkInToolBox .filter-button img{content:url('+i(15)+");width:20px;height:20px}.link-in-popup-menu .filter-button img{opacity:.4;margin-left:10px;content:url("+i(15)+');width:20px;height:20px}.link-in-popup-menu .filter-button img:hover{opacity:1}.ontodia-list-element-view{display:block;background:gray;padding:1px 1px 1px 20px;border-radius:10px;margin:0 0 2px;opacity:1;cursor:move}.ontodia-list-element-view--disabled{opacity:.4;cursor:default}.ontodia-list-element-view__label{background:#fff;border-radius:10px;font-family:Andale Mono,sans-serif;font-size:15px;min-height:1.3em;padding-left:7px;padding-right:5px;overflow-wrap:break-word}.stateBasedProgress .progress{flex-shrink:0;-webkit-flex-shrink:0;width:100%;border-radius:0;margin-bottom:0}.stateBasedProgress:not([data-state]) .progress{height:0}.stateBasedProgress[data-state=error] .progress,.stateBasedProgress[data-state=querying] .progress{transition:height .3s .3s}.stateBasedProgress[data-state=error] .progress-bar{background-color:#e72f2f}.stateBasedProgress[data-state=finished] .progress{height:0;transition:height .2s 0ms}.ontodia-toolbar__language-selector{padding:5px;margin-top:4px}.ontodia-toolbar__language-selector>label>span{vertical-align:middle}.ontodia-toolbar{background:rgba(0,0,0,.15)}.ontodia-toolbar>.btn-group{margin-left:10px}.ontodia-toolbar>.btn-group>button{margin-top:5px;margin-bottom:5px}.ontodia-toolbar .ontodia-toolbar__redo,.ontodia-toolbar .ontodia-toolbar__undo{display:none}.ontodia-accordion{flex:auto;flex-direction:column;height:100%}.ontodia-accordion:not(.ontodia-accordion--resizing) .ontodia-accordion-item{transition:height .3s ease-in-out}.ontodia-accordion-item{display:flex;flex-direction:column;position:relative;border-top:1px solid #d3d3d3}.ontodia-accordion-item__handle{position:absolute;height:5px;bottom:-2.5px;left:0;width:100%;z-index:2;cursor:ns-resize}.ontodia-accordion-item__inner{overflow:hidden}.ontodia-accordion-item__body,.ontodia-accordion-item__inner{flex:auto;display:flex;flex-direction:column}.ontodia-accordion-item__header{padding-left:20px;position:relative;flex-shrink:0;font-size:16px;background:#e4e4e4;cursor:default;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ontodia-accordion-item__header:before{border-top:6px solid #555;border-left:3.5px solid transparent;border-right:3.5px solid transparent;content:"";position:absolute;top:50%;left:7px;margin-top:-3px;transition:.1s}.ontodia-accordion-item--collapsed .ontodia-accordion-item__header:before{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.ontodia-accordion-item--collapsed .ontodia-accordion-item__body{display:none}.ontodia-drag-resizable-column{display:flex;flex-direction:column;position:relative}.ontodia-drag-resizable-column__handle{background:#fff url('+i(19)+') repeat;height:100%;position:absolute;top:0;width:8px;z-index:2;transition:.3s;cursor:ew-resize}.ontodia-drag-resizable-column__handle-btn{background:#eee;cursor:pointer;height:40px;position:absolute;top:50%;left:0;margin-top:-20px;width:100%;z-index:1;transition:.3s}.ontodia-drag-resizable-column__handle-btn:before{background-position:0 0;background-repeat:no-repeat;background-size:cover;content:"";height:6px;position:absolute;top:50%;left:50%;margin-top:-3px;margin-left:-3px;width:6px;transition:.3s}.ontodia-drag-resizable-column__handle-btn:hover{background:#b3b3b3;transform:scale(1.2)}.ontodia-drag-resizable-column--closed .ontodia-drag-resizable-column__handle-btn:before{transform:rotate(180deg)}.ontodia-drag-resizable-column--docked-left{margin-right:8px}.ontodia-drag-resizable-column--docked-left .ontodia-drag-resizable-column__handle{right:-8px}.ontodia-drag-resizable-column--docked-left .ontodia-drag-resizable-column__handle-btn:before{background-image:url('+i(20)+")}.ontodia-drag-resizable-column--docked-left .ontodia-drag-resizable-column__handle-btn:hover:before{background-image:url("+i(21)+")}.ontodia-drag-resizable-column--docked-right{margin-left:8px}.ontodia-drag-resizable-column--docked-right .ontodia-drag-resizable-column__handle{left:-8px}.ontodia-drag-resizable-column--docked-right .ontodia-drag-resizable-column__handle-btn:before{background-image:url("+i(22)+")}.ontodia-drag-resizable-column--docked-right .ontodia-drag-resizable-column__handle-btn:hover:before{background-image:url("+i(23)+')}.ontodia{display:flex;flex-direction:column;height:100%;box-sizing:border-box}.ontodia__header{display:flex;flex-direction:column;flex:0 0 auto}.ontodia__main-panel,.ontodia__workspace{display:flex;flex:auto;overflow:hidden}.ontodia__main-panel{width:0}.ontodia--unselectable{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ontodia--horizontal-resizing *{cursor:ew-resize!important}.ontodia--vertical-resizing *{cursor:ns-resize!important}.ontodia-default-icon:after{content:"\\25EF";font-size:12px}.ontodia-class-icon:after,.ontodia-default-icon:after{min-width:10px;min-height:10px;border-radius:100px;overflow:hidden;font-style:normal}.ontodia-class-icon:after{content:"C";font-weight:700}.jstree-icon.jstree-themeicon-custom.ontodia-tree-icon.ontodia-class-icon{color:#eaac77;background-color:#fff6f0;border:1px solid #d99292}.ontodia-object-property-icon:after{content:"OP";font-weight:700;min-width:10px;min-height:10px;border-radius:100px;overflow:hidden;font-style:normal}.jstree-icon.jstree-themeicon-custom.ontodia-tree-icon.ontodia-object-property-icon{font-size:11px;color:#34c7f3;border:1px solid #2dd6e6}.ontodia-datatype-property-icon:after{content:"DP";font-weight:700;min-width:10px;min-height:10px;border-radius:100px;overflow:hidden;font-style:normal}.jstree-icon.jstree-themeicon-custom.ontodia-tree-icon.ontodia-datatype-property-icon{font-size:11px;color:#34c7f3}.ontodia-person-icon:after{content:"\\1F464"}.ontodia-country-icon:after,.ontodia-person-icon:after{min-width:10px;min-height:10px;border-radius:100px;overflow:hidden;font-style:normal}.ontodia-country-icon:after{content:"\\2690"}.jstree-icon.jstree-themeicon-custom.ontodia-tree-icon.ontodia-person-icon{color:#eb7777}.ontodia-organization-icon:after{content:"Org";font-weight:700;min-width:10px;min-height:10px;overflow:hidden;font-style:normal}.jstree-icon.jstree-themeicon-custom.ontodia-tree-icon.ontodia-organization-icon{font-size:9px;color:#4c9d6c;background-color:#dcffe2;border:1px solid #69b286}.jstree-default .jstree-icon.jstree-themeicon-custom.ontodia-tree-icon{height:20px;width:20px;line-height:20px}.jstree-icon.jstree-themeicon-custom.ontodia-tree-icon{color:#1573b0;background-color:#f0f8ff;border-radius:15px;border:1px solid #92bdd9;overflow:hidden;font-size:15px}.ontodia-big-icon-container{max-width:400px;float:left}.ontodia-big-icon-template{border-radius:10px;border-style:solid;border-width:1px}.ontodia-big-icon-template_body{margin-left:13px;height:100%;border-radius:3px;border-top-right-radius:10px;border-bottom-right-radius:10px;border-left-style:solid;border-left-width:1px;padding:3px 6px;background:#fff;display:flex;align-items:center;justify-content:space-between;overflow:hidden}.ontodia-big-icon-template_body__label{font-size:19px;white-space:nowrap;font-weight:100;margin-bottom:-7px;width:100%;overflow:hidden;text-overflow:ellipsis}.ontodia-big-icon-template_body_type-container{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:11px;font-style:italic;color:#afafaf;font-weight:100;display:flex}.ontodia-big-icon-template_body_type-container__type{width:0;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ontodia-big-icon-template_body__icon{position:inherit!important;font-size:x-large;margin:5px 6px 5px 15px;display:flex}.ontodia-big-icon-template_property{border-radius:10px;background-color:#fff;margin-top:5px;border:1px solid}.ontodia-big-icon-template_property__image{width:100%;border-top-left-radius:10px;border-top-right-radius:10px;border-bottom:1px solid}.ontodia-big-icon-template_property_content{width:100%;height:100%;padding:9px}.ontodia-big-icon-template_property_content_iri-line{width:100%;overflow:hidden;display:flex}.ontodia-big-icon-template_property_content_iri-line__label{font-size:12px;font-weight:100;margin-right:4px;color:#b6b6b6}.ontodia-big-icon-template_property_content_iri-line__iri{font-size:12px;width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.ontodia-big-icon-template_property_content_iri-line__iri a{color:#b6b6b6}.ontodia-big-icon-template_property_content__hr{margin:5px 0}.ontodia-big-icon-template_property_content_property-table{font-size:15px;font-weight:100;max-height:200px;overflow-y:scroll;overflow-x:hidden}.ontodia-big-icon-template_property_content_property-table_row{white-space:nowrap}.ontodia-big-icon-template_property_content_property-table_row__key,.ontodia-big-icon-template_property_content_property-table_row_key{display:inline-block;width:50%;text-overflow:ellipsis;overflow:hidden;vertical-align:top}.ontodia-big-icon-template_property_content_property-table_row_key_values{display:inline-block;width:50%;text-overflow:ellipsis;overflow:hidden}.ontodia-big-icon-template_property_content_property-table_row_key_values__value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:normal;padding-right:10px}.ontodia-default-template{max-width:450px;float:left;border-radius:12px;border-style:solid;border-width:1px}.ontodia-default-template__thumbnail{text-align:center}.ontodia-default-template__thumbnail>img{max-width:200px;border-bottom:1px solid}.ontodia-default-template[data-expanded=true] .ontodia-default-template__thumbnail>img{max-width:350px}.ontodia-default-template_type-line{padding:0 7px;color:#fff;height:18px;margin-bottom:2px;overflow:hidden;display:flex;align-items:baseline;margin-top:-3px}div.ontodia-default-template_type-line__icon{position:inherit!important;margin-right:4px}.ontodia-default-template_type-line_text-container{flex-grow:1;overflow:hidden;text-overflow:ellipsis;width:0}.ontodia-default-template_type-line_text-container__text{display:inline;white-space:nowrap;font-size:12px}.ontodia-default-template_body{border-bottom-left-radius:12px;border-bottom-right-radius:12px;border-top-style:solid;border-top-width:1px;background:#fff;padding:7px 10px 8px;overflow:hidden;display:flex;flex-direction:column}.ontodia-default-template_body__label{font-size:19px;font-weight:100;overflow:hidden;text-overflow:ellipsis;margin-bottom:0;white-space:nowrap;word-wrap:break-word}.ontodia-default-template_body_expander{width:100%;overflow:hidden;display:flex}.ontodia-default-template_body_expander__iri_label{font-size:12px;font-weight:100;margin-right:15px;color:#b6b6b6}.ontodia-default-template_body_expander_iri{font-size:12px;width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.ontodia-default-template_body_expander_iri__link{color:#b6b6b6}.ontodia-default-template_body_expander__hr{margin:5px 0}.ontodia-default-template_body_expander_property-table{font-size:15px;font-weight:100;margin-bottom:5px;max-height:200px;overflow-y:scroll;overflow-x:hidden}.ontodia-default-template_body_expander_property-table_row{white-space:nowrap}.ontodia-default-template_body_expander_property-table_row__key,.ontodia-default-template_body_expander_property-table_row_key{display:inline-block;width:50%;text-overflow:ellipsis;overflow:hidden;vertical-align:top}.ontodia-default-template_body_expander_property-table_row_key_values{display:inline-block;width:50%;text-overflow:ellipsis;overflow:hidden}.ontodia-default-template_body_expander_property-table_row_key_values__value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:normal;padding-right:10px}.ontodia-left-bar-template{max-width:400px;float:left;border-radius:10px;border-style:solid;border-width:1px}.ontodia-left-bar-template_body{height:100%;border-radius:2px;border-top-right-radius:10px;border-bottom-right-radius:10px;border-left-style:solid;border-left-width:1px;padding:2px 10px 0 6px;margin-left:13px;background:#fff;overflow:hidden}.ontodia-left-bar-template_body__image{width:100%;margin:5px 0;border:1px solid #bdbdbd}.ontodia-left-bar-template_body_type-line{display:flex;overflow:hidden;margin-top:0;margin-bottom:-3px;align-items:baseline}.ontodia-left-bar-template_body_type-line__icon{position:inherit!important;margin-right:4px}.ontodia-left-bar-template_body_type-line__type{white-space:nowrap;font-size:12px;font-weight:100;width:0;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ontodia-left-bar-template_body__label{font-size:19px;white-space:nowrap;font-weight:100;margin-bottom:-3px;width:100%;overflow:hidden;text-overflow:ellipsis}.ontodia-left-bar-template_body_expander{width:100%;overflow:hidden;display:flex}.ontodia-left-bar-template_body_expander__iri_label{font-size:12px;font-weight:100;margin-right:4px;color:#b6b6b6}.ontodia-left-bar-template_body_expander_iri{font-size:12px;width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.ontodia-left-bar-template_body_expander_iri__link{color:#b6b6b6}.ontodia-left-bar-template_body_expander__hr{margin:5px 0}.ontodia-left-bar-template_body_expander_property-table{font-size:15px;font-weight:100;margin-bottom:5px;max-height:200px;overflow-y:scroll;overflow-x:hidden}.ontodia-left-bar-template_body_expander_property-table_row{white-space:nowrap}.ontodia-left-bar-template_body_expander_property-table_row__key,.ontodia-left-bar-template_body_expander_property-table_row_key{display:inline-block;width:50%;text-overflow:ellipsis;overflow:hidden;vertical-align:top}.ontodia-left-bar-template_body_expander_property-table_row_key_values{display:inline-block;width:50%;text-overflow:ellipsis;overflow:hidden}.ontodia-left-bar-template_body_expander_property-table_row_key_values__value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:normal;padding-right:10px}.ontodia-organization-template{border:2px solid;max-width:400px;border-radius:2px}.ontodia-organization-template__properties{width:100%}.ontodia-organization-template_body{height:100%;border-radius:2px;padding:3px 12px;background:#fff;display:flex;align-items:stretch;justify-content:space-between;overflow:hidden;flex-direction:column}.ontodia-organization-template_body__logo{position:inherit!important;font-size:x-large;margin:5px 0;border:1px solid;padding:5px 6px;flex-grow:1;display:flex;justify-content:center;align-items:center}.ontodia-organization-template_body_data{flex-grow:1}.ontodia-organization-template_body_data__types{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:12px;font-weight:100}.ontodia-organization-template_body_data__label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:0}.ontodia-person-container{max-width:400px;float:left}.ontodia-person-template{border-radius:10px;border-style:solid;border-width:1px}.ontodia-person-template_body{margin-left:13px;border-radius:3px;border-top-right-radius:10px;border-bottom-right-radius:10px;border-left-style:solid;border-left-width:1px;padding:3px 12px 3px 0;background:#fff;display:flex;align-items:center;justify-content:space-between;overflow:hidden}.ontodia-person-template_body_main-part__label{font-size:19px;white-space:nowrap;font-weight:100;margin-bottom:-7px;width:100%;overflow:hidden;text-overflow:ellipsis}.ontodia-person-template_body_main-part_type-container{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:11px;font-style:italic;color:#afafaf;font-weight:100;display:flex}.ontodia-person-template_body_main-part_type-container__type{width:0;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ontodia-person-template_body__icon{position:inherit!important;font-size:30px;margin:5px 10px;border:1px solid;flex-grow:0}.ontodia-person-template_body_photo{position:inherit!important;font-size:x-large;margin:5px 8px;border:1px solid;flex-grow:0;height:40px}.ontodia-person-template_body_photo__image{height:100%}.ontodia-person-template_body_main-part{flex-grow:1}.ontodia-person-template_property{border-radius:10px;background-color:#fff;margin-top:5px;border:1px solid}.ontodia-person-template_property_content{width:100%;padding:9px}.ontodia-person-template_property_content_iri-line{width:100%;overflow:hidden;display:flex}.ontodia-person-template_property_content_iri-line__label{font-size:12px;font-weight:100;margin-right:4px;color:#b6b6b6}.ontodia-person-template_property_content_iri-line__iri{font-size:12px;width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.ontodia-person-template_property_content_iri-line__iri a{color:#b6b6b6}.ontodia-person-template_property__image{width:100%;border-top-left-radius:10px;border-top-right-radius:10px;border-bottom:1px solid}.ontodia-person-template_property_content__hr{margin:5px 0}.ontodia-person-template_property_content_property-table{font-size:15px;font-weight:100;max-height:200px;overflow-y:scroll;overflow-x:hidden}.ontodia-person-template_property_content_property-table_row{white-space:nowrap}.ontodia-person-template_property_content_property-table_row__key,.ontodia-person-template_property_content_property-table_row_key{display:inline-block;width:50%;text-overflow:ellipsis;overflow:hidden;vertical-align:top}.ontodia-person-template_property_content_property-table_row_key_values{display:inline-block;width:50%;text-overflow:ellipsis;overflow:hidden}.ontodia-person-template_property_content_property-table_row_key_values__value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:normal;padding-right:10px}',""]);
},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGrSURBVHic7dYxSgNRGEXhGwOuRQyCi1AR3IHoUiwFW21cj5sRC3tFgrExzUBIMmPmP76cD145MxcODyYRyrTgm+dJDpO8F3xbHRdJPpK8JZkVb9l7yxiL32OUQt0YRim0KoZRCqyLYZQRbRrDKCOYZbsYy/Oa5Khgb/MmSZ6yfRBvyg4ZBcgoQEYBMgqQUYCMAmQUIKMAGQXIKEBGATIKkFGAjAJkFKChUY7Hn9w+owAZBcgoQEYBMgqQUYCMAjRJ8hijoBgFyChARgEyCpBRgIwCZBQgowANjXI6/uT2DYkyT3I5/uT2GQXIKEBGATIKkFGAsFEOdvViuEWSlyTfPZ6dJjn72zm6SvKZfjfkuWBv04wBYgwQY4AYA8QYIH1jzJPcFext2pAYtwV7m2YMEGOAGAPEGCDGADEGiDFAjAFiDBBjgBgDxBggxgAxBogxQIwBMiTGTcHephkDxBggxgAxBogxQIwBYgwQY4AYA8QYIMYAMQaIMUCMAWIMkJMkX+kX47pg7164jzcDZ9MoxhjRuijGKLAqijEKdaMYA2AZxRggD/HXVv/FDxh8HInEGLhOAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAPCAYAAADgbT9oAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEXSURBVDiNrZOxSsRAEIZnlhUM2Apn4wMYr9jMcrDVoS9gIQgWNvoI9vcGBzbiA1wnCNYWVwlpMklrERsLrdNpILuWHkdubzf4lTM/Hz8Mg9CDMSZp2/YdAF779gFMpWdZMfPFECsRLcXARlsJFhPRARHt/LsYAMaI+JSm6d5gcZ7n3865+eqMmV8QcZ4kybNSan+bGMPK/qG1PgaAO+fcNTN/9GWIaCm11gtr7ShUbK0FRDxExAUATDflZFEUVzGNlVJHQogHa+2NL7fpeJhl2en6UGs9EULcd113WZZlHS02xuwi4u3qjIhOnHMzKeVZVVWfPikAgO/z1nlrmua8ruufkHCwmJm/IkpEPUgUvsaKiB4HetNfb45Q470etWoAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAPCAYAAADgbT9oAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAETSURBVDiNtZOxSsRAEIb/zW6usVVLObhGPFg2O0kRsPIJLMQHsL9CfAkbK5/g2kOwshWuWghmFwL2tiKWYlIka3FwxcFFL4lfOf/MxzAwjIjeASzRjdPRaDQxxnxvBgLAa57nl12sRPS0LQu6CP/CIGIp5aGUcm9wMef8KAzDxyiKDgYRe+/vjDGlc+4lCIJrzvkDEU0AAET03HPhNUqpcRzHS621FG2NWut7AMe7yL33+4yxRavYWjvbRaqUGgsh5k3TzHrdWGt9BoABQJIkUyHE3Ht/Za0tWjf+DcbYTZqmpqqqk7qub733F865D2D1eb0RQryVZXleFMXXujaEOMuyz83av720ADAlokXH+Whb8APhUU8f59228AAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,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"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAk3SURBVHic7Z1pbFRVFMd/LWpCoIgUZBFbUGRXAXEhmChqIol+UDHRgCsulYign4wxRj65RRFwRRONe9yjoiISQE1MjCBuIAJuWBUo1MqmLaXjhzNThmFmeu575773Zso/OUk/zL333PPve+/ee5ZbQfLRGxielmFpqQZ6ZElPoBXYmW7TAPwB1AO/p/9eB6wEdkSouzMq4lYgD2qBSVlyrGHfbcAPwBdpWQr8bNh/2WAkcA+wEUhFLKuBu4BR3meZcPQGbgO+InoSCslaYBZQ5XHeiUMtMB/YRfwEFJIdwELku1W2GA68AOwlfoNrZR/wMjDI3hzxoTswB2gmfgMHlWbkqe5pa5poUQlMBzYTv0GtpAGoI5mr06I4FlhB/Ab0JYuBAVbG8o1LgO3EbzTf8jdwhZHN2mH56HUFFgDXG/aZwVZkv7AuLT8C25DV0A7EOJXAkcARyH/vQORJrQFOBcYju3prPAPMAFo89B0YfYDPsfvv2wO8DdwCjMbmH6cS2fzVAR9iu8j4BDnOSQSGYrPD3occZVyDn//kXPQErgQ+Qo5Uwuq/ATlnixUTkVdHmIn8CzwOHBex7tkYCTwJ7CbcXBqBCRHr3o4JyPs7DBH3AX2jVrwIqoG5hHudNSHfrEhxMuFWUu8R7xPREWqA5wn+KvsbOCUqZU8k+GtqE3B+VIoaYDLiSwky1wZkQeIV/RCnTxAFXweO8q2gB1QDrxFszr8ip9pecDjwWQCl/sPP3iRq3IDsNVznvww4zIdCjwdQphE4y4cyMWEiskl1tcM8a0WuDqDETyRgXe4BQfdd06wUOAZZNbgMvoESOnwLgIHIP5yLTZrS7ULjA8eBN1FmDp0CqAF+wc02i8IO6vqq+gs4PuygJYQhuH9TpgYdrA/yUdYO1Ix89DobJuHmlm4g4FL4YYdBUsBNASdUDpiNm60edB2gFtk/aAd4LsxsygSvoLfXvzh+4J916PwPSnMHbo1eyDdUa7entB0PR+JktR1fYDGbMsEU9Hbbi+xpOsRjDp2+ZDaV8sEb6O33WEedVQH/KDtrBgabTmU/xuE31KYiPYYPDELvT9lBB2GrM5UdpZBVmA9cijzOT+KHlAok6K0Vw+OMHLic+91YrKM1yk52Akfbz6OdjMw41qRkyMj074uU/ujdwasLdTJW2UEKCfexRi4Z1qTkkuGblEfzjFVI8noX5ygbt2EfFV6IDCtSCpHhk5SR6F3Ac/J18LWy8RJjxTsiIywpHZHhkxStQ29VbsNaZcMUcJmhwloygpKiJcMXKdOU47Yhbo52zFA2/A+77KJxBMsVmY+OFFcyMrIXuyVxD/RL4ANWW88rG71vpCiIweYpx3V9UoKSEeQp7AgfK8c9YJO9VtmozlBR8ENKksgAyVnUjP1DpkEPJK5W08iHj9ySlKSRAWIzzfj7kGwzzlE2aEIiyH3AgpQkkpGZW5NSj4mgPy5Z6knhbMWDGnR+yLa+U9RWKHWZCRLwrPnx/Z6VhnBPStKejGxova9zK8lZ/xZBFCUoUkgxgfkRjLWQ/ct931ij/F3fSvS1ROoDKuOKKEiJkgwQT6IGfQHWo3ucxpirWRy+Xl9RvaayMV6p2/cAW5Q/jiOxxpqUOMgAeQtp9GsAfa5HXFUMrEiJiwyAbkodd4I+brd7lDPIQVhS4iQD5PxPo2dTJdBF2ek+ez2dUHLlLLKg3VC3gb5MUldzNXUIs2FMylNylFLHbaD/hmj3K5awIiNuUvop9dsC+sAGX2EzhWBNRpykjFPqtqGSNCsKRLnszXzEZ3nouw54gmhJqVH+bpMLIf0CKuMKn2RkEDUp2sDqehdCvOdcEw0ZGURJyiDl7zZVIrlyGowNposaYchYQLBYsbr0mL5JGa/8XT3Ameg+OI34deKEdS759NGHQRdkB67R42yQXaTWhTvEg8KWnr4kknKycvxWsk5D1ikbzTRW1ofbNWmk3Kwc+5vsRtp0rMWGivr0gSeJlCXKcQ/IqLpR2ehQoJwbqtHPcXp2w2PQBwZfbqQsSCipS0GXIKGkLk9KKyHyyPPgWoexD0p+WqVsuNxQYdCTEibYWkOKNRkgkToamx4UbA36dIQU9lc7dESKRTpCMVJ8kDEa/VvnjnwdaA/AUvgJQChEimXCTj5SfJAB8HSesQpJwXyb1coOduHnsDGXFB8pbdmk+CKjD1J7WGPL74p1dJOykxTwiP08gP2k+Ez6nIc/MkCOcbR2vLlYR93Rp0W34K+yaCmnRQ9Dv3L8B0XRaJeU3ldNp1IeeAe9/R7SdDgUtw3bRWZTKX1ciN5urTgUenvKoeM/OVR8BuRD7nJ5zYsunQ9ESghpOz9U8wTeQm+vPUiirRMechggRTRevqTCZXWaQu5sdEZvJNZUO0gLaQdLJ8N5uJ3HbSbEdRxTHQZKIQUhfTixkooRuJfQvS7soC7LuBTwG52jTGwtksTkYptFGOyv+uNWnbQzkFKLeyHlBgxDqbQlIrJlI+VZavwEpFi0qz0utlYkiEt0O1LXtlwwCbeFTkYW+lDmMOTqBVdlWiiP6ypuJZjLeRly1YcX9EYuKXFVKoVcipKYq+UcUI1bTd5sWUcEpxijCPbYppBjlsm+FTTEFILf5buNCLcAYwh3KdibUSobAMfhVu41VxqB06JWejz6Gh75pBm5oi5Jr7EBiPshyNVG2U9G1Lk07TiD8BcR70a8gyMj1j0bo5Gixlq3ayHZCpwUse4HYSj64gPFpA25BvUqojnOr0L2V58a6J5CLneJ85/qAPTC9v70FiRsdQZyb6I2U7gYKpCN6mykypvl5cRLMboez9JvfQTy2PvYc+wCVqblt7TUI6u23GuzuyFHFBkZjeS2jMHPpcdzgdsRD2AiMYXgy+JSkkZsw2q9oi/wLvEbzZcsIp408VCoQF5f2uI2pSBbsa1bHAt6APfi5qNPmuwBHkAWL2WDWiTSwuX2nrilBcnULbnXkwsGIwEUYXb5vqUJCZXtTHcyUgXcglRRi5uAjKxCboXu5nHeJYERwJ3ok4aspA34Ergb/3n4KiSxBtVg4FzknOx0hCyLnTpI+vd6JO1iOVLLXlugMhIkkZBcVCEny8OQj2sNUsNwIPmPK/Yiy9MtiC9jK+LfXw18ixxmJhb/A17OkmX7enhTAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAbwAAAG8B8aLcQwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACnSURBVDiNrZPBCcMwDEWfOotH6DQ9Bp89QkbJsQOEjNERcs4GuVq9yMEVbaAogg/mo//xtyVRVfoSkQQ8gLsB4GV4qur6IVBVzESAAuyA/sBuPXLoOvFyIvRYmkkzKH+IG0qLn9y1JyADteOqcZOLkwBG55zNeTBhBQbjsusdAWZH9oLBnavrnQG2L/kOkxOxAtuNCyocIfyIsW8MD9IloxxZJomu8xvGE/MxpEQSogAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIMDxQ3d8lonQAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAEOSURBVEjH7dXNK0RhFAbwXxRyZyIlKwtlMbvZkUIW9rOThezEniIf/4E/UYgkGwskaTI2V51uF/NxZ6LuU+/ivec5z/Pe9+McSpQoUeK/YTgz38AEbgv2WcUkHvKCS2ilY7tA0/VU8w2NPMICHoP5TgGmy0HvBfXviNN4D+TdHkzn8BG05n9LmMJdSNjvwrSOZtjiWruJFdwE86MOTGshr4m1TlddxWsQOW5zwTFnsdtzquAyCJ39wJ3Fc+Cu9HozR3ERBE9zODOZF7FV1FtM8BSET0JsKC0MX7FG0VVuHFeZbR/Bffi22a8SO5Y58/inh/2u70lahVph7A2quVRxnZoeDLqzJTgvG3yJP4dPo59Rw97b1k8AAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIMDx0nu7zDsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAD+SURBVEjH7ZQxa8JQFIU/HFSqXQri1KHQwc2txaLi4N5NHMRNdFeoqPkH/YlFRRBxcVAREakuEQ7RiDWJWHgHAuHl3Pu9e/PuAyOjO1QM+L419BEYAjugdctKlzb08DSChkaBvgCn8v4VFPQBGAjIAsLARNbKQbR3LoCufAs5Kv/0CxoBfiRx74QnCczEU/EKjTv+qXXG+wwsxJvzMjIrSdS5cKMa835NpSNJ0P5DbEritkDh0sAnYCzBzSu6lbahO2Btb+asEsBGoHUP5+MF+JVcr27GN8fJrPkwEVnJt7Q7caSMmKo+3gFFabnrjJeAjwBuvbxbtUZGRkb/R3tcflA+OTpkkAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAuxJREFUeF7t3V1u4jAYhWFu+FkDIHHBGlgZILbBjtN8M/labEywYzs+js8rHYFUqGo/6twNXTHGWIVdLpduv993x+ORm3Fy53L3A8Nf8sX+gSuw4e7NCFJuBAEbQcBGELARBGxOkNPp9PZCbp4Nd2/2eDy67Xb79mIu7+TO5e775+/d7/dut9u9vYnLM7lrufP++eeIMs+8MDSi5F0QhkaUPJuEoREl7aIwNKKkWRIMjShxS4qhEWXasmBoRAlbVgyNKH6bBUMjyvhmxdCI4l4RDI0o5opiaET5PwgMrXUUKAytVRRIDK01FGgMrRWUKjC0paNUhaEtFaVKDG1pKFVjaEtBWQSGVjvKojC0WlEWiaHVhrJoDK0WlCYwNHSUpjA0VJQmMTQ0lKYxNBQUSIyu697mkXEwa16VRoHCcCHoPDMOZ827UihwvxkuCFlAxgGtBTU3ChyGFIkhGYe0FtxcKJAYUiSGZBzU2qRyo8BiSIggUi4UaAwJFURKjQKPISGDSKlQqsCQEEHsn+N2u3Xr9dr+3t6T98r36J/jVwOIJJ8r1T9M2vDeOqoFJOajP5wfXYGaHp4gIDlAfg9SYP8iyPBIEIAIAhZBwCIIWAQBiyBgKcQLSGjG4a1NiiAEwYkgYCGCuCKIf8bhrSWLIP4Zh7eWLIL4ZxzeWrKaBZmAYhzeWrKaBpEFZBzeWrKaB5F5ZhzeWrIIMswj4/DWkkWQl33JOLy1ZBHEsZIRZGQlIkjCpYgggfvU2NdCIojnvuXzGp8I8mW+hbx2LIIkXIqaAaklgoDVDIjrn5gciy0GxPl3AlFzXV6OxTYVZPTvBCLmurwci20KSDX/je011+XlWGyhIFViSK7Ly7HYQkCqxZBcl5djsfmCVI0huS4vx2LzAakeQ3JdXo7F9g1kERiS6/JyLLYxkMVg1NQnEGIUygVCjILZIMQo3CsIMQBSEGKAdDgcus1mQwyUzudzd71eiYHS8/kkBpu71eoHWjSksuGbaS0AAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,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"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABFAAAARQB+zng/wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAMVSURBVDiNjZRvTNR1HMdfn+/vvJt3IHfcnSTeAREQbREeQhkKufRBOCOHbmRsrlabbT3qoC2f9MQnLQ236kkP2sqRPEjEZrixtcXFMkJKg8bsMP4YKHfHf9BTvPt9e8BygDB9P/tu7/fr+/7+FdZQRrB1jylSB1QAbsCu4bqge7RW30w0VneA6OUZWT7Y/EHrU9qU00B5SZaLynwvPtdGTFNzYzpOKBylb2wWoENr8+hEY034IZC3/twuUG0Bv3PTxzXFBPzOtcpyeXiKD1t76RubnREl+6MnXvvlAchdf6FQkew6GPClffZ6gA2G4veRaVqujBKOzGO1KIq2plFbmkWux8G9hMnRph4u/nVrTpnJQOTUwUEBLd767ztezHVXtry7E601DWf/pPnyjYfaWA3FsapneG93HosJk32f/0zv6GxnrPFApeFu2P6yIXzU/M4OvKk2gt9dXRMCkNSaUDiGy26lLCedIp+Tpt9Gsu07a0NK6eSRinwPBRmpdA9PrQtZruNt/UzdXiTgd/J8TjqipU5ppLQizwvA2T9GHwkBiN9P8kPfTQAq870Au5RonsxKtwMQjsw/Fgjg7/Elb6ZzI8AWhZBImEt3S8n6wdVSssys2aBARwZjCwAUbU17bFCxb8l7PboAwqACOn+8FgHgjbLslTOto3SHlapnt6A1tPePA7pbmWJ8e/XfGToHYjz9RCrBvQWPXNKnh7bhsFlo7x/nn9gC2tSnjfil5iFH+eG9XUOTWbWlWewpzMBmMegamiRprniXuOxWvjhcwv7nMonN3+PNr7uZv5v4aaLxwHEByHi/JddUxpVtfuemM2/vwJNiY3zuLhd6bzIQXUCAYp+T6uJMUmwWxmbi1H3VRf+tuWmU8ULsxKsDDzZkc/B8uRba3Ck257FXCjlU4sduNVY0urOY5Ez3CJ+0X2Mmfn9WxKyKnqz5FVZ9I57guQIR9SWwO8VmYXu2ixy3A61hePI2PSNT3FlMgkhIIW9FTlYP/Z9d44i0eBrOvyRajgBlQB4QB6JApzbNpolTNaHVqf8ARlgnkHoNeJ8AAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABFAAAARQB+zng/wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAALlSURBVDiNpZJfbFNlGMZ/3zmnpactHQM62rotGkiYkLkBCSxDEwUSjPLPDINKNCR4oRfGEOXvBZkSiAiES7iSGzRagxAShQsywQsTEZYMBDa3wTo3Wwcl6zbWnvac83KzwsamDnjunjzf8/ve78ureFTxuB5JPN+giVovSD0wdSRpBc458FXfturOcT1AjTbRg1cW4arjhqaqXn42yJJyP6WmgSNC6x2Ls+0DJAcLtlIc9t4L7u5qfC43ISx24MpaEfXdyjmhKZ8vi1BR4h13syNC/I9+9pxPkcnZTYVhfe3txvlDY2CR/dcWK+Ve+Kgu7Nvx0ixcEX5sG+BM+wB/ZfKEfDr1FQE2vjCdUlOn467FhngXycHCieS26vUPYY0/G1H/zN/XzC2pPbqmgrtZh82nuvmt5964yWb4DY6urmBpZYDmZJY3vrlJXmRDamt1HECLmWWvTTFU7WfLozgibDqZmBAEkB62ee+HBO1pi4VRk7eqS1Gwq5hrrnLfWTknxKyAwcnrGS71Dk8IKipbcNn7SwqATQumg1AT298yF0BTohYsKQ8AcLo185+goppuDjGUd6kK+5jm0wFVD6ChpLI85AHgVn9+UjDbFbr78yigLGCA0sIAhgLLssUH4NXHrB0iLm4m+cBr/lKU1w+AZ+SsIyAiOoAhSE9bOleyihC1EZMbt0ftoW1htTU9sJ7YPLRQjKBXI9HjpasbOhMJCpmkWdLw6QoV/fLqkZqI+cGZd2fTksry+vFOXBmZzM6Rvfz9pJ4OoIlox1pSWS50DVETMfm4rmxUrP61OCEstX3+ReCnT872kh622fpiGXuWRwl6tccCAWgABY/+/t+DhX8avr1FdybP5oUzaP6wisOvPvP4sDtb5iURXvkzbfUuO9bBoV/7GLQcVsye+n/9MRrzKZF9zWHl8RxC2KhAi5ouHee/fjJYUbEvrlWinLcdO1uXaz6x7qlgRQXf3BnWXadvsrD7GWEY24DVLIMAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAHElEQVQIW2PcvHnzf19fX0YGKIAzMARgKjFUAABdvQgFy9518AAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAACXSURBVHjaYvz//z8DIbBlyxYmIDUTiI/6+PgsQJZjJGQAVPMcIE4E4n9AnAA0ZDFRBqBphoELQGwKNOQPiMNEoubLQOwG04zTADyanYGaXyOrZaJEM4YBpGpGMYAczXgDkVgANwBoCyiOU4B4PpK8LhDvBbpOlCgXkGMIhhdINQRrGJBiCO2SMg6XgPh9yEmZkdLsDBBgAMUxZ3KEE1BeAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAACXSURBVHjaYvz//z8DIfD+/XsmIDUTiI8KCgouQJZjJGQAVPMcIE4E4n9AnAA0ZDFRBqBphoELQGwKNOQPiMNEoubLQOwG04zTADyanYGaXyOrZaJEM4YBpGpGMYAczXgDkVgANwBoCyiOU4B4PpK8LhDvBbpOlCgXkGMIhhdINQRrGJBiCO2SMg6XgPh9yEmZkdLsDBBgAKQBZhCkUF/8AAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAACdSURBVHjaYvz//z8DMtiyZUsCkLIG4nQfH59/DAQAI7IBQM2xQGoBEDMB8XwgTiFkCNwAoGYWIHUaiA2Q5AkawgRjABX9AVJuQHwZST4RiOcADWciaADUkNdAypkUQzAESTUEq6mkGILTb8QawsRAIcBpANAWUSC1F4h18UUrEyWasRpAimYMA0jVTJOk3AfE/4jVjJEbycnOAAEGABIyZ3LVo9KqAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAACeSURBVHjaYvz//z8DMnj//n0CkLIG4nRBQcF/DAQAC5rmWCA1F4iZgJgZyE8hZAgjzAVAxSDDTgOxAZL8fCDGawgTjAFU9AdIuQHxZST5RCCeAzSciaABUENeAylnUgzBECTVEKymkmIITr8RawgTA4UApwFAW0SB1F4g1sUXrUyUaMZqACmaMQwgVTNNknIfEP8jVjOKC8jNzgABBgBosmVE6sxD1QAAAABJRU5ErkJggg=="},function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},a=i(25),n="ontodia-default-template",o=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e,t=this.props,i={borderBottomColor:t.color},r=t.imgUrl?a.createElement("div",{className:n+"__thumbnail"},a.createElement("img",{src:t.imgUrl,style:i})):void 0;e=t.propsAsList&&t.propsAsList.length>0?a.createElement("div",{className:"ontodia-default-template_body_expander_property-table"},t.propsAsList.map(function(e){var t=e.property.values.map(function(e,t){var i=e.text;return a.createElement("div",{className:"ontodia-default-template_body_expander_property-table_row_key_values__value",key:t,title:i},i)});return a.createElement("div",{key:e.id,className:"ontodia-default-template_body_expander_property-table_row"},a.createElement("div",{title:e.name+" ("+e.id+")",className:"ontodia-default-template_body_expander_property-table_row__key"},e.name),a.createElement("div",{className:"ontodia-default-template_body_expander_property-table_row_key_values"},t))})):a.createElement("div",null,"no properties");var o=t.isExpanded?a.createElement("div",null,a.createElement("div",{className:"ontodia-default-template_body_expander"},a.createElement("div",{className:"ontodia-default-template_body_expander__iri_label"},"IRI:"),a.createElement("div",{className:"ontodia-default-template_body_expander_iri"},a.createElement("a",{className:"ontodia-default-template_body_expander_iri__link",href:t.iri,title:t.iri},t.iri))),a.createElement("hr",{className:"ontodia-default-template_body_expander__hr"}),e):void 0;return a.createElement("div",{className:"ontodia-default-template",style:{backgroundColor:t.color,borderColor:t.color},"data-expanded":this.props.isExpanded},a.createElement("div",{className:"ontodia-default-template_type-line",title:t.label},a.createElement("div",{className:t.icon+" ontodia-default-template_type-line__icon","aria-hidden":"true"}),a.createElement("div",{title:t.types,className:"ontodia-default-template_type-line_text-container"},a.createElement("div",{className:"ontodia-default-template_type-line_text-container__text"},t.types))),r,a.createElement("div",{className:"ontodia-default-template_body",style:{borderColor:t.color}},a.createElement("label",{className:"ontodia-default-template_body__label",title:t.label},t.label),o))},t}(a.Component);t.DefaultTemplate=o},function(t,i){t.exports=e},function(e,t){"use strict";t.DefaultElementTemplate='\n<div class="ontodia-default-template" style="background-color: {{color}};">\n    <div class="ontodia-default-template_type-line">\n        <div class="\n            {{icon}}\n            ontodia-default-template_type-line__icon"\n            aria-hidden="true">\n        </div>\n        <div title="{{types}}" class="ontodia-default-template_type-line_text-container">\n            <div class="ontodia-default-template_type-line_text-container__text">{{types}}</div>\n        </div>\n    </div>\n    {{#if imgUrl}}\n        <img src="{{imgUrl}}" class="ontodia-default-template__image" style="border-color: {{color}};"/>\n    {{/if}}\n    <div class="ontodia-default-template_body">\n        <label class="ontodia-default-template_body__label" title="{{label}}">\n            {{label}}\n        </label>\n        {{#if isExpanded}}\n            <div class="ontodia-default-template_body_expander">\n                <div class="ontodia-default-template_body_expander__iri_label">\n                    IRI:\n                </div>\n                <div class="ontodia-default-template_body_expander_iri">\n                    <a class="ontodia-default-template_body_expander_iri__link" href="{{iri}}" title="{{iri}}">\n                        {{iri}}\n                    </a>\n                </div>\n            </div>\n            \n            <hr class="ontodia-default-template_body_expander__hr">\n            {{#if propsAsList.length}}\n                <div class="ontodia-default-template_body_expander_property-table">\n                    {{#each propsAsList}}\n                        <div  class="ontodia-default-template_body_expander_property-table_row">\n                            <div class="ontodia-default-template_body_expander_property-table_row__key"\n                                title="{{name}} ({{id}})">\n                                {{name}}\n                            </div>\n                            <div class="ontodia-default-template_body_expander_property-table_row_key_values">\n                                {{#each property.values}}\n                                    <div \n                                    class="ontodia-default-template_body_expander_property-table_row_key_values__value"\n                                    title="{{text}}">\n                                        {{text}}\n                                    </div>\n                                {{/each}}\n                            </div>\n                        </div>\n                    {{/each}}\n                </div>\n            {{else}}\n                no properties\n            {{/if}}\n        {{/if}}\n    </div>\n</div>\n',t.LeftBarTemplate='\n    <div class="ontodia-left-bar-template"\n         style="background-color: {{color}}; border-color: {{color}}">\n        <div class="ontodia-left-bar-template_body" style="border-left-color: {{color}}">\n            {{#if imgUrl}}\n                <img src="{{imgUrl}}" class="ontodia-left-bar-template_body__image"/>\n            {{/if}}\n            <div class="ontodia-left-bar-template_body_type-line">\n                <div class="{{icon}} ontodia-left-bar-template_body_type-line__icon" \n                    aria-hidden="true" \n                    style="color: {{color}};">\n                </div>\n                <div title="{{types}}" class="ontodia-left-bar-template_body_type-line__type">\n                    {{types}}\n                </div>\n            </div>\n            <span title="{{label}}" class="ontodia-left-bar-template_body__label">\n                {{label}}\n            </span>\n            {{#if isExpanded}}\n                <div class="ontodia-default-template_body_expander">\n                    <div class="ontodia-default-template_body_expander__iri_label">\n                        IRI:\n                    </div>\n                    <div class="ontodia-default-template_body_expander_iri">\n                        <a class="ontodia-default-template_body_expander_iri__link" href="{{iri}}" title="{{iri}}">\n                            {{iri}}\n                        </a>\n                    </div>\n                </div>\n                \n                <hr class="ontodia-default-template_body_expander__hr">\n                {{#if propsAsList.length}}\n                    <div class="ontodia-default-template_body_expander_property-table">\n                        {{#each propsAsList}}\n                            <div  class="ontodia-default-template_body_expander_property-table_row">\n                                <div class="ontodia-default-template_body_expander_property-table_row__key"\n                                    title="{{name}} ({{id}})">\n                                    {{name}}\n                                </div>\n                                <div class="ontodia-default-template_body_expander_property-table_row_key_values">\n                                    {{#each property.values}}\n                                    <div \n                                    class="ontodia-default-template_body_expander_property-table_row_key_values__value"\n                                        title="{{text}}">\n                                        {{text}}\n                                    </div>\n                                    {{/each}}\n                                </div>\n                            </div>\n                        {{/each}}\n                    </div>\n                {{else}}\n                    no properties\n                {{/if}}\n            {{/if}}\n        </div>\n    </div>\n',
t.BigIconTemplate='\n<div class="ontodia-big-icon-container">\n    <div class="ontodia-big-icon-template" \n        style="background-color: {{color}}; border-color: {{color}}">\n        <div class="ontodia-big-icon-template_body" style="border-left-color: {{color}}">\n            <div style="flex-grow: 1; text-overflow: ellipsis; overflow: hidden;">\n                <span title="{{label}}" class="ontodia-big-icon-template_body__label">\n                    {{label}}\n                </span>\n                <div title="{{types}}" class="ontodia-big-icon-template_body_type-container">\n                    <div class="ontodia-big-icon-template_body_type-container__type">{{types}}</div>\n                </div>\n            </div>\n            <div class="{{icon}} ontodia-big-icon-template_body__icon" aria-hidden="true" \n                style="color: {{color}}">\n            </div>\n        </div>\n    </div>\n    {{#if isExpanded}}\n        <div class="ontodia-big-icon-template_property" style="border-color: {{color}}">\n        {{#if imgUrl}}\n            <img src="{{imgUrl}}" \n                class="ontodia-big-icon-template_property__image" \n                style="border-color: {{color}}"\n            />\n        {{/if}}\n        <div class="ontodia-big-icon-template_property_content">\n            <div class="ontodia-big-icon-template_property_content_iri-line">\n                <div class="ontodia-big-icon-template_property_content_iri-line__label">\n                    IRI:\n                </div>\n                <div class="ontodia-big-icon-template_property_content_iri-line__iri">\n                    <a href="{{iri}}" title="{{iri}}">{{iri}}</a>\n                </div>\n            </div>\n            \n            <hr class="ontodia-big-icon-template_property_content__hr">\n            {{#if propsAsList.length}}\n                <div class="ontodia-big-icon-template_property_content_property-table">\n                    {{#each propsAsList}}\n                        <div  class="ontodia-big-icon-template_property_content_property-table_row">\n                            <div class="ontodia-big-icon-template_property_content_property-table_row__key"\n                                title="{{name}} ({{id}})">\n                                {{name}}\n                            </div>\n                            <div class="ontodia-big-icon-template_property_content_property-table_row_key_values">\n                                {{#each property.values}}\n                                    <div \n                                class="ontodia-big-icon-template_property_content_property-table_row_key_values__value"\n                                    title="{{text}}">\n                                        {{text}}\n                                    </div>\n                                {{/each}}\n                            </div>\n                        </div>\n                    {{/each}}\n                </div>\n            {{else}}\n                no properties\n            {{/if}}\n        </div>\n        </div>\n    {{/if}}\n</div>  \n',t.PersonTemplate='\n<div class="ontodia-person-container">\n    <div class="ontodia-person-template" \n        style="background-color: {{color}}; border-color: {{color}}">\n        <div class="ontodia-person-template_body" style="border-left-color: {{color}}">\n            {{#if imgUrl}}\n                <div class="ontodia-person-template_body_photo" aria-hidden="true" style="color: {{color}}">\n                    <img \n                        src="{{imgUrl}}" \n                        class="ontodia-person-template_body_photo__image" \n                        style="border-color: {{color}}"\n                    />\n                </div>\n            {{else}}\n                <div class="{{icon}} ontodia-person-template_body__icon" aria-hidden="true" \n                    style="color: {{color}}">\n                </div>\n            {{/if}}\n            <div class="ontodia-person-template_body_main-part">\n                <div title="{{types}}" class="ontodia-person-template_body_main-part_type-container">\n                    <div class="ontodia-person-template_body_main-part_type-container__type">Person</div>\n                </div>\n                <label title="{{label}}" class="ontodia-person-template_body_main-part__label">\n                {{#if (getProperty props "http://xmlns.com/foaf/0.1/name") }}\n                    <label title="{{getProperty props "http://xmlns.com/foaf/0.1/name" }}" \n                        class="ontodia-person-template_body_main-part__label">\n                        \n                        {{getProperty props "http://xmlns.com/foaf/0.1/name" }}\n                    </label>\n                {{else}}\n                    <label title="{{label}}" class="ontodia-person-template_body_main-part__label">\n                        {{label}}\n                    </label>\n                {{/if}}  \n            </div>\n        </div>\n    </div>\n    {{#if isExpanded}}\n        <div class="ontodia-person-template_property" style="border-color: {{color}}">\n        {{#if imgUrl}}\n            <img src="{{imgUrl}}" \n                class="ontodia-person-template_property__image" \n                style="border-color: {{color}}"\n            />\n        {{/if}}\n        <div class="ontodia-person-template_property_content">\n            <div class="ontodia-person-template_property_content_iri-line">\n                <div class="ontodia-person-template_property_content_iri-line__label">\n                    IRI:\n                </div>\n                <div class="ontodia-person-template_property_content_iri-line__iri">\n                    <a href="{{iri}}" title="{{iri}}">{{iri}}</a>\n                </div>\n            </div>\n            \n            <hr class="ontodia-person-template_property_content__hr">\n            {{#if propsAsList.length}}\n                <div class="ontodia-person-template_property_content_property-table">\n                    {{#each propsAsList}}\n                        <div  class="ontodia-person-template_property_content_property-table_row">\n                            <div class="ontodia-person-template_property_content_property-table_row__key"\n                                title="{{name}} ({{id}})">\n                                {{name}}\n                            </div>\n                            <div class="ontodia-person-template_property_content_property-table_row_key_values">\n                                {{#each property.values}}\n                                    <div \n                                class="ontodia-person-template_property_content_property-table_row_key_values__value"\n                                    title="{{text}}">\n                                        {{text}}\n                                    </div>\n                                {{/each}}\n                            </div>\n                        </div>\n                    {{/each}}\n                </div>\n            {{else}}\n                no properties\n            {{/if}}\n        </div>\n        </div>\n    {{/if}}\n</div>  \n',t.OrganizationTemplate='\n<div class="ontodia-organization-template" style="border-color: {{color}}">\n    <div class="ontodia-organization-template_body">\n        <div \n            class="{{icon}} ontodia-organization-template_body__logo"\n            aria-hidden="true"\n            style="color: {{color}};">\n        </div>\n        <div class="ontodia-organization-template_body_data">\n            <div title="{{types}}" class="ontodia-organization-template_body_data__types">\n                Organization\n            </div>\n            {{#if (getProperty props "http://xmlns.com/foaf/0.1/name") }}\n                <label title="{{getProperty props "http://xmlns.com/foaf/0.1/name" }}" \n                    class="ontodia-organization-template_body_data__label">\n                \n                    {{getProperty props "http://xmlns.com/foaf/0.1/name" }}\n                </label>\n            {{else}}\n                <label title="{{label}}" class="ontodia-organization-template_body_data__label">\n                    {{label}}\n                </label>\n            {{/if}}  \n        </div>\n        <div class="ontodia-default-template__properties">\n        {{#if isExpanded}}\n            <div class="ontodia-default-template_body_expander">\n                <div class="ontodia-default-template_body_expander__iri_label">\n                    IRI:\n                </div>\n                <div class="ontodia-default-template_body_expander_iri">\n                    <a class="ontodia-default-template_body_expander_iri__link" href="{{iri}}" title="{{iri}}">\n                        {{iri}}\n                    </a>\n                </div>\n            </div>\n            \n            <hr class="ontodia-default-template_body_expander__hr">\n            {{#if propsAsList.length}}\n                <div class="ontodia-default-template_body_expander_property-table">\n                    {{#each propsAsList}}\n                        <div  class="ontodia-default-template_body_expander_property-table_row">\n                            <div class="ontodia-default-template_body_expander_property-table_row__key"\n                                title="{{name}} ({{id}})">\n                                {{name}}\n                            </div>\n                            <div class="ontodia-default-template_body_expander_property-table_row_key_values">\n                                {{#each property.values}}\n                                    <div \n                                    class="ontodia-default-template_body_expander_property-table_row_key_values__value"\n                                    title="{{text}}">\n                                        {{text}}\n                                    </div>\n                                {{/each}}\n                            </div>\n                        </div>\n                    {{/each}}\n                </div>\n            {{else}}\n                no properties\n            {{/if}}\n        {{/if}}\n        </div>  \n   </div>\n</div>\n'},function(e,t,i){"use strict";var r=i(28),a=i(29),n=i(30),o=i(31),s=i(32),l=function(){function e(){}return e.prototype.simulateNetwork=function(e){var t=200,i=r.cloneDeep(e),a=-Math.log(Math.random())*t;return new Promise(function(e){setTimeout(function(){return e(i)},a)})},e.prototype.classTree=function(){return this.simulateNetwork(a)},e.prototype.classInfo=function(e){var t=e.classIds||[];return this.simulateNetwork(a.filter(function(e){return t.indexOf(e.id)}))},e.prototype.linkTypes=function(){return this.simulateNetwork(n)},e.prototype.linkTypesInfo=function(e){var t=r.keyBy(e.linkTypeIds),i=n.filter(function(e){return t[e.id]});return this.simulateNetwork(i)},e.prototype.elementInfo=function(e){var t=e.elementIds.map(function(e){return o[e]}).filter(function(e){return void 0!==e});return this.simulateNetwork(r.keyBy(t,function(e){return e.id}))},e.prototype.linksInfo=function(e){var t=r.keyBy(e.elementIds),i=r.keyBy(e.linkTypeIds),a=s.filter(function(e){return i[e.linkTypeId]&&t[e.sourceId]&&t[e.targetId]});return this.simulateNetwork(a)},e.prototype.linkTypesOf=function(e){for(var t={},i=0,a=s;i<a.length;i++){var n=a[i];if(n.sourceId===e.elementId||n.targetId===e.elementId){var o=t[n.linkTypeId],l=n.sourceId===e.elementId;o?l?o.outCount++:o.inCount++:t[n.linkTypeId]=l?{id:n.linkTypeId,inCount:0,outCount:1}:{id:n.linkTypeId,inCount:1,outCount:0}}}return this.simulateNetwork(r.map(t))},e.prototype.linkElements=function(e){return this.filter({refElementId:e.elementId,refElementLinkId:e.linkId,linkDirection:e.direction,limit:e.limit,offset:e.offset,languageCode:""})},e.prototype.filter=function(e){if(e.offset>0)return Promise.resolve({});var t={};if(e.elementTypeId)r.each(o,function(i){i.types.indexOf(e.elementTypeId)>=0&&(t[i.id]=i)});else if(e.refElementId)for(var i=e.refElementLinkId?s.filter(function(t){return t.linkTypeId===e.refElementLinkId}):s,a=e.refElementId,n=0,l=i;n<l.length;n++){var d=l[n],c=void 0;if(d.sourceId===a&&"in"!==e.linkDirection?c=d.targetId:d.targetId===a&&"out"!==e.linkDirection&&(c=d.sourceId),void 0!==c){var h=o[c];h&&(t[h.id]=h)}}else{if(!e.text)return Promise.reject(new Error("This type of filter is not implemented"));t=o}if(e.text){var p={},u=e.text.toLowerCase();return r.each(t,function(e){var t=!1;t=e.id.toLowerCase().indexOf(u)>=0||e.label.values.some(function(e){return e.text.toLowerCase().indexOf(u)>=0}),t&&(p[e.id]=e)}),this.simulateNetwork(p)}return this.simulateNetwork(t)},e}();t.DemoDataProvider=l},function(e,i){e.exports=t},function(e,t){e.exports=[{id:"http://www.w3.org/2002/07/owl#Thing",label:{values:[{text:"Thing",lang:"en"},{text:"Вещь",lang:"ru"}]},count:8,children:[{id:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceProvider",label:{values:[{text:"ServiceProvider",lang:""}]},count:2,children:[]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#SimpleProperty",label:{values:[{text:"SimpleProperty",lang:""}]},count:0,children:[{id:"http://ailab.ifmo.ru/dialog/tv/schema#Image",label:{values:[{text:"Image",lang:""}]},count:0,children:[]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#Speed",label:{values:[{text:"Speed",lang:""}]},count:0,children:[]}]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#RTService",label:{values:[{text:"RTService",lang:""}]},count:0,children:[]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#Operation",label:{values:[{text:"Operation",lang:""}]},count:0,children:[{id:"http://ailab.ifmo.ru/dialog/tv/schema#Subscription",label:{values:[{text:"Subscription",lang:""}]},count:0,children:[{id:"http://ailab.ifmo.ru/dialog/tv/schema#Unsubscribe",label:{values:[{text:"Unsubscribe",lang:""}]},count:0,children:[]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#Subscribe",label:{values:[{text:"Subscribe",lang:""}]},count:0,children:[]}]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#Contact",label:{values:[{text:"Contact",lang:""}]},count:0,children:[{id:"http://ailab.ifmo.ru/dialog/tv/schema#TurnOff",label:{values:[{text:"TurnOff",lang:""}]},count:0,children:[]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#Connect",label:{values:[{text:"Соединение",lang:""}]},count:0,children:[]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#Disconnect",label:{values:[{text:"Disconnect",lang:""}]},count:0,children:[]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#TurnOn",label:{values:[{text:"TurnOn",lang:""}]},count:0,children:[]}]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#Observe",label:{values:[{text:"Observe",lang:""}]},count:0,children:[{id:"http://ailab.ifmo.ru/dialog/tv/schema#Disappear",label:{values:[{text:"Disappear",lang:""}]},count:0,children:[]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#Appear",label:{values:[{text:"Appear",lang:""}]},count:0,children:[]}]}]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#Service",label:{values:[{text:"Service",lang:""}]},count:6,children:[{id:"http://ailab.ifmo.ru/dialog/tv/schema#TVChannel",label:{values:[{text:"TVChannel",lang:""}]},count:1,children:[{id:"http://ailab.ifmo.ru/dialog/tv/schema#DigitalTVChannel",label:{values:[{text:"DigitalTVChannel",lang:""}]},count:0,children:[]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#AnalogueTVChannel",label:{values:[{text:"AnalogueTVChannel",lang:""}]},count:0,children:[]}]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceDevice",label:{values:[{text:"ServiceDevice",lang:""}]},count:0,children:[{id:"http://ailab.ifmo.ru/dialog/tv/schema#Battery",label:{values:[{text:"Battery",lang:""}]},count:0,children:[]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#Router",label:{values:[{text:"Router",lang:""}]},count:0,children:[{id:"http://ailab.ifmo.ru/dialog/tv/schema#WiFiRouter",label:{values:[{text:"WiFiRouter",lang:""}]},count:0,children:[]}]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#CamModule",label:{values:[{text:"CamModule",lang:""}]},count:0,children:[]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#TVSet",label:{values:[{text:"TVSet",lang:""}]},count:0,children:[]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#ControlPanel",label:{values:[{text:"ControlPanel",lang:""}]},count:0,children:[]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#Cable",label:{values:[{text:"Cable",lang:""}]},count:0,children:[]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#SetTopBox",label:{values:[{text:"SetTopBox",lang:""}]},count:0,children:[]}]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#All",label:{values:[{text:"All",lang:""}]},count:0,children:[]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#SubscribableService",label:{values:[{text:"SubscribableService",lang:""}]},count:5,children:[{id:"http://ailab.ifmo.ru/dialog/tv/schema#TVService",label:{values:[{text:"TVService",lang:""}]},count:0,children:[{id:"http://ailab.ifmo.ru/dialog/tv/schema#DigitalTVService",label:{values:[{text:"DigitalTVService",lang:""}]},count:0,children:[]}]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#Internet",label:{values:[{text:"Internet",lang:""}]},count:0,children:[]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#ChannelPack",label:{values:[{text:"ChannelPack",lang:""}]},count:5,children:[]}]}]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceDesk",label:{values:[{text:"ServiceDesk",lang:""}]},count:0,children:[]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#PropertyAsGoods",label:{values:[{text:"PropertyAsGoods",lang:""}]},count:0,children:[{id:"http://ailab.ifmo.ru/dialog/tv/schema#Home",label:{values:[{text:"Home",lang:""}]},count:0,children:[{id:"http://ailab.ifmo.ru/dialog/tv/schema#Flat",label:{values:[{text:"Flat",lang:""}]},count:0,children:[]}]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#Phone",label:{values:[{text:"Phone",lang:""}]},count:0,children:[{id:"http://ailab.ifmo.ru/dialog/tv/schema#HomePhone",label:{values:[{text:"HomePhone",lang:""}]},count:0,children:[]}]}]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#User",label:{values:[{text:"User",lang:""}]},count:0,children:[]},{id:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceMan",label:{values:[{text:"ServiceMan",lang:""}]},count:0,children:[]}]},{id:"http://www.w3.org/1999/02/22-rdf-syntax-ns#Property",label:{values:[{text:"Property",lang:""}]},count:3,children:[]},{id:"http://www.w3.org/2000/01/rdf-schema#Datatype",label:{values:[{text:"Datatype",lang:""}]},count:3,children:[]},{id:"http://www.w3.org/2002/07/owl#Class",label:{values:[{text:"Class",lang:""}]},count:44,children:[]},{id:"http://www.w3.org/2002/07/owl#Ontology",label:{values:[{text:"Ontology",lang:""}]},count:1,children:[]},{id:"http://www.w3.org/2002/07/owl#AnnotationProperty",label:{values:[{text:"AnnotationProperty",lang:""}]},count:1,children:[]},{id:"http://www.w3.org/2002/07/owl#ObjectProperty",label:{values:[{text:"ObjectProperty",lang:""}]},count:3,children:[]},{id:"http://www.w3.org/2002/07/owl#DatatypeProperty",label:{values:[{text:"DatatypeProperty",lang:""}]},count:30,children:[]}]},function(e,t){e.exports=[{id:"http://ailab.ifmo.ru/dialog/tv/schema#own",label:{values:[{text:"own",lang:""}]},count:0},{id:"http://www.w3.org/2002/07/owl#disjointWith",label:{values:[{text:"disjointWith",lang:""}]},count:8},{id:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",label:{values:[{text:"type",lang:""}]},count:93},{id:"http://ailab.ifmo.ru/dialog/tv/schema#isClientOf",label:{values:[{text:"isClientOf",lang:""}]},count:0},{id:"http://www.w3.org/2000/01/rdf-schema#domain",label:{values:[{text:"domain",lang:""}]},count:33},{id:"http://www.w3.org/2000/01/rdf-schema#subPropertyOf",label:{values:[{text:"subPropertyOf",lang:""}]},count:2},{id:"http://ailab.ifmo.ru/dialog/tv/schema#rent",label:{values:[{text:"rent",lang:""}]},count:0},{id:"http://www.w3.org/2000/01/rdf-schema#subClassOf",label:{values:[{text:"subClassOf",lang:""}]},count:45},{id:"http://www.w3.org/2000/01/rdf-schema#range",label:{values:[{text:"range",lang:""}]},count:33}]},function(e,t){e.exports={"http://ailab.ifmo.ru/dialog/tv/schema":{id:"http://ailab.ifmo.ru/dialog/tv/schema",types:["http://www.w3.org/2002/07/owl#Ontology"],label:{values:[{text:"schema",lang:""}]},properties:{"http://www.w3.org/2002/07/owl#versionInfo":{type:"string",values:[{text:"Created with TopBraid Composer",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#ortChannel":{id:"http://ailab.ifmo.ru/dialog/tv/schema#ortChannel",types:["http://ailab.ifmo.ru/dialog/tv/schema#TVChannel"],label:{values:[{text:"ortChannel",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"орт",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#Battery":{id:"http://ailab.ifmo.ru/dialog/tv/schema#Battery",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"Battery",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"батарейка",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#rostelekom":{id:"http://ailab.ifmo.ru/dialog/tv/schema#rostelekom",types:["http://ailab.ifmo.ru/dialog/tv/schema#ServiceProvider"],label:{values:[{text:"rostelekom",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"ростелеком",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#problemStated":{id:"http://ailab.ifmo.ru/dialog/tv/schema#problemStated",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"problemStated",lang:""}]},properties:{}},"http://ailab.ifmo.ru/dialog/tv/schema#hdPremiumChannelPack":{id:"http://ailab.ifmo.ru/dialog/tv/schema#hdPremiumChannelPack",types:["http://ailab.ifmo.ru/dialog/tv/schema#ChannelPack"],label:{values:[{text:"hdPremiumChannelPack",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"эйчди-премиум",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#subscriberName":{id:"http://ailab.ifmo.ru/dialog/tv/schema#subscriberName",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"subscriberName",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Имя человека, на которого оформлен договор.",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"оформлять",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#encryptedSignal":{id:"http://ailab.ifmo.ru/dialog/tv/schema#encryptedSignal",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"encryptedSignal",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"На экаране показывается, что сигнал зашифрован ил нет доступа",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#forwardedToAccounts":{id:"http://ailab.ifmo.ru/dialog/tv/schema#forwardedToAccounts",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"forwardedToAccounts",lang:""}]},properties:{}},"http://ailab.ifmo.ru/dialog/tv/schema#TVService":{id:"http://ailab.ifmo.ru/dialog/tv/schema#TVService",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"TVService",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Услуга телевидения. Пока нахождение на этом уровне определяется только необходимостью преобразования в онто-факты.",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"телевидение",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#Address":{id:"http://ailab.ifmo.ru/dialog/tv/schema#Address",types:["http://www.w3.org/2000/01/rdf-schema#Datatype"],label:{values:[{text:"Address",lang:""}]},properties:{}},"http://ailab.ifmo.ru/dialog/tv/schema#TurnOff":{id:"http://ailab.ifmo.ru/dialog/tv/schema#TurnOff",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"TurnOff",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"выключать",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#TVChannel":{id:"http://ailab.ifmo.ru/dialog/tv/schema#TVChannel",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"TVChannel",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Телевизионный канал.",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"канал",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#ServiceDevice":{id:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceDevice",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"ServiceDevice",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Устройство у пользователя, отвечающее за предоставление услуг",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#Connect":{id:"http://ailab.ifmo.ru/dialog/tv/schema#Connect",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"Соединение",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"втыкать",lang:""},{text:"вставлять",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#falseExpressedBy":{id:"http://ailab.ifmo.ru/dialog/tv/schema#falseExpressedBy",types:["http://www.w3.org/1999/02/22-rdf-syntax-ns#Property"],label:{values:[{text:"falseExpressedBy",lang:""}]},properties:{}},"http://ailab.ifmo.ru/dialog/tv/schema#changedSpeed":{id:"http://ailab.ifmo.ru/dialog/tv/schema#changedSpeed",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"changedSpeed",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"уменьшать",lang:""},{text:"увеличивать",lang:""},{text:"снижать",lang:""},{text:"поднимать",lang:""},{text:"изменять",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#kinoChannelPack":{id:"http://ailab.ifmo.ru/dialog/tv/schema#kinoChannelPack",types:["http://ailab.ifmo.ru/dialog/tv/schema#ChannelPack"],label:{values:[{text:"kinoChannelPack",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"кино",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#Subscription":{id:"http://ailab.ifmo.ru/dialog/tv/schema#Subscription",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"Subscription",lang:""}]},properties:{}},"http://ailab.ifmo.ru/dialog/tv/schema#switchedOn":{id:"http://ailab.ifmo.ru/dialog/tv/schema#switchedOn",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"switchedOn",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Включено ли устройство.",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#falseExpressedBy":{type:"string",values:[{text:"tv:TurnOff",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#trueExpressedBy":{type:"string",values:[{text:"tv:TurnOn",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#Contact":{id:"http://ailab.ifmo.ru/dialog/tv/schema#Contact",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"Contact",lang:""}]},properties:{}},"http://ailab.ifmo.ru/dialog/tv/schema#canHelp":{id:"http://ailab.ifmo.ru/dialog/tv/schema#canHelp",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"canHelp",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Система спрашивает 'Я могу еще чем-либо помочь?'",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#trueExpressedBy":{id:"http://ailab.ifmo.ru/dialog/tv/schema#trueExpressedBy",types:["http://www.w3.org/1999/02/22-rdf-syntax-ns#Property"],label:{values:[{text:"trueExpressedBy",lang:""}]},properties:{}},"http://ailab.ifmo.ru/dialog/tv/schema#inserted":{id:"http://ailab.ifmo.ru/dialog/tv/schema#inserted",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"inserted",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Вставлен ли Cam-модуль в ТВ или приставку",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#falseExpressedBy":{type:"string",values:[{text:"tv:Disconnect",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#trueExpressedBy":{type:"string",values:[{text:"tv:Connect",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#operational":{id:"http://ailab.ifmo.ru/dialog/tv/schema#operational",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"operational",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Работает в смысле 'Не сломано и может выполняет основные фунции'",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#falseExpressedBy":{type:"string",values:[{text:"tv:Disappear",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"работать",lang:""},{text:"показывать",lang:""},{text:"включаться",lang:""},{text:"включать",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#Name":{id:"http://ailab.ifmo.ru/dialog/tv/schema#Name",types:["http://www.w3.org/2000/01/rdf-schema#Datatype"],label:{values:[{text:"Name",lang:""}]},properties:{}},"http://ailab.ifmo.ru/dialog/tv/schema#Router":{id:"http://ailab.ifmo.ru/dialog/tv/schema#Router",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"Router",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Роутер - устройство маршрутизации между сетями, компонент услуги предоставление доступа в интернет или интерактивного телевидения.",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"роутер",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#Disconnect":{id:"http://ailab.ifmo.ru/dialog/tv/schema#Disconnect",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"Disconnect",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"извлекать",lang:""},{text:"вытаскивать",lang:""},{text:"вынимать",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#Unsubscribe":{id:"http://ailab.ifmo.ru/dialog/tv/schema#Unsubscribe",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"Unsubscribe",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"отписываться",lang:""},{text:"отключать",lang:""},{text:"отказываться",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#CamModule":{id:"http://ailab.ifmo.ru/dialog/tv/schema#CamModule",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"CamModule",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Cam-модуль, отвечает за декодирование платных каналов DVB. Может вставляться в телевизор или в теле-приставку.",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"к-модуль",lang:""},{text:"cam-модуль",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#Subscribe":{id:"http://ailab.ifmo.ru/dialog/tv/schema#Subscribe",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"Subscribe",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"устанавливать",lang:""},{text:"подключать",lang:""},{text:"переходить",lang:""},{text:"настраивать",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#Internet":{id:"http://ailab.ifmo.ru/dialog/tv/schema#Internet",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"Internet",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"интернет",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#sufficientFunds":{id:"http://ailab.ifmo.ru/dialog/tv/schema#sufficientFunds",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"sufficientFunds",lang:""}]},properties:{}},"http://ailab.ifmo.ru/dialog/tv/schema#ServiceProvider":{id:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceProvider",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"ServiceProvider",
lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Поставщик услуг.",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#suspended":{id:"http://ailab.ifmo.ru/dialog/tv/schema#suspended",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"suspended",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Приостановлено ли предоставление услуги из-за отсутствия оплаты или еще каких причин.",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"отключать",lang:""},{text:"заблокировать",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#SimpleProperty":{id:"http://ailab.ifmo.ru/dialog/tv/schema#SimpleProperty",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"SimpleProperty",lang:""}]},properties:{}},"http://ailab.ifmo.ru/dialog/tv/schema#RTService":{id:"http://ailab.ifmo.ru/dialog/tv/schema#RTService",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"RTService",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Услуга ростелекома как элемент оплаты, биллинга, части договора.",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"услуга",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#serviceNumber":{id:"http://ailab.ifmo.ru/dialog/tv/schema#serviceNumber",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"serviceNumber",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Номер услуги клиента. Используется для идентификации клиента.",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"номер",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#Disappear":{id:"http://ailab.ifmo.ru/dialog/tv/schema#Disappear",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"Disappear",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"отключаться",lang:""},{text:"пропадать",lang:""},{text:"исчезать",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#Operation":{id:"http://ailab.ifmo.ru/dialog/tv/schema#Operation",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"Operation",lang:""}]},properties:{}},"http://ailab.ifmo.ru/dialog/tv/schema#WiFiRouter":{id:"http://ailab.ifmo.ru/dialog/tv/schema#WiFiRouter",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"WiFiRouter",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"WiFi",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#Service":{id:"http://ailab.ifmo.ru/dialog/tv/schema#Service",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"Service",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Сервис, класс всех сущностей, ответственных за предоставление услуг клиентам.",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#DigitalTVChannel":{id:"http://ailab.ifmo.ru/dialog/tv/schema#DigitalTVChannel",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"DigitalTVChannel",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Цифровой телевизионный канал.",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"цифровой",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#rent":{id:"http://ailab.ifmo.ru/dialog/tv/schema#rent",types:["http://www.w3.org/2002/07/owl#ObjectProperty"],label:{values:[{text:"rent",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Арендовать указанное имущество",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"арендовать",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#ServiceDesk":{id:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceDesk",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"ServiceDesk",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Служба поддержки.",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#filedRequest":{id:"http://ailab.ifmo.ru/dialog/tv/schema#filedRequest",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"filedRequest",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Пользователь оставил заявку",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#isClientOf":{id:"http://ailab.ifmo.ru/dialog/tv/schema#isClientOf",types:["http://www.w3.org/2002/07/owl#ObjectProperty"],label:{values:[{text:"isClientOf",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Являться клиентом указанного оператора",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"клиент",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#came":{id:"http://ailab.ifmo.ru/dialog/tv/schema#came",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"came",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Был ли мастер у клиента.",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"приходить",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#Observe":{id:"http://ailab.ifmo.ru/dialog/tv/schema#Observe",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"Observe",lang:""}]},properties:{}},"http://ailab.ifmo.ru/dialog/tv/schema#PropertyAsGoods":{id:"http://ailab.ifmo.ru/dialog/tv/schema#PropertyAsGoods",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"PropertyAsGoods",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Собственность пользователя в виде материальных или нематериальных объектов.",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#expressedBy":{id:"http://ailab.ifmo.ru/dialog/tv/schema#expressedBy",types:["http://www.w3.org/1999/02/22-rdf-syntax-ns#Property"],label:{values:[{text:"expressedBy",lang:""}]},properties:{}},"http://ailab.ifmo.ru/dialog/tv/schema#modified":{id:"http://ailab.ifmo.ru/dialog/tv/schema#modified",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"modified",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Перенастроено ли устройство, были ли изменены настройки.",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"настраивать",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#ChannelPack":{id:"http://ailab.ifmo.ru/dialog/tv/schema#ChannelPack",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"ChannelPack",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"тариф",lang:""},{text:"план",lang:""},{text:"пакет",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#deviceModel":{id:"http://ailab.ifmo.ru/dialog/tv/schema#deviceModel",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"deviceModel",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Название модели устройства.",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"модель",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#popularChannelPack":{id:"http://ailab.ifmo.ru/dialog/tv/schema#popularChannelPack",types:["http://ailab.ifmo.ru/dialog/tv/schema#ChannelPack"],label:{values:[{text:"popularChannelPack",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"популярный",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#canHangUp":{id:"http://ailab.ifmo.ru/dialog/tv/schema#canHangUp",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"canHangUp",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Можно ли клиенту повесить трубку и продложить решать проблему автономно.",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#canSolve":{id:"http://ailab.ifmo.ru/dialog/tv/schema#canSolve",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"canSolve",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Может ли служба поддержки решить проблему пользователя. Нет - в случае неработающего телевизора, например.",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#userCanSwitchChannel":{id:"http://ailab.ifmo.ru/dialog/tv/schema#userCanSwitchChannel",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"userCanSwitchChannel",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"переключаться",lang:""},{text:"переключать",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#rebooted":{id:"http://ailab.ifmo.ru/dialog/tv/schema#rebooted",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"rebooted",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Перезагружено ли устройство",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"перезагружать",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#own":{id:"http://ailab.ifmo.ru/dialog/tv/schema#own",types:["http://www.w3.org/2002/07/owl#ObjectProperty"],label:{values:[{text:"own",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Владеть указанным имуществом",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"есть",lang:""},{text:"иметь",lang:""},{text:"владеть",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#DigitalTVService":{id:"http://ailab.ifmo.ru/dialog/tv/schema#DigitalTVService",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"DigitalTVService",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Услуга цифрового телевидения.",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"цифровой",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#PhoneNumber":{id:"http://ailab.ifmo.ru/dialog/tv/schema#PhoneNumber",types:["http://www.w3.org/2000/01/rdf-schema#Datatype"],label:{values:[{text:"PhoneNumber",lang:""}]},properties:{}},"http://ailab.ifmo.ru/dialog/tv/schema#User":{id:"http://ailab.ifmo.ru/dialog/tv/schema#User",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"User",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Пользователь. Пока и клиент Ростелекома и позвонивший человек в одном лице.",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"мы",lang:""},{text:"я",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#subscribed":{id:"http://ailab.ifmo.ru/dialog/tv/schema#subscribed",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"subscribed",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Подписан ли пользователь на эту услугу.",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#falseExpressedBy":{type:"string",values:[{text:"tv:Unsubscribe",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#trueExpressedBy":{type:"string",values:[{text:"tv:Subscribe",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#baseChannelPack":{id:"http://ailab.ifmo.ru/dialog/tv/schema#baseChannelPack",types:["http://ailab.ifmo.ru/dialog/tv/schema#ChannelPack"],label:{values:[{text:"baseChannelPack",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"стартовый",lang:""},{text:"начальный",lang:""},{text:"базовый",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#TVSet":{id:"http://ailab.ifmo.ru/dialog/tv/schema#TVSet",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"TVSet",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Телевизор. Может иметь возможность декодирования платных каналов услуги цифрового телевидения с использованием CAM-модуля.",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"телевизор",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#forwardedToInfoSupport":{id:"http://ailab.ifmo.ru/dialog/tv/schema#forwardedToInfoSupport",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"forwardedToInfoSupport",lang:""}]},properties:{}},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{id:"http://ailab.ifmo.ru/dialog/tv/schema#lemma",types:["http://www.w3.org/2002/07/owl#AnnotationProperty"],label:{values:[{text:"lemma",lang:""}]},properties:{}},"http://ailab.ifmo.ru/dialog/tv/schema#identified":{id:"http://ailab.ifmo.ru/dialog/tv/schema#identified",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"identified",lang:""}]},properties:{}},"http://ailab.ifmo.ru/dialog/tv/schema#forwardedToSecondSupport":{id:"http://ailab.ifmo.ru/dialog/tv/schema#forwardedToSecondSupport",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"forwardedToSecondSupport",lang:""}]},properties:{}},"http://ailab.ifmo.ru/dialog/tv/schema#callsAgain":{id:"http://ailab.ifmo.ru/dialog/tv/schema#callsAgain",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"callsAgain",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Пользователь обращается повторно",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#ControlPanel":{id:"http://ailab.ifmo.ru/dialog/tv/schema#ControlPanel",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"ControlPanel",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Пульт от телевизора",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"пульт",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#hasNetworkConnection":{id:"http://ailab.ifmo.ru/dialog/tv/schema#hasNetworkConnection",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"hasNetworkConnection",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Есть ли подключение к роутеру со стороны провайдера услуг.",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#Image":{id:"http://ailab.ifmo.ru/dialog/tv/schema#Image",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"Image",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"сигнал",lang:""},{text:"картинка",lang:""},{text:"изображение",lang:""},{text:"видео",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#phoneNumber":{id:"http://ailab.ifmo.ru/dialog/tv/schema#phoneNumber",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"phoneNumber",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Номер телефона",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"номер",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#deviceAppearance":{id:"http://ailab.ifmo.ru/dialog/tv/schema#deviceAppearance",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"deviceAppearance",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Описание внешнего вида устройства.",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"внешний вид",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#TurnOn":{id:"http://ailab.ifmo.ru/dialog/tv/schema#TurnOn",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"TurnOn",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"включать",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#tvoeTV":{id:"http://ailab.ifmo.ru/dialog/tv/schema#tvoeTV",types:["http://ailab.ifmo.ru/dialog/tv/schema#ServiceProvider"],label:{values:[{text:"tvoeTV",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"твой интернет",lang:""},{text:"твое тв",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#HomePhone":{id:"http://ailab.ifmo.ru/dialog/tv/schema#HomePhone",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"HomePhone",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Домашний телефон. Один из способов идентифицировать клиента. Другой - по номеру услуги.",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"домашний",lang:""},{text:"городской",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#All":{id:"http://ailab.ifmo.ru/dialog/tv/schema#All",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"All",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Концепт для обработки 'а потом все отвалилось'",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"всё",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#Home":{id:"http://ailab.ifmo.ru/dialog/tv/schema#Home",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"Home",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Дом клиента в смысле места, где установлено такое оборудование, как роутер.",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"дом",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#Appear":{id:"http://ailab.ifmo.ru/dialog/tv/schema#Appear",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"Appear",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"появляться",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#Cable":{id:"http://ailab.ifmo.ru/dialog/tv/schema#Cable",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"Cable",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Кабель - нужен для подключения кабельного телевидения.",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#homeAddress":{id:"http://ailab.ifmo.ru/dialog/tv/schema#homeAddress",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"homeAddress",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Домашний адрес",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"адрес",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#Flat":{id:"http://ailab.ifmo.ru/dialog/tv/schema#Flat",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"Flat",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Квартира (уточнение дома).",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"квартира",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#operationalBad":{id:"http://ailab.ifmo.ru/dialog/tv/schema#operationalBad",types:["http://www.w3.org/2002/07/owl#DatatypeProperty"],label:{values:[{text:"operationalBad",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#falseExpressedBy":{type:"string",values:[{text:"tv:Disappear",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"тормозить",lang:""},{text:"расползаться",lang:""},{text:"портиться",lang:""},{text:"барахлить",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#AnalogueTVChannel":{id:"http://ailab.ifmo.ru/dialog/tv/schema#AnalogueTVChannel",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"AnalogueTVChannel",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Аналоговый телевизионный канал.",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"аналоговый",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#ServiceMan":{id:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceMan",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"ServiceMan",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Квалифицированный работник",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"мастер",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#Phone":{id:"http://ailab.ifmo.ru/dialog/tv/schema#Phone",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"Phone",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Телефон. Здесь пока только для образование сущности 'домашний телефон'",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"телефон",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#Speed":{id:"http://ailab.ifmo.ru/dialog/tv/schema#Speed",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"Speed",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"скорость",lang:""},{text:"производительность",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#SubscribableService":{id:"http://ailab.ifmo.ru/dialog/tv/schema#SubscribableService",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"SubscribableService",lang:""}]},properties:{}},"http://ailab.ifmo.ru/dialog/tv/schema#hdChannelPack":{id:"http://ailab.ifmo.ru/dialog/tv/schema#hdChannelPack",types:["http://ailab.ifmo.ru/dialog/tv/schema#ChannelPack"],label:{values:[{text:"hdChannelPack",lang:""}]},properties:{"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"эйчди",lang:""}]}}},"http://ailab.ifmo.ru/dialog/tv/schema#SetTopBox":{id:"http://ailab.ifmo.ru/dialog/tv/schema#SetTopBox",types:["http://www.w3.org/2002/07/owl#Class"],label:{values:[{text:"SetTopBox",lang:""}]},properties:{"http://www.w3.org/2000/01/rdf-schema#comment":{type:"string",values:[{text:"Телеприставка, осуществляющая декодирование цифрового сигнала и подключаемая к телевизору.",lang:""}]},"http://ailab.ifmo.ru/dialog/tv/schema#lemma":{type:"string",values:[{text:"приставка",lang:""}]}}}}},function(e,t){e.exports=[{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#ortChannel",linkTypeId:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#TVChannel"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Battery",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceDevice"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#rostelekom",linkTypeId:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceProvider"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#problemStated",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#User"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#hdPremiumChannelPack",linkTypeId:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ChannelPack"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#subscriberName",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#RTService"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#subscriberName",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#range",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Name"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#encryptedSignal",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ChannelPack"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#forwardedToAccounts",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#User"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#TVService",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#SubscribableService"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#TurnOff",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Contact"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#TurnOff",linkTypeId:"http://www.w3.org/2002/07/owl#disjointWith",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#TurnOn"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#TVChannel",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Service"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceDevice",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#PropertyAsGoods"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceDevice",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Service"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Connect",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Contact"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Connect",linkTypeId:"http://www.w3.org/2002/07/owl#disjointWith",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Disconnect"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#falseExpressedBy",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subPropertyOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#expressedBy"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#changedSpeed",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Speed"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#kinoChannelPack",linkTypeId:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ChannelPack"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Subscription",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Operation"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#switchedOn",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceDevice"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Contact",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Operation"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#canHelp",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceDesk"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#trueExpressedBy",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subPropertyOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#expressedBy"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#inserted",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#CamModule"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#operational",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Service"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Router",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceDevice"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Disconnect",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Contact"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Disconnect",linkTypeId:"http://www.w3.org/2002/07/owl#disjointWith",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Connect"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Unsubscribe",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Subscription"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Unsubscribe",linkTypeId:"http://www.w3.org/2002/07/owl#disjointWith",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Subscribe"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#CamModule",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceDevice"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Subscribe",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Subscription"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Subscribe",linkTypeId:"http://www.w3.org/2002/07/owl#disjointWith",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Unsubscribe"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Internet",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#SubscribableService"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#sufficientFunds",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#User"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#suspended",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#DigitalTVService"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#serviceNumber",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#RTService"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Disappear",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Observe"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Disappear",linkTypeId:"http://www.w3.org/2002/07/owl#disjointWith",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Appear"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#WiFiRouter",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Router"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#DigitalTVChannel",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#TVChannel"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#rent",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#User"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#rent",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#range",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#PropertyAsGoods"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#filedRequest",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#User"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#isClientOf",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#User"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#isClientOf",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#range",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceProvider"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#came",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceMan"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Observe",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Operation"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#modified",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Router"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#ChannelPack",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",
targetId:"http://ailab.ifmo.ru/dialog/tv/schema#SubscribableService"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#deviceModel",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceDevice"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#popularChannelPack",linkTypeId:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ChannelPack"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#canHangUp",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#User"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#canSolve",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceDesk"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#userCanSwitchChannel",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#TVChannel"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#rebooted",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceDevice"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#own",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#User"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#own",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#range",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#PropertyAsGoods"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#DigitalTVService",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#TVService"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#subscribed",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#SubscribableService"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#baseChannelPack",linkTypeId:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ChannelPack"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#TVSet",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceDevice"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#forwardedToInfoSupport",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#User"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#identified",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#User"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#forwardedToSecondSupport",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#User"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#callsAgain",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#User"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#ControlPanel",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceDevice"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#hasNetworkConnection",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Router"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Image",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#SimpleProperty"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#phoneNumber",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Phone"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#phoneNumber",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#range",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#PhoneNumber"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#deviceAppearance",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceDevice"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#TurnOn",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Contact"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#TurnOn",linkTypeId:"http://www.w3.org/2002/07/owl#disjointWith",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#TurnOff"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#tvoeTV",linkTypeId:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceProvider"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#HomePhone",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Phone"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#All",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Service"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Home",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#PropertyAsGoods"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Appear",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Observe"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Appear",linkTypeId:"http://www.w3.org/2002/07/owl#disjointWith",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Disappear"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Cable",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceDevice"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#homeAddress",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Home"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#homeAddress",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#range",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Address"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Flat",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Home"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#operationalBad",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#domain",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Service"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#AnalogueTVChannel",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#TVChannel"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Phone",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#PropertyAsGoods"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#Speed",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#SimpleProperty"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#SubscribableService",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#Service"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#hdChannelPack",linkTypeId:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ChannelPack"},{sourceId:"http://ailab.ifmo.ru/dialog/tv/schema#SetTopBox",linkTypeId:"http://www.w3.org/2000/01/rdf-schema#subClassOf",targetId:"http://ailab.ifmo.ru/dialog/tv/schema#ServiceDevice"}]},function(e,t,i){"use strict";function r(e,t){var i=e;for(var r in t){var a=t[r];i=i.replace(new RegExp("\\${"+r+"}","g"),a)}return i}function a(e,t,i){var r;return r=s(i==h.GET?{url:e+"?query="+encodeURIComponent(t),body:null,headers:{Accept:"application/sparql-results+json"},method:"GET"}:{url:e,body:t,headers:{Accept:"application/sparql-results+json","Content-Type":"application/sparql-query"},method:"POST"}),r.then(function(e){if(e.ok)return e.json();var t=new Error(e.statusText);throw t.response=e,t})}function n(e,t,i){var r;return r=s(i==h.GET?{url:e+"?query="+encodeURIComponent(t),body:null,headers:{Accept:"text/turtle"},method:"GET"}:{url:e,body:t,headers:{Accept:"text/turtle","Content-Type":"application/sparql-query"},method:"POST"}),new Promise(function(e,t){r.then(function(e){if(e.ok)return e.text();var t=new Error(e.statusText);throw t.response=e,t}).then(function(t){var i=[];p.Parser().parse(t,function(t,r,a){r?i.push({subject:o(r.subject),predicate:o(r.predicate),object:o(r.object)}):e(i)})})})}function o(e){return e.length>=2&&'"'===e[0]&&'"'===e[e.length-1]?{type:"literal",value:e.substring(1,e.length-1),"xml:lang":""}:{type:"uri",value:e}}function s(e){return fetch(e.url,{method:e.method,body:e.body,credentials:"same-origin",mode:"cors",cache:"default",headers:e.headers})}function l(e,t){return"\n        BIND ( str( "+e+' ) as ?uriStr)\n        BIND ( strafter(?uriStr, "#") as ?label3)\n        BIND ( strafter(strafter(?uriStr, "//"), "/") as ?label6) \n        BIND ( strafter(?label6, "/") as ?label5)   \n        BIND ( strafter(?label5, "/") as ?label4)   \n        BIND (if (?label3 != "", ?label3, \n            if (?label4 != "", ?label4, \n            if (?label5 != "", ?label5, ?label6))) as '+t+")\n    "}function d(e){return"<"+e+">"}function c(e){var t="",i=d(e.elementId),r=e.linkId?d(e.linkId):void 0;return e.elementId&&e.linkId&&(t+=e.direction&&"out"!==e.direction?"":"{ "+i+" "+r+" ?inst . FILTER ISIRI(?inst)}",t+=e.direction?"":" UNION ",t+=e.direction&&"in"!==e.direction?"":"{  ?inst "+r+" "+i+" . FILTER ISIRI(?inst)}"),e.elementId&&!e.linkId&&(t+=e.direction&&"out"!==e.direction?"":"{ "+i+" ?link ?inst . FILTER ISIRI(?inst)}",t+=e.direction?"":" UNION ",t+=e.direction&&"in"!==e.direction?"":"{  ?inst ?link "+i+" . FILTER ISIRI(?inst)}"),t}i(34);var h,p=i(35),u=i(36),g=i(37);!function(e){e[e.GET=1]="GET",e[e.POST=2]="POST"}(h=t.SparqlQueryMethod||(t.SparqlQueryMethod={}));var f=function(){function e(e,t){void 0===t&&(t=g.OWLStatsSettings),this.options=e,this.settings=t,this.dataLabelProperty=e.labelProperty?e.labelProperty:t.dataLabelProperty}return e.prototype.classTree=function(){var e=this.settings.defaultPrefix+this.settings.classTreeQuery;return this.executeSparqlQuery(e).then(u.getClassTree)},e.prototype.propertyInfo=function(e){var t=e.propertyIds.map(d).map(function(e){return" ( "+e+" )"}).join(" "),i=this.settings.defaultPrefix+("\n            SELECT ?prop ?label\n            WHERE {\n                ?prop "+this.settings.schemaLabelProperty+" ?label.\n                VALUES (?prop) {"+t+"}.\n            }\n        ");return this.executeSparqlQuery(i).then(u.getPropertyInfo)},e.prototype.classInfo=function(e){var t=e.classIds.map(d).map(function(e){return" ( "+e+" )"}).join(" "),i=this.settings.defaultPrefix+("\n            SELECT ?class ?label ?instcount\n            WHERE {\n                ?class "+this.settings.schemaLabelProperty+" ?label.\n                VALUES (?class) {"+t+'}.\n                BIND("" as ?instcount)\n            }\n        ');return this.executeSparqlQuery(i).then(u.getClassInfo)},e.prototype.linkTypesInfo=function(e){var t=e.linkTypeIds.map(d).map(function(e){return" ( "+e+" )"}).join(" "),i=this.settings.defaultPrefix+("\n            SELECT ?typeId ?label ?instcount\n            WHERE {\n                ?typeId "+this.settings.schemaLabelProperty+" ?label.\n                VALUES (?typeId) {"+t+'}.\n                BIND("" as ?instcount)      \n            }\n        ');return this.executeSparqlQuery(i).then(u.getLinkTypesInfo)},e.prototype.linkTypes=function(){var e=this.settings.defaultPrefix+("\n            SELECT ?link ?instcount ?label\n            WHERE {\n                  "+this.settings.linkTypesPattern+"\n                  OPTIONAL {?link "+this.settings.schemaLabelProperty+" ?label.}\n            }\n        ");return this.executeSparqlQuery(e).then(u.getLinkTypes)},e.prototype.elementInfo=function(e){var t=this,i=e.elementIds.map(d).map(function(e){return" ("+e+")"}).join(" "),a=this.settings.defaultPrefix+r(this.settings.elementInfoQuery,{ids:i,dataLabelProperty:this.dataLabelProperty});return this.executeSparqlQuery(a).then(function(t){return u.getElementsInfo(t,e.elementIds)}).then(function(e){return t.options.prepareImages?t.prepareElementsImage(e):t.options.imagePropertyUris&&t.options.imagePropertyUris.length?t.enrichedElementsInfo(e,t.options.imagePropertyUris):e})},e.prototype.enrichedElementsInfo=function(e,t){var i=Object.keys(e).map(d).map(function(e){return" ( "+e+" )"}).join(" "),r=t.map(d).map(function(e){return" ( "+e+" )"}).join(" "),a=this.settings.defaultPrefix+("\n            SELECT ?inst ?linkType ?image\n            WHERE {{\n                VALUES (?inst) {"+i+"}\n                VALUES (?linkType) {"+r+"} \n                "+this.settings.imageQueryPattern+"\n            }}\n        ");return this.executeSparqlQuery(a).then(function(t){return u.getEnrichedElementsInfo(t,e)})["catch"](function(t){return console.log(t),e})},e.prototype.prepareElementsImage=function(e){return this.options.prepareImages(e).then(function(t){for(var i in t)t.hasOwnProperty(i)&&e[i]&&(e[i].image=t[i]);return e})},e.prototype.linksInfo=function(e){var t=e.elementIds.map(d).map(function(e){return" ( "+e+" )"}).join(" "),i=this.settings.defaultPrefix+("\n            SELECT ?source ?type ?target\n            WHERE {\n                ?source ?type ?target.\n                VALUES (?source) {"+t+"}\n                VALUES (?target) {"+t+"}                \n            }\n        ");return this.executeSparqlQuery(i).then(u.getLinksInfo)},e.prototype.linkTypesOf=function(e){var t=d(e.elementId),i=this.settings.defaultPrefix+r(this.settings.linkTypesOfQuery,{elementIri:t});return this.executeSparqlQuery(i).then(u.getLinksTypesOf)},e.prototype.linkElements=function(e){return this.filter({refElementId:e.elementId,refElementLinkId:e.linkId,linkDirection:e.direction,limit:e.limit,offset:e.offset,languageCode:""})},e.prototype.filter=function(e){if(0===e.limit&&(e.limit=100),!e.refElementId&&e.refElementLinkId)throw new Error("Can't execute refElementLink filter without refElement");var t,i=c({elementId:e.refElementId,linkId:e.refElementLinkId,direction:e.linkDirection});if(e.elementTypeId){var a=d(e.elementTypeId);t=r(this.settings.filterTypePattern,{elementTypeIri:a})}else t="";var n;if(e.text){var o=e.text;n=r(this.settings.fullTextSearch.queryPattern,{text:o,dataLabelProperty:this.dataLabelProperty})}else n="";var s=this.settings.defaultPrefix+"\n            "+this.settings.fullTextSearch.prefix+"\n            \n        SELECT ?inst ?class ?label\n        WHERE {\n            {\n                SELECT DISTINCT ?inst ?score WHERE {\n                    "+t+"\n                    "+i+"\n                    "+n+"\n                    "+this.settings.filterAdditionalRestriction+"\n                    "+(this.settings.fullTextSearch.extractLabel?l("?inst","?extractedLabel"):"")+"\n                } ORDER BY DESC(?score) LIMIT "+e.limit+" OFFSET "+e.offset+"\n            }\n            "+r(this.settings.filterElementInfoPattern,{dataLabelProperty:this.dataLabelProperty})+"\n        } ORDER BY DESC(?score)\n        ";return this.executeSparqlQuery(s).then(u.getFilteredData)},e.prototype.executeSparqlQuery=function(e){var t=this.options.queryMethod?this.options.queryMethod:h.GET;return a(this.options.endpointUrl,e,t)},e.prototype.executeSparqlConstruct=function(e){var t=this.options.queryMethod?this.options.queryMethod:h.GET;return n(this.options.endpointUrl,e,t)},e}();t.SparqlDataProvider=f,t.executeSparqlQuery=a,t.executeSparqlConstruct=n,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=f},function(e,t){e.exports=i},function(e,t){e.exports=r},function(e,t){"use strict";function i(e){var t=[],i=r(e.results.bindings);for(var n in i){var o=i[n];if(o.parent){var s=i[o.parent];s.children.push(o),s.count+=o.count}else t.push(o)}return a(t),t}function r(e){for(var t={},i=0,r=e;i<r.length;i++){var a=r[i],n=a["class"].value,o=t[n];if(o){if(a.label){var s=o.label;1!==s.values.length||s.values[0].lang||(s.values=[]),s.values.push(v(a.label))}!o.parent&&a.parent&&(o.parent=a.parent.value)}else o=y(a),t[n]=o;o.parent&&!t[o.parent]&&(t[o.parent]=y({"class":{value:o.parent,type:"uri"}}))}return t}function a(e){for(var t=0,i=e;t<i.length;t++){var r=i[t];if(!r.children)return;a(r.children);var n=r.children.reduce(function(e,t){return isNaN(t.count)?e:isNaN(e)?t.count:e+t.count},NaN);r.count=isNaN(n)?r.count:isNaN(r.count)?n:r.count+n}}function n(e){for(var t={},i=function(e){if(!e["class"])return"continue";var i=e["class"].value,r=t[i];if(r){var a=v(e.label);r.label.values.some(function(e){return f(e,a)})||r.label.values.push(a);var n=b(e.instcount);isNaN(n)||(r.count=Math.max(r.count,n))}else{var o=v(e.label);t[i]={id:i,children:[],label:{values:o?[o]:[]},count:b(e.instcount)}}},r=0,a=e.results.bindings;r<a.length;r++){var n=a[r];i(n)}var o=[];for(var s in t)if(t.hasOwnProperty(s)){var l=t[s];0===l.label.values.length&&l.label.values.push(v(void 0,s)),o.push(l)}return o}function o(e){for(var t={},i=0,r=e.results.bindings;i<r.length;i++){var a=r[i],n=w(a);t[n.id]=n}return t}function s(e){for(var t=e.results.bindings,i=[],r={},a=0,n=t;a<n.length;a++){var o=n[a],s=o.link.value;if(r[s]){if(o.label){var l=r[s].label;1!==l.values.length||l.values[0].lang||(l.values=[]),l.values.push(v(o.label))}}else r[s]=j(o),i.push(r[s])}return i}function l(e,t){for(var i=e.results.bindings,r={},a=0,n=i;a<n.length;a++){var o=n[a],s=o.inst.value;r[s]?g(r[o.inst.value],o):r[s]=x(o)}for(var l=Object.keys(r),d=0,c=t;d<c.length;d++){var h=c[d];l.indexOf(h)===-1&&(r[h]={id:h,label:{values:[v(void 0,h)]},types:[I],properties:{}})}return r}function d(e,t){for(var i=e.results.bindings,r=0,a=i;r<a.length;r++){var n=a[r],o=t[n.inst.value];o&&(o.image=n.image.value)}return t}function c(e){var t=e.results.bindings;return t.map(function(e){return j(e)})}function h(e){var t=e.results.bindings;return t.map(function(e){return k(e)})}function p(e){var t=e.results.bindings;return t.map(function(e){return _(e)})}function u(e){for(var t=e.results.bindings,i={},r=0,a=t;r<a.length;r++){var n=a[r];"literal"!==n.inst.type&&(i[n.inst.value]?g(i[n.inst.value],n):i[n.inst.value]=x(n))}return i}function g(e,t){if(e){if(t.label){var i=v(t.label),r=e.label.values,a=1===r.length&&!r[0].lang&&r[0].text===m(e.id);a?e.label.values=[i]:e.label.values.every(function(e){return!f(e,i)})&&e.label.values.push(i)}if(t["class"]&&e.types.indexOf(t["class"].value)<0&&e.types.push(t["class"].value),t.propType&&t.propType.value!==T){var n=e.properties[t.propType.value];n||(n=e.properties[t.propType.value]={type:"string",values:[]});var o=A(t.propValue);n.values.every(function(e){return!f(e,o)})&&n.values.push(o)}}}function f(e,t){return e.lang===t.lang&&e.text===t.text}function m(e){var t=e.indexOf("#");if(t!==-1)return e.substring(t+1,e.length);var i=e.split("/");return i[i.length-1]}function v(e,t){return e?{text:e.value,lang:e["xml:lang"]}:t?{text:m(t),lang:""}:void 0}function b(e){return e?+e.value:NaN}function y(e){return{id:e["class"].value,children:[],label:{values:[v(e.label,e["class"].value)]},count:b(e.instcount),parent:e.parent?e.parent.value:void 0}}function w(e){return{id:e.prop.value,label:{values:[v(e.label,e.prop.value)]}}}function _(e){return{id:e.link.value,inCount:b(e.inCount),outCount:b(e.outCount)}}function A(e){if(e)return{lang:e["xml:lang"],text:e.value}}function x(e){var t={id:e.inst.value,label:{values:[v(e.label,e.inst.value)]},types:e["class"]?[e["class"].value]:[],properties:{}};return e.propType&&e.propType.value!==T&&(t.properties[e.propType.value]={type:"string",values:[A(e.propValue)]}),t}function k(e){if(e)return{linkTypeId:e.type.value,sourceId:e.source.value,targetId:e.target.value}}function j(e){if(e)return{id:e.link.value,label:{values:[v(e.label,e.link.value)]},count:b(e.instcount)}}var I="http://www.w3.org/2002/07/owl#Thing",T="http://www.w3.org/2000/01/rdf-schema#label";t.getClassTree=i,t.getClassInfo=n,t.getPropertyInfo=o,t.getLinkTypes=s,t.getElementsInfo=l,t.getEnrichedElementsInfo=d,t.getLinkTypesInfo=c,t.getLinksInfo=h,t.getLinksTypesOf=p,t.getFilteredData=u,t.enrichElement=g,t.getNameFromId=m,t.getLocalizedString=v,t.getInstCount=b,t.getClassModel=y,t.getPropertyModel=w,t.getLinkType=_,t.getPropertyValue=A,t.getElementInfo=x,t.getLinkInfo=k,t.getLinkTypeInfo=j},function(e,t){"use strict";var i=this&&this.__assign||Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e};t.WikidataSettings={defaultPrefix:"PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n PREFIX rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n PREFIX wdt: <http://www.wikidata.org/prop/direct/>\n PREFIX wd: <http://www.wikidata.org/entity/>\n PREFIX owl:  <http://www.w3.org/2002/07/owl#>\n\n",schemaLabelProperty:"rdfs:label",dataLabelProperty:"rdfs:label",fullTextSearch:{prefix:"PREFIX bds: <http://www.bigdata.com/rdf/search#>\n",queryPattern:" \n              ?inst rdfs:label ?searchLabel. \n              SERVICE bds:search {\n                     ?searchLabel bds:search \"${text}*\" ;\n                                  bds:minRelevance '0.5' ;\n                                  bds:matchAllTerms 'true' .\n              }\n              BIND(IF(STRLEN(?strInst) > 33,\n                            0-<http://www.w3.org/2001/XMLSchema#integer>(SUBSTR(?strInst, 33)),\n                            -10000) as ?score)\n            "},classTreeQuery:"\n            SELECT distinct ?class ?label ?parent WHERE {\n              ?class rdfs:label ?label.                            \n              { ?class wdt:P279 wd:Q35120. }\n                UNION \n              { ?parent wdt:P279 wd:Q35120.\n                ?class wdt:P279 ?parent. }\n                UNION \n              { ?parent wdt:P279/wdt:P279 wd:Q35120.\n                ?class wdt:P279 ?parent. }\n            }\n        ",linkTypesPattern:"?link wdt:P279* wd:Q18616576.\n    BIND(0 as ?instcount)\n",elementInfoQuery:"\n            SELECT ?inst ?class ?label ?propType ?propValue\n            WHERE {\n                OPTIONAL {\n                    { ?inst wdt:P31 ?class } UNION\n                    { ?inst wdt:P31 ?realClass .\n                        ?realClass wdt:P279 | wdt:P279/wdt:P279 ?class }\n                }\n                OPTIONAL {?inst rdfs:label ?label}\n                OPTIONAL {\n                    ?inst ?propType ?propValue .\n                    FILTER (isLiteral(?propValue))\n                }\n            } VALUES (?inst) {${ids}}\n        ",imageQueryPattern:' { ?inst ?linkType ?fullImage } union { ?inst wdt:P163/wdt:P18 ?fullImage }\n                BIND(CONCAT("https://commons.wikimedia.org/w/thumb.php?f=",\n                    STRAFTER(STR(?fullImage), "Special:FilePath/"), "&w=200") AS ?image)',linkTypesOfQuery:'\n        SELECT ?link (count(distinct ?object) as ?instcount)\n        WHERE {\n            { ${elementIri} ?link ?object }\n            UNION { ?object ?link ${elementIri} }\n            #this is to prevent some junk appear on diagram, but can really slow down execution on complex objects\n            FILTER ISIRI(?object)\n            FILTER exists {?object ?someprop ?someobj}\n            FILTER regex(STR(?link), "direct")                \n        } GROUP BY ?link\n    ',filterRefElementLinkPattern:'FILTER regex(STR(?link), "direct")',filterTypePattern:"?inst wdt:P31 ?instType. ?instType wdt:P279* ${elementTypeIri} . \n",filterAdditionalRestriction:"FILTER ISIRI(?inst)\n                        BIND(STR(?inst) as ?strInst)\n                        FILTER exists {?inst ?someprop ?someobj}\n",filterElementInfoPattern:"OPTIONAL {?inst wdt:P31 ?foundClass}\n                BIND (coalesce(?foundClass, owl:Thing) as ?class)\n                OPTIONAL {?inst rdfs:label ?label}\n"},t.OWLRDFSSettings={defaultPrefix:"PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n PREFIX rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n PREFIX owl:  <http://www.w3.org/2002/07/owl#> \n\n",schemaLabelProperty:"rdfs:label",dataLabelProperty:"rdfs:label",fullTextSearch:{prefix:"",queryPattern:' OPTIONAL {?inst ${dataLabelProperty} ?search1}\n        FILTER regex(COALESCE(str(?search1), str(?extractedLabel)), "${text}", "i")\n        BIND(0 as ?score)\n',extractLabel:!0},classTreeQuery:"\n            SELECT ?class ?label ?parent\n            WHERE {\n                {\n                    ?class a rdfs:Class\n                } UNION {\n                    ?class a owl:Class\n                }\n                OPTIONAL { ?class rdfs:label ?label.}\n                OPTIONAL {?class rdfs:subClassOf ?parent}\n            }\n        ",linkTypesPattern:"{\t?link a rdf:Property\n                    } UNION {\n                    ?link a owl:ObjectProperty\n                }\n                BIND('' as ?instcount)\n",elementInfoQuery:"\n            SELECT ?inst ?class ?label ?propType ?propValue\n            WHERE {\n                OPTIONAL {?inst rdf:type ?class . }\n                OPTIONAL {?inst ${dataLabelProperty} ?label}\n                OPTIONAL {?inst ?propType ?propValue.\n                FILTER (isLiteral(?propValue)) }\n            } VALUES (?inst) {${ids}}\n        ",imageQueryPattern:"{ ?inst ?linkType ?image } UNION { [] ?linkType ?inst. BIND(?inst as ?image) }",linkTypesOfQuery:"\n        SELECT ?link (count(distinct ?outObject) as ?outCount) (count(distinct ?inObject) as ?inCount) \n        WHERE {\n            { ${elementIri} ?link ?outObject FILTER ISIRI(?outObject)}\n            UNION \n              { ?inObject ?link ${elementIri} FILTER ISIRI(?inObject)}\n        } GROUP BY ?link\n    ",filterRefElementLinkPattern:"",filterTypePattern:"?inst rdf:type ${elementTypeIri} . \n",filterElementInfoPattern:"OPTIONAL {?inst rdf:type ?foundClass}\n                BIND (coalesce(?foundClass, owl:Thing) as ?class)\n                OPTIONAL {?inst ${dataLabelProperty} ?label}",filterAdditionalRestriction:""},t.OWLStatsSettings=i({},t.OWLRDFSSettings,{classTreeQuery:"\n        SELECT ?class ?instcount ?label ?parent\n        WHERE {\n            {SELECT ?class (count(?inst) as ?instcount)\n                WHERE {\n                    ?inst rdf:type ?class.\n                } GROUP BY ?class } UNION\n            {\n                ?class rdf:type rdfs:Class\n            } UNION {\n                ?class rdf:type owl:Class\n            }\n            OPTIONAL { ?class rdfs:label ?label.}\n            OPTIONAL {?class rdfs:subClassOf ?parent}\n        }\n    "}),t.DBPediaSettings=i({},t.OWLRDFSSettings,{fullTextSearch:{prefix:"PREFIX dbo: <http://dbpedia.org/ontology/>\n",queryPattern:' \n              ?inst rdfs:label ?searchLabel.\n              ?searchLabel bif:contains "${text}".\n              ?inst dbo:wikiPageID ?origScore .\n              BIND(0-?origScore as ?score)\n            '},classTreeQuery:"\n        SELECT distinct ?class ?label ?parent WHERE {\n            ?class rdfs:label ?label.                            \n            OPTIONAL {?class rdfs:subClassOf ?parent}\n            ?root rdfs:subClassOf owl:Thing.\n            ?class rdfs:subClassOf? | rdfs:subClassOf/rdfs:subClassOf ?root\n        }\n        ",elementInfoQuery:"\n        SELECT ?inst ?class ?label ?propType ?propValue\n        WHERE {\n            ?inst rdf:type ?class . \n            ?inst rdfs:label ?label .\n            FILTER (!contains(str(?class), 'http://dbpedia.org/class/yago'))\n            OPTIONAL {?inst ?propType ?propValue.\n            FILTER (isLiteral(?propValue)) }\n        } VALUES (?inst) {${ids}}\n        ",filterElementInfoPattern:"\n        OPTIONAL {?inst rdf:type ?foundClass. FILTER (!contains(str(?foundClass), 'http://dbpedia.org/class/yago'))}\n        BIND (coalesce(?foundClass, owl:Thing) as ?class)\n        OPTIONAL {?inst ${dataLabelProperty} ?label}",imageQueryPattern:' { ?inst ?linkType ?fullImage } UNION { [] ?linkType ?inst. BIND(?inst as ?fullImage) }\n            BIND(CONCAT("https://commons.wikimedia.org/w/thumb.php?f=",\n            STRAFTER(STR(?fullImage), "Special:FilePath/"), "&w=200") AS ?image)\n'})},function(e,t,i){"use strict";var r=i(39),a=150,n=function(){function e(e){this.dataProvider=e}return e.prototype.createGraph=function(e){var t=this;return this.dataProvider.elementInfo({elementIds:e.elementIds}).then(function(i){return{preloadedElements:i,layoutData:t.getLayout(i,e.links)}})},e.prototype.getLayout=function(e,t){var i=Object.keys(e),n=Math.ceil(Math.sqrt(i.length)),o=r.uniformGrid({rows:n,cellSize:{x:a,y:a}}),s=i.map(function(t,i){var r=e[t],a=o(i),n=a.x,s=a.y;return{id:r.id,type:"element",position:{x:n,y:s}}}),l=t.map(function(e,t){return{id:"link_"+t,typeId:e.linkTypeId,type:"link",source:{id:e.sourceId},target:{id:e.targetId}}});return{cells:s.concat(l)}},e}();t.GraphBuilder=n,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,i){"use strict";function r(e){var t=(new c.Layout).nodes(e.nodes).links(e.links).convergenceThreshold(1e-9).jaccardLinkLengths(e.preferredLinkLength).handleDisconnected(!0);t.start(30,0,10,void 0,!1)}function a(e){for(var t=[],i=0,r=e;i<r.length;i++){var a=r[i];t.push(new c.vpsc.Rectangle(a.x,a.x+a.width,a.y,a.y+a.height))}c.vpsc.removeOverlaps(t);for(var n=0;n<t.length;n++){var a=e[n],o=t[n];a.x=o.x,a.y=o.y}}function n(e){for(var t=1/0,i=1/0,r=0,a=e.nodes;r<a.length;r++){var n=a[r];t=Math.min(t,n.x),i=Math.min(i,n.y)}for(var o=e.padding,s=void 0===o?{x:0,y:0}:o,l=0,d=e.nodes;l<d.length;l++){var n=d[l];n.x=n.x-t+s.x,n.y=n.y-i+s.y}}function o(e){for(var t=e.paperSize,i=e.contentBBox,r={x:(t.width-i.width)/2-i.x,y:(t.height-i.height)/2-i.y},a=0,n=e.nodes;a<n.length;a++){var o=n[a];o.x=r.x+o.x,o.y=r.y+o.y}}function s(e){return function(t){var i=Math.floor(t/e.rows),r=t-i*e.rows;return{x:r*e.cellSize.x,y:i*e.cellSize.y,width:e.cellSize.x,height:e.cellSize.y}}}function l(e,t,i){if(t)for(var r=0,a=e;r<a.length;r++){var n=a[r];n.x-=t.x,n.y-=t.y,n.width+=2*t.x,n.height+=2*t.y}if(i(),t)for(var o=0,s=e;o<s.length;o++){var n=s[o];n.x+=t.x,n.y+=t.y,n.width-=2*t.x,n.height-=2*t.y}}function d(e){var t=(new c.Layout).nodes(e.nodes).links(e.links).avoidOverlaps(!0).flowLayout("x",e.preferredLinkLength).jaccardLinkLengths(e.preferredLinkLength);t.start(30,0,10,void 0,!1);for(var i=0,r=e.nodes;i<r.length;i++){var a=r[i];a.innerBounds=a.bounds.inflate(-50)}t.prepareEdgeRouting(50/3);for(var n=0,o=e.links;n<o.length;n++){var s=o[n];e.route(s,t.routeEdge(s,void 0))}}var c=i(40);t.forceLayout=r,t.removeOverlaps=a,t.translateToPositiveQuadrant=n,t.translateToCenter=o,t.uniformGrid=s,t.padded=l,t.flowLayout=d},function(e,t){e.exports=a},function(e,t,i){"use strict";var r=i(38),a="PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n PREFIX rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n PREFIX owl:  <http://www.w3.org/2002/07/owl#>\n\n",n=function(){function e(e){this.dataProvider=e,this.graphBuilder=new r.GraphBuilder(e)}return e.prototype.getGraphFromConstruct=function(e){var t=this,i=a+e;return this.dataProvider.executeSparqlConstruct(i).then(function(e){return t.getGraphFromRDFGraph(e)})},e.prototype.getGraphFromRDFGraph=function(e){var t=this.getConstructElements(e),i=t.elementIds,r=t.links;return this.graphBuilder.createGraph({elementIds:i,links:r})},e.prototype.getConstructElements=function(e){for(var t={},i=[],r=0,a=e;r<a.length;r++){var n=a[r],o=n.subject,s=n.predicate,l=n.object;"uri"===o.type&&"uri"===l.type&&(t[o.value]||(t[o.value]=!0),t[l.value]||(t[l.value]=!0),i.push({linkTypeId:s.value,sourceId:o.value,targetId:l.value}))}return{elementIds:Object.keys(t),links:i}},e}();t.SparqlGraphBuilder=n},function(e,t,i){"use strict";function r(e,t){return"ontodia-"+(t?"mstart":"mend")+"-"+e}var a=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);
e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},n=i(43),o=i(44),s=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.defaults=function(){return o.util.deepSupplement({type:"element",size:{width:250,height:50}},o.shapes.basic.Generic.prototype.defaults)},t}(o.shapes.basic.Generic);t.UIElement=s,s.prototype.markup='<g class="rotatable"><rect class="rootOfUI"/></g>';var l=function(e){function t(){var t=e.apply(this,arguments)||this;return t.links=[],t}return a(t,e),Object.defineProperty(t.prototype,"isExpanded",{get:function(){return this.get("isExpanded")},set:function(e){this.set("isExpanded",e)},enumerable:!0,configurable:!0}),t.prototype.initialize=function(){o.shapes.basic.Generic.prototype.initialize.apply(this,arguments),this.set("z",1),this.has("isExpanded")||this.set("isExpanded",!1)},t.prototype.addToFilter=function(e,t){this.trigger("add-to-filter",this,e,t)},t.prototype.focus=function(){this.trigger("focus-on-me",this)},t.prototype.iriClick=function(e){this.trigger("action:iriClick",e)},t}(s);t.Element=l;var d=function(e){function t(t){var i=e.call(this,{id:t.id})||this;return i.model=t,i.set("label",t.label),i.set("count",t.count),i}return a(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return this.get("label")},enumerable:!0,configurable:!0}),t}(n.Model);t.FatClassModel=d;var c=function(e){function t(t){var i=e.call(this,{id:t.id})||this;return i.set("label",t.label),i}return a(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return this.get("label")},enumerable:!0,configurable:!0}),t}(n.Model);t.RichProperty=c;var h=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),Object.defineProperty(t.prototype,"markup",{get:function(){if("number"!=typeof this.typeIndex)throw new Error("Missing typeIndex when intializing link's markup");return'<path class="connection" stroke="black" d="M 0 0 0 0"'+(' marker-start="url(#'+r(this.typeIndex,!0)+')"')+(' marker-end="url(#'+r(this.typeIndex,!1)+')" />')+'<path class="connection-wrap" d="M 0 0 0 0"/><g class="labels"/><g class="marker-vertices"/><g class="link-tools"/>'},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"typeIndex",{get:function(){return this.get("typeIndex")},set:function(e){this.set("typeIndex",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"typeId",{get:function(){return this.get("typeId")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sourceId",{get:function(){return this.get("source").id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"targetId",{get:function(){return this.get("target").id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutOnly",{get:function(){return this.get("layoutOnly")},set:function(e){this.set("layoutOnly",e)},enumerable:!0,configurable:!0}),t.prototype.initialize=function(e){this.set("labels",[{position:.5}])},t}(o.dia.Link);t.Link=h,h.prototype.arrowheadMarkup=null,t.linkMarkerKey=r;var p=function(e){function t(t){var i=e.call(this,{id:t.id,label:t.label,visible:!0,showLabel:!0})||this;return i.index=t.index,i.diagram=t.diagram,i.listenTo(i,"change:visible",i.onVisibilityChanged),i}return a(t,e),Object.defineProperty(t.prototype,"label",{get:function(){return this.get("label")},set:function(e){this.set("label",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this.get("visible")},enumerable:!0,configurable:!0}),t.prototype.setVisibility=function(e,t){this.set(e,t)},t.prototype.onVisibilityChanged=function(e,t,i){if(t)i.preventLoading||this.diagram.requestLinksOfType([this.id]);else for(var r=this.diagram.linksOfType(this.id).slice(),a=0,n=r;a<n.length;a++){var o=n[a];o.remove()}},t}(n.Model);t.FatLinkType=p},function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t,i){"use strict";function r(e){return{id:e,types:[],label:{values:[{lang:"",text:s(e)}]},properties:{}}}function a(e,t){if(e){var i=n(e,t);e.splice(i,1)}}function n(e,t){for(var i=t.sourceId,r=t.targetId,a=t.linkTypeId,n=0;n<e.length;n++){var o=e[n];if(o.sourceId===i&&o.targetId===r&&o.typeId===a)return n}return-1}function o(){function e(){return Math.floor(4294967296*(1+Math.random())).toString(16).substring(1)}return e()+e()}function s(e){var t=e.lastIndexOf("#");if(t!==-1&&t!==e.length-1)return e.substring(t+1);var i=e.lastIndexOf("/");return i!==-1&&i!==e.length-1?e.substring(i+1):e}function l(e,t){if(0===e.length)return null;for(var i,r=0,a=e;r<a.length;r++){var n=a[r];if(n.lang===t)return n;""===n.lang&&(i=n)}return"undefined"==typeof i?e[0]:i}var d=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},c=this&&this.__assign||Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},h=i(43),p=i(28),u=i(44),g=i(46),f=i(42),m=i(47),v=function(e){function t(t){void 0===t&&(t=!1);var i=e.call(this)||this;return i.graph=new u.dia.Graph,i.classesById={},i.propertyLabelById={},i.nextLinkTypeIndex=0,i.linksByType={},i.set("isViewOnly",t),i.initializeExternalAddRemoveSupport(),i.classFetchingThread=new m.DataFetchingThread,i.linkFetchingThread=new m.DataFetchingThread,i.propertyLabelFetchingThread=new m.DataFetchingThread,i}return d(t,e),t.prototype.isViewOnly=function(){return this.get("isViewOnly")},Object.defineProperty(t.prototype,"cells",{get:function(){return this.graph.get("cells")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elements",{get:function(){return this.graph.getElements()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"links",{get:function(){return this.graph.getLinks()},enumerable:!0,configurable:!0}),t.prototype.getElement=function(e){var t=this.cells.get(e);return t instanceof f.Element?t:void 0},t.prototype.getLinkType=function(e){return this.linkTypes[e]},t.prototype.linksOfType=function(e){return this.linksByType[e]||[]},t.prototype.sourceOf=function(e){return this.getElement(e.get("source").id)},t.prototype.targetOf=function(e){return this.getElement(e.get("target").id)},t.prototype.isSourceAndTargetVisible=function(e){return Boolean(this.sourceOf(e)&&this.targetOf(e))},t.prototype.undo=function(){this.trigger("history:undo")},t.prototype.redo=function(){this.trigger("history:redo")},t.prototype.resetHistory=function(){this.trigger("history:reset")},t.prototype.initBatchCommand=function(){this.trigger("history:initBatchCommand")},t.prototype.storeBatchCommand=function(){this.trigger("history:storeBatchCommand")},t.prototype.initializeExternalAddRemoveSupport=function(){var e=this,t=this.graph.addCell;this.graph.addCell=function(i,a){if(i instanceof f.Element||i instanceof f.Link)t.call(e.graph,i,a);else if("link"===i.type)e.createLink({sourceId:i.source.id,targetId:i.target.id,linkTypeId:i.typeId,suggestedId:i.id,vertices:i.vertices});else if("element"===i.type){var n=i,o=n.id,s=n.position,l=n.angle,d=n.isExpanded,c=new f.Element({id:o,position:s,angle:l,isExpanded:d});c.template=r(i.id),t.call(e.graph,c,a),e.requestElementData([c]),e.requestLinksOfType()}else t.call(e.graph,i,a)},this.listenTo(this.graph,"add",function(t){if(t instanceof f.Link){var i=e.getLinkType(t.get("typeId"));i.set("visible",!0)}}),this.listenTo(this.graph,"remove",function(t){if(t instanceof f.Link){var i=t.typeId,r=t.sourceId,a=t.targetId;e.removeLinkReferences({linkTypeId:i,sourceId:r,targetId:a})}})},t.prototype.createNewDiagram=function(e){var t=this;return this.dataProvider=e,this.trigger("state:beginLoad"),Promise.all([this.dataProvider.classTree(),this.dataProvider.linkTypes()]).then(function(e){var i=e[0],r=e[1];return t.setClassTree(i),t.initLinkTypes(r),t.trigger("state:endLoad",0),t.initLinkSettings(),t.initDiagram({preloadedElements:{},markLinksAsLayoutOnly:!1})})["catch"](function(e){console.error(e),t.trigger("state:endLoad",null,e.errorKind,e.message)})},t.prototype.initLinkTypes=function(e){var t=this;this.linkTypes={},p.each(e,function(e){var i=e.id,r=e.label,a=new f.FatLinkType({id:i,label:r,diagram:t,index:t.nextLinkTypeIndex++});t.linkTypes[a.id]=a})},t.prototype.importLayout=function(e){var t=this;return this.dataProvider=e.dataProvider,this.trigger("state:beginLoad"),Promise.all([this.dataProvider.classTree(),this.dataProvider.linkTypes()]).then(function(i){var r=i[0],a=i[1];return t.setClassTree(r),t.initLinkTypes(a),t.trigger("state:endLoad",p.size(e.preloadedElements)),t.initLinkSettings(e.linkSettings),t.initDiagram({layoutData:e.layoutData,preloadedElements:e.preloadedElements||{},markLinksAsLayoutOnly:e.validateLinks||!1,hideUnusedLinkTypes:e.hideUnusedLinkTypes}).then(function(){e.validateLinks&&t.requestLinksOfType()})})["catch"](function(e){console.error(e),t.trigger("state:endLoad",null,e.errorKind,e.message)})},t.prototype.exportLayout=function(){var e=g.cleanExportedLayout(this.graph.toJSON()),t=p.values(this.linkTypes).map(function(e){return{id:e.id,visible:e.get("visible"),showLabel:e.get("showLabel")}});return{layoutData:e,linkSettings:t}},t.prototype.setClassTree=function(e){var t=this;this.classTree=e;var i=function(e){t.classesById[e.id]=new f.FatClassModel(e),p.each(e.children,i)};p.each(e,i)},t.prototype.initDiagram=function(e){var t=this,i=e.layoutData,r=e.preloadedElements,a=e.markLinksAsLayoutOnly,n=e.hideUnusedLinkTypes;return new Promise(function(e,o){t.graph.trigger("batch:start",{batchName:"to-back"}),t.listenToOnce(t,"state:renderDone",function(){n&&t.hideUnusedLinkTypes(),t.graph.trigger("batch:stop",{batchName:"to-back"}),e(),t.trigger("state:dataLoaded")}),t.initLayout(i||{cells:[]},r,a)})},t.prototype.initLinkSettings=function(e){if(e){var t={visible:!1,showLabel:!0},i=p.keyBy(e,"id");p.each(this.linkTypes,function(e,r){var a=i[r]||{isNew:!0},n={preventLoading:!0};e.set(p.defaults(a,t),n)})}else{var r={visible:!0,showLabel:!0},a={preventLoading:!0};p.each(this.linkTypes,function(e){return e.set(r,a)})}},t.prototype.initLayout=function(e,t,i){this.linksByType={};for(var a=[],n=[],o=0,s=e.cells;o<s.length;o++){var l=s[o],d=g.normalizeImportedCell(l);if("element"===d.type){var h=new f.Element(c({},d,{size:{width:0,height:0}})),p=t[d.id];p||n.push(h),h.template=p||r(d.id),a.push(h)}else if("link"===d.type){var u=new f.Link(d);u.layoutOnly=i,u.typeIndex=this.createLinkType(u.typeId).index,a.push(u)}}this.requestElementData(n),this.trigger("state:renderStart"),this.graph.resetCells(a);for(var m=0,v=this.links;m<v.length;m++){var u=v[m];this.registerLink(u)}},t.prototype.hideUnusedLinkTypes=function(){for(var e=c({},this.linkTypes),t=0,i=this.links;t<i.length;t++){var r=i[t];delete e[r.typeId]}for(var a in e)if(e.hasOwnProperty(a)){var n=e[a];n.set("visible",!1)}},t.prototype.createElement=function(e){var t="string"==typeof e?e:e.id,i=this.getElement(t);if(i)return i;var a="string"==typeof e?r(e):e,n=new f.Element({id:a.id});return n.template=a,this.graph.addCell(n),n},t.prototype.requestElementData=function(e){var t=this;return 0==e.length?Promise.resolve([]):this.dataProvider.elementInfo({elementIds:e.map(function(e){return e.id})}).then(function(e){return t.onElementInfoLoaded(e)})["catch"](function(e){return console.error(e),Promise.reject(e)})},t.prototype.requestLinksOfType=function(e){var t=this,i=e;return i||(e=p.values(this.linkTypes).map(function(e){return e.id})),this.dataProvider.linksInfo({elementIds:this.graph.getElements().map(function(e){return e.id}),linkTypeIds:e}).then(function(e){return t.onLinkInfoLoaded(e)})["catch"](function(e){return console.error(e),Promise.reject(e)})},t.prototype.getPropertyById=function(e){var t=this;return this.propertyLabelById[e]||(this.propertyLabelById[e]=new f.RichProperty({id:e,label:{values:[{lang:"",text:s(e)}]}}),this.propertyLabelFetchingThread.startFetchingThread(e).then(function(e){t.dataProvider.propertyInfo&&0!==e.length&&t.dataProvider.propertyInfo({propertyIds:e}).then(function(e){for(var i in e)if(Object.hasOwnProperty.call(e,i)){var r=e[i];t.propertyLabelById[r.id]&&t.propertyLabelById[r.id].set("label",r.label)}})})),this.propertyLabelById[e]},t.prototype.getClassesById=function(e){var t=this;return this.classesById[e]||(this.classesById[e]=new f.FatClassModel({id:e,label:{values:[{lang:"",text:s(e)}]},count:0,children:[]}),this.classFetchingThread.startFetchingThread(e).then(function(e){e.length>0&&t.dataProvider.classInfo({classIds:e}).then(function(e){for(var i=0,r=e;i<r.length;i++){var a=r[i];t.classesById[a.id]&&(t.classesById[a.id].set("label",a.label),t.classesById[a.id].set("count",a.count))}})})),this.classesById[e]},t.prototype.createLinkType=function(e){var t=this;if(this.linkTypes.hasOwnProperty(e))return this.linkTypes[e];var i={values:[{text:s(e),lang:""}]},r=new f.FatLinkType({id:e,index:this.nextLinkTypeIndex++,label:i,diagram:this});return this.linkFetchingThread.startFetchingThread(e).then(function(e){e.length>0&&t.dataProvider.linkTypesInfo({linkTypeIds:e}).then(function(e){for(var i=0,r=e;i<r.length;i++){var a=r[i];t.linkTypes[a.id]&&(t.linkTypes[a.id].label=a.label)}})}),this.linkTypes[e]=r,r},t.prototype.onElementInfoLoaded=function(e){for(var t=0,i=Object.keys(e);t<i.length;t++){var r=i[t],a=this.getElement(r);a&&(a.template=e[r],a.trigger("state:loaded"))}},t.prototype.onLinkInfoLoaded=function(e){this.initBatchCommand();for(var t=0,i=e;t<i.length;t++){var r=i[t];this.createLink(r)}this.storeBatchCommand()},t.prototype.createLink=function(e,t){var i=this.getLink(e);if(i)return i.layoutOnly&&i.set("layoutOnly",!1,{ignoreCommandManager:!0}),i;var r=e.linkTypeId,a=e.sourceId,n=e.targetId,s=e.suggestedId,l=e.vertices,d=Boolean(s&&!this.cells.get(s)),c=new f.Link({id:d?s:"link_"+o(),typeId:r,source:{id:a},target:{id:n},vertices:l});return this.isSourceAndTargetVisible(c)&&this.createLinkType(c.typeId).visible?(this.registerLink(c),this.graph.addCell(c,t),c):void 0},t.prototype.registerLink=function(e){var t=e.typeId;this.linksByType.hasOwnProperty(t)||(this.linksByType[t]=[]),this.linksByType[t].push(e),void 0===e.typeIndex&&(e.typeIndex=this.createLinkType(t).index),this.sourceOf(e).links.push(e),this.targetOf(e).links.push(e)},t.prototype.getLink=function(e){var t=this.getElement(e.sourceId);if(t){var i=n(t.links,e);return i>=0&&t.links[i]}},t.prototype.removeLinkReferences=function(e){var t=this.getElement(e.sourceId);a(t&&t.links,e);var i=this.getElement(e.targetId);a(i&&i.links,e);var r=this.linksByType[e.linkTypeId];a(r,e)},t}(h.Model);t.DiagramModel=v,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=v,t.uri2name=s,t.chooseLocalizedText=l},function(e,t,i){"use strict";function r(e){var t=n.pick(e,o);return"Ontodia.Element"===t.type&&(t.type="element"),t}function a(e){var t=e.cells.map(function(e){return n.pick(e,o)});return{cells:t}}var n=i(28),o=["id","type","size","angle","isExpanded","position","typeId","source","target","vertices"];t.normalizeImportedCell=r,t.cleanExportedLayout=a},function(e,t){"use strict";var i=200,r=function(){function e(e){this.fetchingPromise=null,this.fetchingQueue=[],this.waitingTime=e||i}return e.prototype.startFetchingThread=function(e){var t=this;return this.fetchingQueue.push(e),this.fetchingPromise?Promise.resolve([]):(this.fetchingPromise=new Promise(function(e){setTimeout(function(){t.fetchingPromise=null;var i=t.fetchingQueue;t.fetchingQueue=[],e(i)},200)}),this.fetchingPromise)},e}();t.DataFetchingThread=r},function(e,t,i){"use strict";function r(e,t){for(var i=t,r=0,a=e;r<a.length;r++){var o=a[r];i=n(o,i)}var s=2147483647;return 360*((void 0===i?0:i)/s)}function a(){return{markerTarget:{d:"M0,0 L0,8 L9,4 z",width:9,height:8,fill:"black"}}}function n(e,t){void 0===t&&(t=2166136261);var i,r,a=2147483647&t;for(i=0,r=e.length;i<r;i++)a^=e.charCodeAt(i),a+=(a<<1)+(a<<4)+(a<<7)+(a<<8)+(a<<24);return a>>>0}var o=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},s=this&&this.__assign||Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},l=i(49),d=i(43),c=i(44),h=i(28),p=i(25),u=i(50),g=i(51),f=i(52),m=i(24),v=i(53),b=i(54),y=i(55),w=i(56),_=i(45),A=i(42),x=i(58),k=i(59),j=i(60),I={elementsToRemoveSelector:".link-tools, .marker-vertices",convertImagesToDataUris:!0},T=function(e){function t(t,i){void 0===i&&(i={});var r=e.call(this)||this;return r.model=t,r.options=i,r.selection=new d.Collection,r.colorSeed=195935983,r.linkMarkers={},r.onKeyUp=function(e){var t=46;e.keyCode===t&&"input"!==document.activeElement.localName&&r.removeSelectedElements()},r.setLanguage("en"),r.paper=new c.dia.Paper({model:r.model.graph,gridSize:1,elementView:k.SeparatedElementView,linkView:x.LinkView,width:1500,height:800,async:!0,preventContextMenu:!1,guard:function(e,t){return"mousedown"===e.type&&0!==e.button}}),r.paper.diagramView=r,r.typeStyleResolvers=i.typeStyleResolvers?i.typeStyleResolvers:g.DefaultTypeStyleBundle,r.linkStyleResolvers=i.linkStyleResolvers?r.options.linkStyleResolvers:f.DefaultLinkStyleBundle,r.templatesResolvers=i.templatesResolvers?i.templatesResolvers:v.DefaultTemplateBundle,r.listenTo(r.paper,"render:done",function(){r.model.trigger("state:renderDone")}),r.listenTo(t,"state:dataLoaded",function(){r.model.resetHistory()}),r}return o(t,e),t.prototype.getLanguage=function(){return this.get("language")},t.prototype.setLanguage=function(e){this.set("language",e)},t.prototype.cancelSelection=function(){this.selection.reset([])},t.prototype.print=function(){w.toSVG(this.paper,I).then(function(e){var t=window.open("",void 0,"width=1280,height=720");t.document.write(e),t.print()})},t.prototype.exportSVG=function(){return w.toSVG(this.paper,s({},I,{preserveDimensions:!0}))},t.prototype.exportPNG=function(e){return void 0===e&&(e={}),w.toDataURL(this.paper,s({},e,{svgOptions:s({},I,e.svgOptions)}))},t.prototype.adjustPaper=function(){this.paper.trigger("ontodia:adjustSize")},t.prototype.initializePaperComponents=function(){var e=this;this.configureElementLayer(),this.model.isViewOnly()||(this.configureSelection(),this.configureDefaultHalo(),document.addEventListener("keyup",this.onKeyUp),this.onDispose(function(){return document.removeEventListener("keyup",e.onKeyUp)}))},t.prototype.configureElementLayer=function(){var e=this,t=document.createElement("div");this.paper.el.appendChild(t),u.render(p.createElement(j.ElementLayer,{paper:this.paper,view:this}),t),this.onDispose(function(){u.unmountComponentAtNode(t),e.paper.el.removeChild(t)})},t.prototype.removeSelectedElements=function(){var e=this.selection.toArray();if(0!==e.length){this.cancelSelection(),this.model.graph.trigger("batch:start");for(var t=0,i=e;t<i.length;t++){var r=i[t];r.remove()}this.model.graph.trigger("batch:stop")}},t.prototype.configureSelection=function(){var e=this;if(!this.model.isViewOnly()){this.listenTo(this.paper,"cell:pointerup",function(t,i){if(!(t.model instanceof c.dia.Link||i.ctrlKey||i.shiftKey||i.metaKey)){var r=t.model;e.selection.reset([r]),r.focus()}});var t={x:NaN,y:NaN};this.listenTo(this.paper,"blank:pointerdown",function(e){t={x:e.screenX,y:e.screenY}}),this.listenTo(this.paper,"blank:pointerup",function(i){i.screenX===t.x&&i.screenY===t.y&&(e.selection.reset(),e.hideNavigationMenu(),document.activeElement&&document.activeElement.blur())})}},t.prototype.configureDefaultHalo=function(){var e=this;if(!this.options.disableDefaultHalo){var t=document.createElement("div");this.paper.el.appendChild(t);var i=function(r){var a=void 0;r&&(a=e.paper.findViewByModel(r)),u.render(p.createElement(b.Halo,{paper:e.paper,diagramView:e,cellView:a,onDelete:function(){return e.removeSelectedElements()},onExpand:function(){a.model.set("isExpanded",!a.model.get("isExpanded"))},navigationMenuOpened:Boolean(e.connectionsMenu),onToggleNavigationMenu:function(){e.connectionsMenu?e.hideNavigationMenu():e.showNavigationMenu(r),i(r)},onAddToFilter:function(){return r.addToFilter()}}),t)};this.listenTo(this.selection,"add remove reset",function(){var t=1===e.selection.length?e.selection.first():void 0;e.connectionsMenu&&t!==e.connectionsMenu.cellView.model&&e.hideNavigationMenu(),i(t)}),i(),this.onDispose(function(){u.unmountComponentAtNode(t),e.paper.el.removeChild(t)})}},t.prototype.showNavigationMenu=function(e){var t=this,i=this.paper.findViewByModel(e);this.connectionsMenu=new y.ConnectionsMenu({paper:this.paper,view:this,cellView:i,onClose:function(){t.connectionsMenu.remove(),t.connectionsMenu=void 0}})},t.prototype.hideNavigationMenu=function(){this.connectionsMenu&&(this.connectionsMenu.remove(),this.connectionsMenu=void 0)},t.prototype.onDragDrop=function(e,t){e.preventDefault();var i;try{i=JSON.parse(e.dataTransfer.getData("application/x-ontodia-elements"))}catch(r){try{i=JSON.parse(e.dataTransfer.getData("text"))}catch(r){var a=e.dataTransfer.getData("text/uri-list"),n=window.location.href.split("#")[0]+"#",o=0===a.indexOf(n)?a.substring(n.length):a;i=[o]}}if(i&&0!==i.length){this.model.initBatchCommand();for(var s=[],l=0,d=t.x,c=t.y,h=0,p=i;h<p.length;h++){var u=p[h],g=1===i.length,f=this.createElementAt(u,{x:d+l,y:c,center:g});l+=f.get("size").width+20,s.push(f),f.focus()}this.model.requestElementData(s),this.model.requestLinksOfType(),this.selection.reset(s),this.model.storeBatchCommand()}},t.prototype.createElementAt=function(e,t){var i=this.model.createElement(e),r=t.x,a=t.y,n=i.get("size");return t.center&&(r-=n.width/2,a-=n.height/2),i.set("position",{x:r,y:a}),i},t.prototype.getLocalizedText=function(e){return _.chooseLocalizedText(e,this.getLanguage())},t.prototype.getElementTypeString=function(e){var t=this;return e.types.map(function(e){var i=t.model.getClassesById(e);return t.getElementTypeLabel(i).text}).sort().join(", ")},t.prototype.getElementTypeLabel=function(e){var t=this.getLocalizedText(e.get("label").values);return t?t:{text:_.uri2name(e.id),lang:""}},t.prototype.getLinkLabel=function(e){var t=this.model.getLinkType(e),i=t?this.getLocalizedText(t.get("label").values):null;return i?i:{text:_.uri2name(e),lang:""}},t.prototype.getTypeStyle=function(e){e.sort();for(var t,i=0,a=this.typeStyleResolvers;i<a.length;i++){var n=a[i],o=n(e);if(o){t=o;break}}var s,d=t?t.icon:void 0;if(t&&t.color)s=l.hcl(t.color);else{var c=r(e,this.colorSeed);s={h:c,c:40,l:75}}return{icon:d,color:s}},t.prototype.registerElementStyleResolver=function(e){return this.typeStyleResolvers.unshift(e),e},t.prototype.unregisterElementStyleResolver=function(e){var t=this.typeStyleResolvers.indexOf(e);return t!==-1?this.typeStyleResolvers.splice(t,1)[0]:void 0},t.prototype.getElementTemplate=function(e){for(var t=0,i=this.templatesResolvers;t<i.length;t++){var r=i[t],a=r(e);if(a)return a}return m.DefaultTemplate},t.prototype.registerTemplateResolver=function(e){return this.templatesResolvers.unshift(e),e},t.prototype.unregisterTemplateResolver=function(e){var t=this.templatesResolvers.indexOf(e);return t!==-1?this.templatesResolvers.splice(t,1)[0]:void 0},t.prototype.getLinkStyle=function(e){for(var t=a(),i=0,r=this.linkStyleResolvers;i<r.length;i++){var n=r[i],o=n(e);if(o){h.merge(t,h.cloneDeep(o));break}}return this.linkMarkers[e]||(this.linkMarkers[e]={start:this.createLinkMarker(e,!0,t.markerSource),end:this.createLinkMarker(e,!1,t.markerTarget)}),t},t.prototype.createLinkMarker=function(e,t,i){if(i){var r="http://www.w3.org/2000/svg",a=this.paper.svg.getElementsByTagNameNS(r,"defs")[0],n=document.createElementNS(r,"marker"),o=this.model.getLinkType(e).index;n.setAttribute("id",A.linkMarkerKey(o,t)),n.setAttribute("markerWidth",i.width.toString()),n.setAttribute("markerHeight",i.height.toString()),n.setAttribute("orient","auto");var s=t?0:i.width-1;n.setAttribute("refX",s.toString()),n.setAttribute("refY",(i.height/2).toString()),n.setAttribute("markerUnits","userSpaceOnUse");var l=document.createElementNS(r,"path");return l.setAttribute("d",i.d),void 0!==i.fill&&l.setAttribute("fill",i.fill),void 0!==i.stroke&&l.setAttribute("stroke",i.stroke),void 0!==i.strokeWidth&&l.setAttribute("stroke-width",i.strokeWidth),n.appendChild(l),a.appendChild(n),n}},t.prototype.registerLinkStyleResolver=function(e){return this.linkStyleResolvers.unshift(e),e},t.prototype.unregisterLinkStyleResolver=function(e){var t=this.linkStyleResolvers.indexOf(e);return t!==-1?this.linkStyleResolvers.splice(t,1)[0]:void 0},t.prototype.getOptions=function(){return this.options},t.prototype.onDispose=function(e){this.listenTo(this,"dispose",e)},t.prototype.dispose=function(){this.paper&&(this.trigger("dispose"),this.stopListening(),this.paper.remove(),this.paper=void 0)},t}(d.Model);t.DiagramView=T,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=T},function(e,t){e.exports=s},function(e,t){e.exports=l},function(e,t){"use strict";t.DefaultTypeStyleBundle=[function(e){return e.indexOf("http://www.w3.org/2002/07/owl#Class")!==-1||e.indexOf("http://www.w3.org/2000/01/rdf-schema#Class")!==-1?{color:"#eaac77",icon:"ontodia-class-icon"}:e.indexOf("http://www.w3.org/2002/07/owl#ObjectProperty")!==-1?{color:"#34c7f3",icon:"ontodia-object-property-icon"}:e.indexOf("http://www.w3.org/2002/07/owl#DatatypeProperty")!==-1?{color:"#34c7f3",icon:"ontodia-datatype-property-icon"}:e.indexOf("http://xmlns.com/foaf/0.1/Person")!==-1?{color:"#eb7777",icon:"ontodia-person-icon"}:e.indexOf("http://schema.org/Organization")!==-1||e.indexOf("http://dbpedia.org/ontology/Organisation")!==-1||e.indexOf("http://xmlns.com/foaf/0.1/Organization")!==-1?{color:"#77ca98",icon:"ontodia-organization-icon"}:void 0}]},function(e,t){"use strict";var i={connection:{stroke:"#f8a485","stroke-width":2},markerTarget:{fill:"#f8a485",stroke:"#cf8e76"}},r={connection:{stroke:"#34c7f3","stroke-width":2},markerTarget:{fill:"#34c7f3",stroke:"#38b5db"}},a={connection:{stroke:"#34c7f3","stroke-width":2},markerTarget:{fill:"#34c7f3",stroke:"#38b5db"}},n={connection:{stroke:"#8cd965","stroke-width":2},markerTarget:{fill:"#8cd965",stroke:"#5b9a3b"}};t.DefaultLinkStyleBundle=[function(e){return"http://www.w3.org/2000/01/rdf-schema#subClassOf"===e?i:"http://www.w3.org/2000/01/rdf-schema#domain"===e?r:"http://www.w3.org/2000/01/rdf-schema#range"===e?a:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===e?n:void 0}]},function(e,t,i){"use strict";var r=i(26);t.DefaultTemplateBundle=[function(e){return e.indexOf("http://www.w3.org/2000/01/rdf-schema#Class")!==-1?r.BigIconTemplate:void 0},function(e){return e.indexOf("http://www.w3.org/2002/07/owl#Class")!==-1?r.BigIconTemplate:void 0},function(e){return e.indexOf("http://www.w3.org/2002/07/owl#ObjectProperty")!==-1?r.LeftBarTemplate:void 0},function(e){return e.indexOf("http://www.w3.org/2002/07/owl#DatatypeProperty")!==-1?r.LeftBarTemplate:void 0},function(e){return e.indexOf("http://xmlns.com/foaf/0.1/Person")!==-1||e.indexOf("http://www.wikidata.org/entity/Q5")!==-1?r.PersonTemplate:void 0},function(e){return e.indexOf("http://schema.org/Organization")!==-1||e.indexOf("http://dbpedia.org/ontology/Organisation")!==-1||e.indexOf("http://xmlns.com/foaf/0.1/Organization")!==-1?r.OrganizationTemplate:void 0}]},function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},a=i(43),n=i(25),o="ontodia-halo",s=function(e){function t(){var t=e.apply(this,arguments)||this;return t.handler=new a.Model,t}return r(t,e),t.prototype.componentWillMount=function(){var e=this;this.handler.listenTo(this.props.paper,"translate resize scale",function(){return e.forceUpdate()}),this.listenToCell(this.props.cellView)},t.prototype.componentWillReceiveProps=function(e){e.cellView!==this.props.cellView&&(this.props.cellView&&this.handler.stopListening(this.props.cellView.model),this.listenToCell(e.cellView))},t.prototype.listenToCell=function(e){var t=this;e&&this.handler.listenTo(e.model,"change:isExpanded change:position change:size",function(){return t.forceUpdate()})},t.prototype.componentWillUnmount=function(){this.props.diagramView.hideNavigationMenu(),this.handler.stopListening()},t.prototype.render=function(){if(!this.props.cellView)return n.createElement("div",{className:o,style:{display:"none"}});var e=this.props,t=e.cellView,i=e.navigationMenuOpened,r=t.model.get("isExpanded"),a=this.props.cellView.getBBox(),s={top:a.y,left:a.x,height:a.height,width:a.width};return n.createElement("div",{className:o,style:s},n.createElement("div",{className:o+"__delete",title:"Remove an element from the diagram",onClick:this.props.onDelete}),n.createElement("div",{className:o+"__navigate "+(o+"__navigate--"+(i?"closed":"open")),title:"Open a dialog to navigate to connected elements",onClick:this.props.onToggleNavigationMenu}),n.createElement("div",{className:o+"__add-to-filter",title:"Search for connected elements",onClick:this.props.onAddToFilter}),n.createElement("div",{className:o+"__expand "+(o+"__expand--"+(r?"closed":"open")),title:"Expand an element to reveal additional properties",onClick:this.props.onExpand}))},t}(n.Component);t.Halo=s},function(e,t,i){"use strict";function r(e,t){if(t){t=t.toLowerCase();var i=e.toLowerCase().indexOf(t),r=i+t.length,a="",n="",o="";return 0===i?n=e.substring(0,r):(a=e.substring(0,i),n=e.substring(i,r)),r<=e.length&&(o=e.substring(r,e.length)),s.createElement("span",null,a,s.createElement("span",{style:{color:"darkred",fontWeight:"bold"}},n),o)}return s.createElement("span",null,e)}var a=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},n=i(43),o=i(44),s=i(25),l=i(50),d=i(42),c=i(45),h=40,p=new d.FatLinkType({id:"allRelatedElements",index:-1,label:{values:[{lang:"",text:"All"}]},diagram:null}),u=function(){function e(e){var t=this;this.options=e,this.addSelectedElements=function(e){var i,r=Math.round(Math.sqrt(e.length))+1,a=100;i=t.cellView.model instanceof o.dia.Element?t.cellView.model.position():t.cellView.getBBox();var n=i.x-r*a/2,s=i.y-r*a/2,l=0,d=0,c=[];e.forEach(function(e){var i=t.view.model.getElement(e.model.id);i||(i=t.view.model.createElement(e.model)),c.push(i),l>r&&(l=0,d++),l===Math.round(r/2)&&l++,d===Math.round(r/2)&&d++,i.position(n+l++*a,s+d*a)});var h=t.selectedLink&&t.selectedLink!==p;h&&!t.selectedLink.visible&&t.selectedLink.setVisibility({visible:!0,showLabel:!0},{preventLoading:!0}),t.view.model.requestElementData(c),t.view.model.requestLinksOfType(),t.options.view.adjustPaper(),t.options.onClose()},this.onExpandLink=function(e,i){t.selectedLink===e&&t.objects&&t.direction===i||t.loadObjects(e,i),t.render()},this.onMoveToFilter=function(e,i){if(e===p){var r=t.cellView.model;r.addToFilter()}else{var a=t.view.model.getElement(t.cellView.model.id);a.addToFilter(e,i)}},this.render=function(){var e={links:t.links||[],countMap:t.countMap||{}},i=null;t.selectedLink&&t.objects&&(i={selectedLink:t.selectedLink,objects:t.objects}),l.render(s.createElement(g,{cellView:t.options.cellView,connectionsData:e,objectsData:i,state:t.state,lang:t.view.getLanguage(),onExpandLink:t.onExpandLink,onPressAddSelected:t.addSelectedElements,onMoveToFilter:t.onMoveToFilter}),t.container)},this.container=document.createElement("div"),this.options.paper.el.appendChild(this.container),this.cellView=this.options.cellView,this.view=this.options.view,this.handler=new n.Model,this.handler.listenTo(this.options.cellView.model,"change:isExpanded change:position change:size",this.render),this.handler.listenTo(this.options.paper,"scale",this.render),this.handler.listenTo(this.view,"change:language",this.render),this.loadLinks(),this.render()}return e.prototype.subscribeOnLinksEevents=function(e){
for(var t=0,i=e;t<i.length;t++){var r=i[t];this.handler.listenTo(r,"change:label",this.render),this.handler.listenTo(r,"change:visible",this.render),this.handler.listenTo(r,"change:showLabel",this.render)}},e.prototype.unsubscribeOnLinksEevents=function(e){for(var t=0,i=e;t<i.length;t++){var r=i[t];this.handler.stopListening(r)}},e.prototype.loadLinks=function(){var e=this;this.state="loading",this.links=[],this.countMap={},this.view.model.dataProvider.linkTypesOf({elementId:this.cellView.model.id}).then(function(t){e.state="completed";for(var i={},r=[],a=0,n=t;a<n.length;a++){var o=n[a];i[o.id]={inCount:o.inCount,outCount:o.outCount},r.push(e.view.model.getLinkType(o.id))}i[p.id]=Object.keys(i).map(function(e){return i[e]}).reduce(function(e,t){return{inCount:e.inCount+t.inCount,outCount:e.outCount+t.outCount}},{inCount:0,outCount:0}),e.countMap=i,e.unsubscribeOnLinksEevents(e.links),e.links=r,e.subscribeOnLinksEevents(e.links),e.render()})["catch"](function(t){console.error(t),e.state="error",e.render()})},e.prototype.loadObjects=function(e,t){var i=this;this.state="loading",this.selectedLink=e,this.objects=[],this.direction=t;for(var r=this.countMap[e.id],a=r.inCount,n=r.outCount,o="in"===t?a:"out"===t?n:a+n,s=Math.ceil(o/100),l=[],d=0;d<s;d++)l.push(this.view.model.dataProvider.linkElements({elementId:this.cellView.model.id,linkId:e===p?void 0:this.selectedLink.id,limit:100,offset:100*d,direction:t}));Promise.all(l).then(function(e){i.state="completed",i.objects=[],e.forEach(function(e){Object.keys(e).forEach(function(t){return i.objects.push({model:e[t],presentOnDiagram:Boolean(i.view.model.getElement(t))})})}),i.render()})["catch"](function(e){console.error(e),i.state="error",i.render()})},e.prototype.remove=function(){this.handler.stopListening(),l.unmountComponentAtNode(this.container),this.options.paper.el.removeChild(this.container)},e}();t.ConnectionsMenu=u;var g=function(e){function t(t){var i=e.call(this,t)||this;return i.onChangeFilter=function(e){i.state.filterKey=e.currentTarget.value,i.setState(i.state)},i.getTitle=function(){return i.props.objectsData&&"objects"===i.state.panel?"Objects":i.props.connectionsData&&"connections"===i.state.panel?"Connections":"Error"},i.onExpandLink=function(e,t){i.setState({filterKey:"",panel:"objects"}),i.props.onExpandLink(e,t)},i.onCollapseLink=function(){i.setState({filterKey:"",panel:"connections"})},i.getBreadCrumbs=function(){return i.props.objectsData&&"objects"===i.state.panel?s.createElement("span",{className:"ontodia-connections-menu_bread-crumbs"},s.createElement("a",{onClick:i.onCollapseLink},"Connections")," / ",c.chooseLocalizedText(i.props.objectsData.selectedLink.get("label").values,i.props.lang).text.toLowerCase()):""},i.getBody=function(){return"error"===i.props.state?s.createElement("label",{className:"ontodia-connections-menu__error"},"Error"):i.props.objectsData&&"objects"===i.state.panel?s.createElement(v,{data:i.props.objectsData,lang:i.props.lang,filterKey:i.state.filterKey,loading:"loading"===i.props.state,onPressAddSelected:i.props.onPressAddSelected}):i.props.connectionsData&&"connections"===i.state.panel?"loading"===i.props.state?s.createElement("label",{className:"ontodia-connections-menu__loading"},"Loading..."):s.createElement(f,{data:i.props.connectionsData,lang:i.props.lang,filterKey:i.state.filterKey,onExpandLink:i.onExpandLink,onMoveToFilter:i.props.onMoveToFilter}):s.createElement("div",null)},i.state={filterKey:"",panel:"connections"},i}return a(t,e),t.prototype.render=function(){var e=this.props.cellView.getBBox(),t={top:e.y+e.height/2-150,left:e.x+e.width+h,backgroundColor:"white",border:"1px solid black"};return s.createElement("div",{className:"ontodia-connections-menu",style:t},s.createElement("label",{className:"ontodia-connections-menu__title-label"},this.getTitle()),this.getBreadCrumbs(),s.createElement("div",{className:"ontodia-connections-menu_search-line"},s.createElement("input",{type:"text",className:"search-input form-control",value:this.state.filterKey,onChange:this.onChangeFilter,placeholder:"Search for..."})),s.createElement("div",{className:"ontodia-connections-menu__progress-bar ontodia-connections-menu__progress-bar--"+this.props.state},s.createElement("div",{className:"progress-bar progress-bar-striped active",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"100",style:{width:"100%"}})),this.getBody())},t}(s.Component),f=function(e){function t(t){var i=e.call(this,t)||this;return i.compareLinks=function(e,t){var r=e.get("label"),a=t.get("label"),n=r?c.chooseLocalizedText(r.values,i.props.lang).text.toLowerCase():null,o=a?c.chooseLocalizedText(a.values,i.props.lang).text.toLowerCase():null;return n<o?-1:n>o?1:0},i.getLinks=function(){return(i.props.data.links||[]).filter(function(e){var t=e.get("label"),r=t?c.chooseLocalizedText(t.values,i.props.lang).text.toLowerCase():null;return!i.props.filterKey||r&&r.indexOf(i.props.filterKey.toLowerCase())!==-1}).sort(i.compareLinks)},i.getViews=function(e){for(var t=i.props.data.countMap||{},r=[],a=function(e){["in","out"].forEach(function(a){var n=0;"in"===a?n=t[e.id].inCount:"out"===a&&(n=t[e.id].outCount),0!==n&&r.push(s.createElement(m,{key:a+"-"+e.id,link:e,onExpandLink:i.props.onExpandLink,lang:i.props.lang,count:n,direction:a,filterKey:i.props.filterKey,onMoveToFilter:i.props.onMoveToFilter}))})},n=0,o=e;n<o.length;n++){var l=o[n];a(l)}return r},i}return a(t,e),t.prototype.render=function(){var e,t=this.getLinks(),i=this.getViews(t);if(0===i.length)e=s.createElement("label",{className:"ontodia-connections-menu_links-list__empty"},"List empty");else if(e=i,t.length>1){var r=this.props.data.countMap||{},a=r[p.id];e=[s.createElement(m,{key:p.id,link:p,onExpandLink:this.props.onExpandLink,lang:this.props.lang,count:a.inCount+a.outCount,onMoveToFilter:this.props.onMoveToFilter}),s.createElement("hr",{key:"ontodia-hr-line",className:"ontodia-connections-menu_links-list__hr"})].concat(e)}return s.createElement("ul",{className:"ontodia-connections-menu_links-list "+(0===i.length?"ocm_links-list-empty":"")},e)},t}(s.Component),m=function(e){function t(t){var i=e.call(this,t)||this;return i.onExpandLink=function(e){i.props.onExpandLink(i.props.link,e)},i.onMoveToFilter=function(e){e.stopPropagation(),i.props.onMoveToFilter(i.props.link,i.props.direction)},i}return a(t,e),t.prototype.render=function(){var e=this,t=c.chooseLocalizedText(this.props.link.get("label").values,this.props.lang).text,i=r(t,this.props.filterKey),a="in"===this.props.direction?"source":"out"===this.props.direction?"target":"all connected",n="Navigate to "+a+' "'+t+'" elements';return s.createElement("li",{"data-linkTypeId":this.props.link.id,className:"link-in-popup-menu",title:n,onClick:function(){return e.onExpandLink(e.props.direction)}},"in"===this.props.direction&&s.createElement("div",{className:"link-in-popup-menu__in-direction"}),"out"===this.props.direction&&s.createElement("div",{className:"link-in-popup-menu__out-direction"}),s.createElement("div",{className:"link-in-popup-menu__link-title"},i),s.createElement("span",{className:"badge link-in-popup-menu__count"},this.props.count),s.createElement("a",{className:"filter-button",onClick:this.onMoveToFilter,title:"Set as filter in the Instances panel"},s.createElement("img",null)),s.createElement("div",{className:"link-in-popup-menu__navigate-button",title:n}))},t}(s.Component),v=function(e){function t(t){var i=e.call(this,t)||this;return i.updateCheckMap=function(){i.props.data.objects.forEach(function(e){void 0===i.state.checkMap[e.model.id]&&(i.state.checkMap[e.model.id]=!0)})},i.onCheckboxChanged=function(e,t){if(i.state.checkMap[e.model.id]!==t){i.state.checkMap[e.model.id]=t;var r=i.getFilteredObjects().map(function(e){return e.model.id}),a=Object.keys(i.state.checkMap).filter(function(e){return r.indexOf(e)!==-1}),n=a.filter(function(e){return!i.state.checkMap[e]}).length;t||n!==a.length?0===n?i.state.selectAll="checked":i.state.selectAll="undefined":i.state.selectAll="unchecked",i.setState(i.state)}},i.onSelectAll=function(){var e=!i.selectAllValue();e?i.state.selectAll="checked":i.state.selectAll="unchecked";var t=i.getFilteredObjects().filter(function(e){return!e.presentOnDiagram}).map(function(e){return e.model.id}),r=Object.keys(i.state.checkMap).filter(function(e){return t.indexOf(e)!==-1});r.forEach(function(t){i.state.checkMap[t]=e}),i.setState(i.state)},i.selectAllValue=function(){return"undefined"===i.state.selectAll||"checked"===i.state.selectAll},i.getFilteredObjects=function(){return i.props.data.objects.filter(function(e){var t=e.model.label,r=t?c.chooseLocalizedText(t.values,i.props.lang).text.toLowerCase():null;return!i.props.filterKey||r&&r.indexOf(i.props.filterKey.toLowerCase())!==-1})},i.getObjects=function(e){var t={};return e.filter(function(e){return!t[e.model.id]&&(t[e.model.id]=!0,!0)}).map(function(e){return s.createElement(b,{key:e.model.id,element:e,lang:i.props.lang,filterKey:i.props.filterKey,checked:i.state.checkMap[e.model.id],onCheckboxChanged:i.onCheckboxChanged})})},i.addSelected=function(){i.props.onPressAddSelected(i.getFilteredObjects().filter(function(e){return i.state.checkMap[e.model.id]&&!e.presentOnDiagram}))},i.state={checkMap:{},selectAll:"checked"},i.updateCheckMap(),i}return a(t,e),t.prototype.render=function(){var e=this;this.updateCheckMap();var t=this.getFilteredObjects(),i=this.getObjects(t),r=t.filter(function(t){return e.state.checkMap[t.model.id]&&!t.presentOnDiagram}).length,a=r.toString()+" of "+this.props.data.objects.length;return s.createElement("div",{className:"ontodia-connections-menu_objects-panel"},s.createElement("div",{className:"ontodia-connections-menu_objects-panel__select-all",onClick:this.onSelectAll},s.createElement("input",{className:"undefined"===this.state.selectAll?"undefined":"",type:"checkbox",checked:this.selectAllValue(),onChange:function(){},disabled:0===this.props.data.objects.length}),s.createElement("span",null,"Select All")),this.props.loading?s.createElement("label",{className:"ontodia-connections-menu__loading-objects"},"Loading..."):s.createElement("div",{className:"ontodia-connections-menu_objects-panel_objects-list"},i),s.createElement("div",{className:"ontodia-connections-menu_objects-panel_bottom-panel"},s.createElement("label",{className:"ontodia-connections-menu_objects-panel_bottom-panel__count-label"},s.createElement("span",null,a)),s.createElement("button",{className:"btn btn-primary pull-right ontodia-connections-menu_objects-panel_bottom-panel__add-button",disabled:this.props.loading||0===r,onClick:this.addSelected},"Add selected")))},t}(s.Component),b=function(e){function t(t){var i=e.call(this,t)||this;return i.onCheckboxChange=function(){i.props.element.presentOnDiagram||(i.state.checked=!i.state.checked,i.setState(i.state),i.props.onCheckboxChanged(i.props.element,i.state.checked))},i.state={checked:i.props.checked},i}return a(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState({checked:e.checked})},t.prototype.render=function(){var e=c.chooseLocalizedText(this.props.element.model.label.values,this.props.lang).text,t=r(e,this.props.filterKey);return s.createElement("li",{"data-linkTypeId":this.props.element.model.id,className:"element-in-popup-menu"+(this.state.checked?"":" unchecked"),onClick:this.onCheckboxChange},s.createElement("input",{type:"checkbox",checked:this.state.checked,onChange:function(){},className:"element-in-popup-menu__checkbox",disabled:this.props.element.presentOnDiagram}),s.createElement("div",{className:"element-in-popup-menu__link-label",title:this.props.element.presentOnDiagram?"Element '"+e+"' already present on diagram!":e,style:{fontStyle:this.props.element.presentOnDiagram?"italic":"inherit"}},t))},t}(s.Component)},function(e,t,i){"use strict";function r(e,t){if(void 0===t&&(t={}),g.isIE11())return Promise.reject(new Error("Export to SVG is not supported in the Internet Explorer"));var i=e.viewport.getAttribute("transform");e.viewport.setAttribute("transform","");var r=e.getContentBBox(),d=n(e,f),c=d.svgClone,h=d.imageBounds;e.viewport.setAttribute("transform",i||""),c.removeAttribute("style"),t.preserveDimensions?(c.setAttribute("width",r.width.toString()),c.setAttribute("height",r.height.toString())):(c.setAttribute("width","100%"),c.setAttribute("height","100%")),c.setAttribute("viewBox",r.x+" "+r.y+" "+r.width+" "+r.height);var p=c.querySelectorAll("img"),m=function(e,i){if(e>=p.length)return void i();var r=p[e],a=h[l(c,r)],n=a.width,o=a.height;r.setAttribute("width",n.toString()),r.setAttribute("height",o.toString()),t.convertImagesToDataUris?u.util.imageToDataUri(r.src,function(t,a){a&&"data:image/svg+xml,"!==a&&(r.src=a),m(e+1,i)}):m(e+1,i)};return new Promise(function(e){var t=o();m(0,function(){t.dispose(),e()})}).then(function(){var e=a(function(e){return e.indexOf(".ontodia")>=0}),i=document.createElementNS("http://www.w3.org/2000/svg","defs");return i.innerHTML="<style>"+e.join("\n")+"</style>",c.insertBefore(i,c.firstChild),t.elementsToRemoveSelector&&s(c.querySelectorAll(t.elementsToRemoveSelector),function(e){return e.remove()}),(new XMLSerializer).serializeToString(c)})}function a(e){for(var t=[],i=0;i<document.styleSheets.length;i++){var r=void 0;try{var a=document.styleSheets[i];if(r=a.cssRules||a.rules,!r)continue}catch(n){continue}for(var o=[],s=!1,l=0;l<r.length;l++){var d=r[l];if(d instanceof CSSStyleRule){var c=d.cssText;o.push(d.cssText),e(c)&&(s=!0)}}s&&t.push(o.join("\n"))}return t}function n(e,t){var i=e.svg.cloneNode(!0),r={},a=e.model.get("cells");return s(i.querySelectorAll("g.element"),function(n){var o=n.getAttribute("model-id"),d=e.el.querySelector(".ontodia-overlayed-element[model-id='"+o+"']");if(d){var c=document.createElementNS("http://www.w3.org/2000/svg","foreignObject"),h=a.get(o),p=h.get("size");c.setAttribute("width",p.width+t),c.setAttribute("height",p.height+t);var u=d.firstChild;c.appendChild(u.cloneNode(!0)),n.setAttribute("class",n.getAttribute("class")+" ontodia-exported-element");var g=n.querySelector(".rootOfUI"),f=g.parentElement;f.removeChild(g),f.appendChild(c),s(u.querySelectorAll("img"),function(e){var t=l(i,f),a=l(u,e);r[t+":0:0:"+a]={width:e.clientWidth,height:e.clientHeight}})}}),{svgClone:i,imageBounds:r}}function o(e){try{var t=XMLHttpRequest;XMLHttpRequest=function(){function i(){this.xhr=new t,this.responseText=""}return i.prototype.open=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.xhr.open.apply(this.xhr,e)},i.prototype.send=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];try{this.xhr.send.apply(this.xhr,t)}catch(r){e&&e(r)}},i}();var i=!1,r=function(){i||(i=!0,XMLHttpRequest=t)};return{dispose:r}}catch(a){return{dispose:function(){}}}}function s(e,t){for(var i=0;i<e.length;i++)t(e[i])}function l(e,t){for(var i=[],r=t;r&&r!==e;){for(var a=r,n=0;a=a.previousSibling;)n++;i.unshift(n),r=r.parentNode}return i.join(":")}function d(e,t){return new Promise(function(i,a){t=t||{},t.type=t.type||"image/png";var n,o,s,l=t.padding||0,d=e.viewport.getBoundingClientRect();n=c(d.width||1,d.height||1,t.width,t.height),l=Math.min(l,n.width/2-1,n.height/2-1),s=n.width-2*l,o=n.height-2*l;var h=new Image;h.onload=function(){function e(){c=document.createElement("canvas"),c.width=n.width,c.height=n.height,d=c.getContext("2d"),d.fillStyle=t.backgroundColor||"white",d.fillRect(0,0,n.width,n.height)}var r,d,c;e();try{d.drawImage(h,l,l,s,o),r=c.toDataURL(t.type,t.quality),i(r)}catch(p){return void a(p)}};var u=p.clone(t.svgOptions||{convertImagesToDataUris:!0});u.convertImagesToDataUris=!0,r(e,u).then(function(e){e=e.replace('width="100%"','width="'+s+'"').replace('height="100%"','height="'+o+'"'),h.src="data:image/svg+xml,"+encodeURIComponent(e)})})}function c(e,t,i,r){if(!i&&!r)return{width:e,height:t};var a=e/t;return i=i||r*a,r=r||i/a,r*a<=i?{width:r*a,height:r}:{width:i,height:i/a}}function h(e){var t=";base64,";if(e.indexOf(t)===-1){var i=e.split(","),r=i[0].split(":")[1],a=decodeURIComponent(i[1]);return new Blob([a],{type:r})}for(var n=e.split(t),o=n[0].split(":")[1],s=window.atob(n[1]),l=s.length,d=new Uint8Array(l),c=0;c<l;++c)d[c]=s.charCodeAt(c);return new Blob([d],{type:o})}var p=i(28),u=i(44),g=i(57),f=2;t.toSVG=r,t.toDataURL=d,t.fitRectKeepingAspectRatio=c,t.dataURLToBlob=h},function(e,t){"use strict";function i(){return!window.ActiveXObject&&"ActiveXObject"in window}t.isIE11=i},function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},a=i(44),n=i(28),o=i(57),s=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.initialize=function(){a.dia.LinkView.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:layoutOnly",this.updateLabel)},t.prototype.render=function(){!this.view&&this.paper&&this.paper.diagramView&&this.setView(this.paper.diagramView);var t=e.prototype.render.call(this);return t},t.prototype.getTypeModel=function(){return this.view.model.getLinkType(this.model.get("typeId"))},t.prototype.setView=function(e){this.view=e,this.listenTo(this.view,"change:language",this.updateLabel);var t=this.getTypeModel();this.listenTo(t,"change:showLabel",this.updateLabel),this.listenTo(t,"change:label",this.updateLabel),this.updateLabelWithOptions({silent:!0})},t.prototype.updateLabel=function(){this.updateLabelWithOptions()},t.prototype.updateLabelWithOptions=function(e){var t=this.model.get("typeId"),i=this.view.model.getLinkType(t),r=this.view.getLinkStyle(this.model.get("typeId"));n.merge(r,{connection:{"stroke-dasharray":this.model.layoutOnly?"5,5":null}});var a={labels:r.labels,connector:r.connector,router:r.router,z:0};r.connection&&n.merge(a,{attrs:{".connection":r.connection}});var o=i&&i.get("showLabel"),s=o?[{position:.5,attrs:{text:{text:this.view.getLinkLabel(t).text}}}]:[];n.merge(a,{labels:s}),this.model.set(a,e)},t}(a.dia.LinkView);t.LinkView=s,o.isIE11()&&(s.prototype.update=function(){a.dia.LinkView.prototype.update.apply(this,arguments);var e=this.el.querySelector(".connection");if(e){var t=e.parentNode;t&&(t.removeChild(e),t.insertBefore(e,t.firstChild))}})},function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},a=i(44),n=!1,o=function(e){function t(){var t=e.apply(this,arguments)||this;return t.updateSize=function(){var e=t.model.get("size")||{width:0,height:0};t.rect.setAttribute("width",e.width||0),t.rect.setAttribute("height",e.height||0)},t}return r(t,e),t.prototype.render=function(){var t=e.prototype.render.call(this);return!this.view&&this.paper&&this.paper.diagramView&&this.setView(this.paper.diagramView),this.rect=this.el.querySelector(".rootOfUI"),this.rect.setAttribute("cursor","pointer"),n&&(this.rect.style.fill="green",this.rect.style.stroke="red",this.rect.style.strokeWidth="3"),this.updateSize(),t},t.prototype.setView=function(e){this.view=e,this.listenTo(this.model,"change:size",this.updateSize)},t}(a.dia.ElementView);t.SeparatedElementView=o},function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},a=i(25),n=i(50),o=i(43),s=i(49),l=i(61),d=i(45),c=function(e){function t(){var t=e.apply(this,arguments)||this;return t.listener=new o.Model,t.updateAll=function(){return t.forceUpdate()},t.updateElementSize=function(e,t){var i=t.clientWidth,r=t.clientHeight;e.set("size",{width:i,height:r})},t}return r(t,e),t.prototype.render=function(){var e=this,t=this.props.view.model.elements,i=this.props.paper.viewport.getCTM(),r={x:i.a,y:i.d},n={x:i.e,y:i.f};return a.createElement("div",{className:"ontodia-element-layer",ref:function(t){return e.layer=t},style:{position:"absolute",left:0,top:0,transform:"translate("+n.x+"px,"+n.y+"px) scale("+r.x+","+r.y+")"}},t.map(function(t){return a.createElement(h,{key:t.id,model:t,view:e.props.view,onResize:e.updateElementSize,onRender:e.updateElementSize})}))},t.prototype.componentDidMount=function(){var e=this.props.paper,t=e.model;this.listener.listenTo(t,"add remove reset",this.updateAll),this.listener.listenTo(e,"scale",this.updateAll),this.listener.listenTo(e,"translate resize",this.updateAll)},t.prototype.componentWillUnmount=function(){this.listener.stopListening()},t}(a.Component);t.ElementLayer=c;var h=function(e){function t(t){var i=e.call(this,t)||this;return i.listener=new o.Model,i.typesObserver=new p({subscribe:function(e){var t=i.props.view.model.getClassesById(e);t&&i.listener.listenTo(t,"change:label",i.rerenderTemplate)},unsubscribe:function(e){var t=i.props.view.model.getClassesById(e);t&&i.listener.stopListening(t)}}),i.propertyObserver=new p({subscribe:function(e){var t=i.props.view.model.getPropertyById(e);t&&i.listener.listenTo(t,"change:label",i.rerenderTemplate)},unsubscribe:function(e){var t=i.props.view.model.getPropertyById(e);t&&i.listener.stopListening(t)}}),i.rerenderTemplate=function(){return i.setState({templateProps:i.templateProps()})},i.state={templateProps:i.templateProps()},i}return r(t,e),t.prototype.render=function(){var e=this,t=this.props,i=t.model,r=t.view,o=t.onResize,s=t.onRender;this.typesObserver.observe(i.template.types),this.propertyObserver.observe(Object.keys(i.template.properties));var d=r.getElementTemplate(i.template.types),c=i.get("position")||{},h=c.x,p=void 0===h?0:h,u=c.y,g=void 0===u?0:u,f="translate("+p+"px,"+g+"px)",m=i.get("angle")||0;return m&&(f+="rotate("+m+"deg)"),a.createElement("div",{className:"ontodia-overlayed-element",style:{position:"absolute",transform:f},tabIndex:0,onLoad:function(){return o(i,n.findDOMNode(e))},onError:function(){return o(i,n.findDOMNode(e))},onClick:function(e){if(e.target instanceof HTMLElement&&"a"===e.target.localName){var t=e.target;i.iriClick(t.href),e.preventDefault()}},onDoubleClick:function(){i.isExpanded=!i.isExpanded},ref:function(e){e&&(e.setAttribute("model-id",i.id),s(i,e))}},"string"==typeof d?a.createElement(l.HandlebarsTemplate,{template:d,templateProps:this.state.templateProps,onLoad:function(){return o(i,n.findDOMNode(e))}}):a.createElement(d,this.state.templateProps))},t.prototype.componentDidMount=function(){var e=this,t=this.props,i=t.model,r=t.view;this.listener.listenTo(r,"change:language",this.rerenderTemplate),this.listener.listenTo(i,"state:loaded",this.rerenderTemplate),this.listener.listenTo(i,"focus-on-me",function(){var t=n.findDOMNode(e);t&&t.focus()}),this.listener.listenTo(i,"change",function(){var t=!1,r=!1;for(var a in i.changed)i.changed.hasOwnProperty(a)&&("size"===a||("position"===a||"angle"===a?t=!0:r=!0));r?e.rerenderTemplate():t&&e.forceUpdate()})},t.prototype.componentWillUnmount=function(){this.listener.stopListening()},t.prototype.shouldComponentUpdate=function(e,t){return t!==this.state},t.prototype.componentDidUpdate=function(){this.props.onResize(this.props.model,n.findDOMNode(this))},t.prototype.templateProps=function(){var e=this.props,t=e.model,i=e.view,r=t.template.types.length>0?i.getElementTypeString(t.template):"Thing",a=i.getLocalizedText(t.template.label.values).text,n=this.styleFor(t),o=n.color,s=n.icon,l=this.getPropertyTable();return{types:r,label:a,color:o,icon:s,iri:t.template.id,imgUrl:t.template.image,isExpanded:t.isExpanded,props:t.template.properties,propsAsList:l}},t.prototype.getPropertyTable=function(){var e=this.props,t=e.model,i=e.view;if(!t.template.properties)return[];var r=Object.keys(t.template.properties).map(function(e){var r=i?i.model.getPropertyById(e):void 0,a=i?i.getLocalizedText(r.label.values).text:d.uri2name(e);return{id:e,name:a,property:t.template.properties[e]}});return r.sort(function(e,t){var i=(e.name||e.id).toLowerCase(),r=(t.name||t.id).toLowerCase();return i.localeCompare(r)}),r},t.prototype.styleFor=function(e){var t=this.props.view.getTypeStyle(e.template.types),i=t.color,r=i.h,a=i.c,n=i.l,o=t.icon;return{icon:o?o:"ontodia-default-icon",color:s.hcl(r,a,n).toString()}},t}(a.Component),p=function(){function e(e){this.observedKeys=this.createMap(),this.subscribe=e.subscribe,this.unsubscribe=e.unsubscribe}return e.prototype.createMap=function(){var e=Object.create(null);return delete e.hint,e},e.prototype.observe=function(e){for(var t=this.createMap(),i=0,r=e;i<r.length;i++){var a=r[i];t[a]||(t[a]=!0,this.observedKeys[a]||this.subscribe(a))}for(var a in this.observedKeys)t[a]||this.unsubscribe(a);this.observedKeys=t},e}()},function(e,t,i){"use strict";function r(e){if(!e.complete)return new Promise(function(t){var i,r=function(){i(),t()},a=function(){i(),t()};i=function(){e.removeEventListener("load",r,!0),e.removeEventListener("error",r,!0)},e.addEventListener("load",r,!0),e.addEventListener("error",a,!0)})}var a=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},n=i(25),o=i(50),s=i(62),l={getProperty:function(e,t){return e&&e[t]?e[t].values.map(function(e){return e.text}).join(", "):void 0}},d=function(e){function t(t){var i=e.call(this,t)||this;return i.cancelLoad=function(){},i.compiledTemplate=s.compile(i.props.template),i}return a(t,e),t.prototype.render=function(){return n.createElement("div",{dangerouslySetInnerHTML:this.renderTemplate()})},t.prototype.renderTemplate=function(){var e=this.props.templateProps,t=this.compiledTemplate(e,{helpers:l});return{__html:t}},t.prototype.componentDidMount=function(){this.subscribeOnLoad()},t.prototype.componentDidUpdate=function(){this.subscribeOnLoad()},t.prototype.componentWillUnmount=function(){this.cancelLoad()},t.prototype.subscribeOnLoad=function(){this.cancelLoad();var e=this.props.onLoad,t=o.findDOMNode(this);if(e){var i=!1;this.cancelLoad=function(){return i=!0},this.subscribeOnImagesLoad(t).then(function(){i||e()})}},t.prototype.subscribeOnImagesLoad=function(e){for(var t=[],i=e.querySelectorAll("img"),a=0;a<i.length;a++){var n=i[a],o=r(n);o&&t.push(o)}return Promise.all(t).then(function(){})},t}(n.Component);t.HandlebarsTemplate=d},function(e,t){e.exports=d},function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},a=i(25),n=i(43),o=i(45),s=i(48),l=i(39),d=i(64),c=i(72),h=i(56),p=i(74),u=i(75),g=i(77),f=function(e){function t(t){var i=e.call(this,t)||this;return i.zoomToFit=function(){i.markup.paperArea.zoomToFit()},i.forceLayout=function(){for(var e=[],t={},r=0,a=i.model.elements;r<a.length;r++){var n=a[r],o=n.get("size"),s=n.get("position"),d={id:n.id,x:s.x,y:s.y,width:o.width,height:o.height};t[n.id]=d,e.push(d)}for(var c=[],h=0,p=i.model.links;h<p.length;h++){var u=p[h];if(i.model.isSourceAndTargetVisible(u)){var g=i.model.sourceOf(u),f=i.model.targetOf(u);c.push({link:u,source:t[g.id],target:t[f.id]})}}l.forceLayout({nodes:e,links:c,preferredLinkLength:200}),l.padded(e,{x:10,y:10},function(){return l.removeOverlaps(e)}),l.translateToPositiveQuadrant({nodes:e,padding:{x:150,y:150}});for(var m=0,v=e;m<v.length;m++){var d=v[m];i.model.getElement(d.id).position(d.x,d.y)}i.markup.paperArea.adjustPaper(),l.translateToCenter({nodes:e,paperSize:i.markup.paperArea.getPaperSize(),contentBBox:i.markup.paperArea.getContentFittingBox()});for(var b=0,y=e;b<y.length;b++){var d=y[b];i.model.getElement(d.id).position(d.x,d.y)}for(var w=0,_=c;w<_.length;w++){var u=_[w].link;u.set("vertices",[])}},i.exportSvg=function(e){i.diagram.exportSVG().then(function(t){e.download="diagram.svg";var i='<?xml version="1.0" encoding="UTF-8"?>';e.href=window.URL.createObjectURL(new Blob([i+t],{type:"image/svg+xml"})),e.click()})},i.exportPng=function(e){i.diagram.exportPNG({backgroundColor:"white"}).then(function(t){e.download="diagram.png",e.href=window.URL.createObjectURL(h.dataURLToBlob(t)),e.click()})},i.undo=function(){i.model.undo()},i.redo=function(){i.model.redo()},i.zoomIn=function(){i.markup.paperArea.zoomBy(.2)},i.zoomOut=function(){i.markup.paperArea.zoomBy(-.2)},i.print=function(){i.diagram.print()},i.changeLanguage=function(e){i.diagram.setLanguage(e)},i.model=new o.DiagramModel(i.props.isViewOnly),i.diagram=new s.DiagramView(i.model,i.props.viewOptions),i.state={},i}return r(t,e),t.prototype.render=function(){var e=this;return a.createElement(g.WorkspaceMarkup,{ref:function(t){e.markup=t},isViewOnly:this.props.isViewOnly,view:this.diagram,searchCriteria:this.state.criteria,onSearchCriteriaChanged:function(t){return e.setState({criteria:t})},toolbar:a.createElement(p.EditorToolbar,{onUndo:this.undo,onRedo:this.redo,onZoomIn:this.zoomIn,onZoomOut:this.zoomOut,onZoomToFit:this.zoomToFit,onPrint:this.print,onExportSVG:this.exportSvg,onExportPNG:this.exportPng,onShare:this.props.onShareDiagram?function(){return e.props.onShareDiagram(e)}:void 0,onSaveDiagram:function(){return e.props.onSaveDiagram(e)},onForceLayout:function(){e.forceLayout(),e.zoomToFit()},onChangeLanguage:this.changeLanguage,onShowTutorial:u.showTutorial,onEditAtMainSite:function(){return e.props.onEditAtMainSite(e)},isEmbeddedMode:this.props.isViewOnly,isDiagramSaved:this.props.isDiagramSaved})})},t.prototype.componentDidMount=function(){var e=this;this.diagram.initializePaperComponents(),this.props.isViewOnly||(this.tree=new d.ClassTree({model:new n.Model(this.diagram.model),view:this.diagram,el:this.markup.classTreePanel}).render(),this.tree.on("action:classSelected",function(t){e.setState({criteria:{elementTypeId:t}})}),this.model.graph.on("add-to-filter",function(t,i,r){e.setState({criteria:{refElementId:t.id,refElementLinkId:i&&i.id,linkDirection:r}})}),this.linksToolbox=new c.LinkTypesToolboxShell({model:new c.LinkTypesToolboxModel(this.model),view:this.diagram,el:this.markup.linkTypesPanel}),this.props.hideTutorial||u.showTutorialIfNotSeen())},t.prototype.componentWillUnmount=function(){this.tree&&this.tree.remove(),this.diagram.dispose()},t.prototype.getModel=function(){return this.model},t.prototype.getDiagram=function(){return this.diagram},t.prototype.preventTextSelectionUntilMouseUp=function(){this.markup.preventTextSelection()},t.prototype.showWaitIndicatorWhile=function(e){this.markup.paperArea.showIndicator(e)},t}(a.Component);f.defaultProps={hideTutorial:!0},t.Workspace=f,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=f},function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},a=i(43),n=i(28),o=i(65),s=i(66);i(67);var l="ontodia-class-tree",d=function(e){function t(t){var i=e.call(this,n.extend({className:l},t))||this;i.filter=null,i.tree=null,i.rest=null;var r=i;i.$el.addClass(n.result(i,"className")),i.view=t.view,i.model.set("language",i.view.getLanguage(),{silent:!0}),i.listenTo(i.view,"change:language",i.onLanguageChanged),i.rest=o('<div class="'+l+'__rest"></div>'),i.tree=o('<div class="'+l+'__tree"></div>').appendTo(i.rest),i.filter=o('<div class="'+l+'__filter"></div>');var a=o('<div class="'+l+'__filter-group"></div>').appendTo(i.filter),s=o('<input type="text" class="search-input form-control" placeholder="Search for..."/>').appendTo(a);return i.listenTo(i.view.model,"state:dataLoaded",function(){var e=i.view.model,t=e.classTree,a=i.updateClassLabels(t);i.setUrls(t),i.getJSTree().jstree({plugins:["types","sort","search"],core:{data:t},types:a,sort:function(t,i){return e.getClassesById(t).model.text.localeCompare(e.getClassesById(i).model.text)},search:{case_insensitive:!0,show_only_matches:!0}}),i.getJSTree().on("select_node.jstree",function(e,t){
i.trigger("action:classSelected",t.selected[0])}),s.keyup(function(){var e=o(this).val();r.getJSTree().jstree("search",e)})}),i}return r(t,e),t.prototype.updateClassLabels=function(e){var t={"default":{icon:"default-tree-icon"},"has-not-children":{icon:"default-tree-icon"},"has-children":{icon:"parent-tree-icon"}};if(e)for(var i=(function(i){var a=e[i],o=r.view.getTypeStyle([a.id]).icon,s=void 0;if(o&&(s=n.uniqueId("iconId"),t[s]={icon:o+" ontodia-tree-icon"}),"children"in a){var l=r.updateClassLabels(a.children);Object.keys(l).forEach(function(e){t[e]=l[e]}),0!==a.children.length?a.type=s?s:"has-children":a.type=s?s:"has-not-children"}else a.type=s?s:"has-not-children";a.text=r.view.getLocalizedText(a.label.values).text+(isNaN(a.count)?"":" ("+a.count+")")}),r=this,a=0;a<e.length;a++)i(a);return t},t.prototype.getJSTree=function(){return s(this.tree.get(0))},t.prototype.onLanguageChanged=function(){var e=this.getJSTree().jstree(!0);e.settings.core.data=this.view.model.classTree,e.refresh(!0,void 0)},t.prototype.setUrls=function(e){var t=this;e.forEach(function(e){t.setUrlsRec(e)})},t.prototype.setUrlsRec=function(e){var t=this;e.a_attr={href:"#"+e.id,draggable:!0},e.children.forEach(function(e){return t.setUrlsRec(e)})},t.prototype.render=function(){return this.filter.appendTo(this.$el),this.rest.appendTo(this.$el),this},t}(a.View);t.ClassTree=d,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=d},function(e,t){e.exports=c},function(e,t,i){var r,a,n;!function(o){"use strict";a=[i(65)],r=o,n="function"==typeof r?r.apply(t,a):r,!(void 0!==n&&(e.exports=n))}(function(e,t){"use strict";/*!
	 * jsTree 3.2.1
	 * http://jstree.com/
	 *
	 * Copyright (c) 2014 Ivan Bozhanov (http://vakata.com)
	 *
	 * Licensed same as jquery - under the terms of the MIT License
	 *   http://www.opensource.org/licenses/mit-license.php
	 */
/*!
	 * if using jslint please allow for the jQuery global and use following options:
	 * jslint: browser: true, ass: true, bitwise: true, continue: true, nomen: true, plusplus: true, regexp: true, unparam: true, todo: true, white: true
	 */
if(!e.jstree){var i,r,a=0,n=!1,o=!1,s=!1,l=[],d=e("script:last").attr("src"),c=window.document,h=c.createElement("LI");h.setAttribute("role","treeitem"),i=c.createElement("I"),i.className="jstree-icon jstree-ocl",i.setAttribute("role","presentation"),h.appendChild(i),i=c.createElement("A"),i.className="jstree-anchor",i.setAttribute("href","#"),i.setAttribute("tabindex","-1"),r=c.createElement("I"),r.className="jstree-icon jstree-themeicon",r.setAttribute("role","presentation"),i.appendChild(r),h.appendChild(i),i=r=null,e.jstree={version:"3.2.1",defaults:{plugins:[]},plugins:{},path:d&&d.indexOf("/")!==-1?d.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},e.jstree.create=function(t,i){var r=new e.jstree.core((++a)),n=i;return i=e.extend(!0,{},e.jstree.defaults,i),n&&n.plugins&&(i.plugins=n.plugins),e.each(i.plugins,function(e,t){"core"!==e&&(r=r.plugin(t,i[t]))}),e(t).data("jstree",r),r.init(t,i),r},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(c).off(".jstree")},e.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(t){var i=null,r=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!r||!r.length)try{r=e(t)}catch(a){}if(!r||!r.length)try{r=e("#"+t.replace(e.jstree.idregex,"\\$&"))}catch(a){}return r&&r.length&&(r=r.closest(".jstree")).length&&(r=r.data("jstree"))?i=r:e(".jstree").each(function(){var r=e(this).data("jstree");if(r&&r._model.data[t])return i=r,!1}),i},e.fn.jstree=function(i){var r="string"==typeof i,a=Array.prototype.slice.call(arguments,1),n=null;return!(i===!0&&!this.length)&&(this.each(function(){var o=e.jstree.reference(this),s=r&&o?o[i]:null;if(n=r&&s?s.apply(o,a):null,o||r||i!==t&&!e.isPlainObject(i)||e.jstree.create(this,i),(o&&!r||i===!0)&&(n=o||!1),null!==n&&n!==t)return!1}),null!==n&&n!==t?n:this)},e.expr[":"].jstree=e.expr.createPseudo(function(i){return function(i){return e(i).hasClass("jstree")&&e(i).data("jstree")!==t}}),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0},e.jstree.core.prototype={plugin:function(t,i){var r=e.jstree.plugins[t];return r?(this._data[t]={},r.prototype=this,new r(i,this)):this},init:function(t,i){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=e(t).addClass("jstree jstree-"+this._id),this.settings=i,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().height()||24,this.trigger("loading"),this.load_node(e.jstree.root)},destroy:function(e){if(this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(t){}e||this.element.empty(),this.teardown()},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var t="",i=null,r=0;this.element.on("dblclick.jstree",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(c.selection&&c.selection.empty)c.selection.empty();else if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(i){}}}).on("mousedown.jstree",e.proxy(function(e){e.target===this.element[0]&&(e.preventDefault(),r=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(e){e.preventDefault()}).on("click.jstree",".jstree-ocl",e.proxy(function(e){this.toggle_node(e.target)},this)).on("dblclick.jstree",".jstree-anchor",e.proxy(function(e){return!(!e.target.tagName||"input"!==e.target.tagName.toLowerCase())||void(this.settings.core.dblclick_toggle&&this.toggle_node(e.target))},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){t.preventDefault(),t.currentTarget!==c.activeElement&&e(t.currentTarget).focus(),this.activate_node(t.currentTarget,t)},this)).on("keydown.jstree",".jstree-anchor",e.proxy(function(t){if(t.target.tagName&&"input"===t.target.tagName.toLowerCase())return!0;if(32!==t.which&&13!==t.which&&(t.shiftKey||t.ctrlKey||t.altKey||t.metaKey))return!0;var i=null;switch(this._data.core.rtl&&(37===t.which?t.which=39:39===t.which&&(t.which=37)),t.which){case 32:t.ctrlKey&&(t.type="click",e(t.currentTarget).trigger(t));break;case 13:t.type="click",e(t.currentTarget).trigger(t);break;case 37:t.preventDefault(),this.is_open(t.currentTarget)?this.close_node(t.currentTarget):(i=this.get_parent(t.currentTarget),i&&i.id!==e.jstree.root&&this.get_node(i,!0).children(".jstree-anchor").focus());break;case 38:t.preventDefault(),i=this.get_prev_dom(t.currentTarget),i&&i.length&&i.children(".jstree-anchor").focus();break;case 39:t.preventDefault(),this.is_closed(t.currentTarget)?this.open_node(t.currentTarget,function(e){this.get_node(e,!0).children(".jstree-anchor").focus()}):this.is_open(t.currentTarget)&&(i=this.get_node(t.currentTarget,!0).children(".jstree-children")[0],i&&e(this._firstChild(i)).children(".jstree-anchor").focus());break;case 40:t.preventDefault(),i=this.get_next_dom(t.currentTarget),i&&i.length&&i.children(".jstree-anchor").focus();break;case 106:this.open_all();break;case 36:t.preventDefault(),i=this._firstChild(this.get_container_ul()[0]),i&&e(i).children(".jstree-anchor").filter(":visible").focus();break;case 35:t.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus()}},this)).on("load_node.jstree",e.proxy(function(t,i){i.status&&(i.node.id!==e.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(e.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var t,i,r=[];for(t=0,i=this._data.core.selected.length;t<i;t++)r=r.concat(this._model.data[this._data.core.selected[t]].parents);for(r=e.vakata.array_unique(r),t=0,i=r.length;t<i;t++)this.open_node(r[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",e.proxy(function(r){if(r.target.tagName&&"input"===r.target.tagName.toLowerCase())return!0;i&&clearTimeout(i),i=setTimeout(function(){t=""},500);var a=String.fromCharCode(r.which).toLowerCase(),n=this.element.find(".jstree-anchor").filter(":visible"),o=n.index(c.activeElement)||0,s=!1;if(t+=a,t.length>1){if(n.slice(o).each(e.proxy(function(i,r){if(0===e(r).text().toLowerCase().indexOf(t))return e(r).focus(),s=!0,!1},this)),s)return;if(n.slice(0,o).each(e.proxy(function(i,r){if(0===e(r).text().toLowerCase().indexOf(t))return e(r).focus(),s=!0,!1},this)),s)return}if(new RegExp("^"+a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(t)){if(n.slice(o+1).each(e.proxy(function(t,i){if(e(i).text().toLowerCase().charAt(0)===a)return e(i).focus(),s=!0,!1},this)),s)return;if(n.slice(0,o+1).each(e.proxy(function(t,i){if(e(i).text().toLowerCase().charAt(0)===a)return e(i).focus(),s=!0,!1},this)),s)return}},this)).on("init.jstree",e.proxy(function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)},this)).on("loading.jstree",e.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"]()},this)).on("blur.jstree",".jstree-anchor",e.proxy(function(t){this._data.core.focused=null,e(t.currentTarget).filter(".jstree-hovered").mouseleave(),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",e.proxy(function(t){var i=this.get_node(t.currentTarget);i&&i.id&&(this._data.core.focused=i.id),this.element.find(".jstree-hovered").not(t.currentTarget).mouseleave(),e(t.currentTarget).mouseenter(),this.element.attr("tabindex","-1")},this)).on("focus.jstree",e.proxy(function(){if(+new Date-r>500&&!this._data.core.focused){r=0;var e=this.get_node(this.element.attr("aria-activedescendant"),!0);e&&e.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",e.proxy(function(e){this.hover_node(e.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),e(c).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),t.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var i=this.settings.core.strings;return e.isFunction(i)?i.call(this,t):i&&i[t]?i[t]:t},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(t,i){t&&t.id&&(t=t.id);var r;try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(r=e("#"+t.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[r.closest(".jstree-node").attr("id")])t=this._model.data[r.closest(".jstree-node").attr("id")];else if((r=e(t,this.element)).length&&this._model.data[r.closest(".jstree-node").attr("id")])t=this._model.data[r.closest(".jstree-node").attr("id")];else{if(!(r=e(t,this.element)).length||!r.hasClass("jstree"))return!1;t=this._model.data[e.jstree.root]}return i&&(t=t.id===e.jstree.root?this.element:e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)),t}catch(a){return!1}},get_path:function(t,i,r){if(t=t.parents?t:this.get_node(t),!t||t.id===e.jstree.root||!t.parents)return!1;var a,n,o=[];for(o.push(r?t.id:t.text),a=0,n=t.parents.length;a<n;a++)o.push(r?t.parents[a]:this.get_text(t.parents[a]));return o=o.reverse().slice(1),i?o.join(i):o},get_next_dom:function(t,i){var r;if(t=this.get_node(t,!0),t[0]===this.element[0]){for(r=this._firstChild(this.get_container_ul()[0]);r&&0===r.offsetHeight;)r=this._nextSibling(r);return!!r&&e(r)}if(!t||!t.length)return!1;if(i){r=t[0];do r=this._nextSibling(r);while(r&&0===r.offsetHeight);return!!r&&e(r)}if(t.hasClass("jstree-open")){for(r=this._firstChild(t.children(".jstree-children")[0]);r&&0===r.offsetHeight;)r=this._nextSibling(r);if(null!==r)return e(r)}r=t[0];do r=this._nextSibling(r);while(r&&0===r.offsetHeight);return null!==r?e(r):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,i){var r;if(t=this.get_node(t,!0),t[0]===this.element[0]){for(r=this.get_container_ul()[0].lastChild;r&&0===r.offsetHeight;)r=this._previousSibling(r);return!!r&&e(r)}if(!t||!t.length)return!1;if(i){r=t[0];do r=this._previousSibling(r);while(r&&0===r.offsetHeight);return!!r&&e(r)}r=t[0];do r=this._previousSibling(r);while(r&&0===r.offsetHeight);if(null!==r){for(t=e(r);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t}return r=t[0].parentNode.parentNode,!(!r||!r.className||r.className.indexOf("jstree-node")===-1)&&e(r)},get_parent:function(t){return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&t.parent},get_children_dom:function(e){return e=this.get_node(e,!0),e[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return e=this.get_node(e),e&&(e.state.loaded===!1||e.children.length>0)},is_loaded:function(e){return e=this.get_node(e),e&&e.state.loaded},is_loading:function(e){return e=this.get_node(e),e&&e.state&&e.state.loading},is_open:function(e){return e=this.get_node(e),e&&e.state.opened},is_closed:function(e){return e=this.get_node(e),e&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(t,i){var r,a,n,o,s;if(e.isArray(t))return this._load_nodes(t.slice(),i),!0;if(t=this.get_node(t),!t)return i&&i.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,r=0,a=t.children_d.length;r<a;r++){for(n=0,o=t.parents.length;n<o;n++)this._model.data[t.parents[n]].children_d=e.vakata.array_remove_item(this._model.data[t.parents[n]].children_d,t.children_d[r]);this._model.data[t.children_d[r]].state.selected&&(s=!0,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.children_d[r])),delete this._model.data[t.children_d[r]]}t.children=[],t.children_d=[],s&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,this.get_node(t,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(t,e.proxy(function(e){t=this._model.data[t.id],t.state.loading=!1,t.state.loaded=e,t.state.failed=!t.state.loaded;var r=this.get_node(t,!0),a=0,n=0,o=this._model.data,s=!1;for(a=0,n=t.children.length;a<n;a++)if(o[t.children[a]]&&!o[t.children[a]].state.hidden){s=!0;break}t.state.loaded&&!s&&r&&r.length&&!r.hasClass("jstree-leaf")&&r.removeClass("jstree-closed jstree-open").addClass("jstree-leaf"),r.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:t,status:e}),i&&i.call(this,t,e)},this)),!0},_load_nodes:function(e,t,i){var r,a,n=!0,o=function(){this._load_nodes(e,t,!0)},s=this._model.data,l=[];for(r=0,a=e.length;r<a;r++)!s[e[r]]||(s[e[r]].state.loaded||s[e[r]].state.failed)&&i||(this.is_loading(e[r])||this.load_node(e[r],o),n=!1);if(n){for(r=0,a=e.length;r<a;r++)s[e[r]]&&s[e[r]].state.loaded&&l.push(e[r]);t&&!t.done&&(t.call(this,l),t.done=!0)}},load_all:function(t,i){if(t||(t=e.jstree.root),t=this.get_node(t),!t)return!1;var r,a,n=[],o=this._model.data,s=o[t.id].children_d;for(t.state&&!t.state.loaded&&n.push(t.id),r=0,a=s.length;r<a;r++)o[s[r]]&&o[s[r]].state&&!o[s[r]].state.loaded&&n.push(s[r]);n.length?this._load_nodes(n,function(){this.load_all(t,i)}):(i&&i.call(this,t),this.trigger("load_all",{node:t}))},_load_node:function(t,i){var r,a=this.settings.core.data;return a?e.isFunction(a)?a.call(this,t,e.proxy(function(r){r===!1&&i.call(this,!1),this["string"==typeof r?"_append_html_data":"_append_json_data"](t,"string"==typeof r?e(e.parseHTML(r)).filter(function(){return 3!==this.nodeType}):r,function(e){i.call(this,e)})},this)):"object"==typeof a?a.url?(a=e.extend(!0,{},a),e.isFunction(a.url)&&(a.url=a.url.call(this,t)),e.isFunction(a.data)&&(a.data=a.data.call(this,t)),e.ajax(a).done(e.proxy(function(r,a,n){var o=n.getResponseHeader("Content-Type");return o&&o.indexOf("json")!==-1||"object"==typeof r?this._append_json_data(t,r,function(e){i.call(this,e)}):o&&o.indexOf("html")!==-1||"string"==typeof r?this._append_html_data(t,e(e.parseHTML(r)).filter(function(){return 3!==this.nodeType}),function(e){i.call(this,e)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:n})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1))},this)).fail(e.proxy(function(e){i.call(this,!1),this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},this.settings.core.error.call(this,this._data.core.last_error)},this))):(r=e.isArray(a)||e.isPlainObject(a)?JSON.parse(JSON.stringify(a)):a,t.id===e.jstree.root?this._append_json_data(t,r,function(e){i.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1))):"string"==typeof a?t.id===e.jstree.root?this._append_html_data(t,e(e.parseHTML(a)).filter(function(){return 3!==this.nodeType}),function(e){i.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1)):i.call(this,!1):t.id===e.jstree.root?this._append_html_data(t,this._data.core.original_container_html.clone(!0),function(e){i.call(this,e)}):i.call(this,!1)},_node_changed:function(e){e=this.get_node(e),e&&this._model.changed.push(e.id)},_append_html_data:function(t,i,r){t=this.get_node(t),t.children=[],t.children_d=[];var a,n,o,s=i.is("ul")?i.children():i,l=t.id,d=[],c=[],h=this._model.data,p=h[l],u=this._data.core.selected.length;for(s.each(e.proxy(function(t,i){a=this._parse_model_from_html(e(i),l,p.parents.concat()),a&&(d.push(a),c.push(a),h[a].children_d.length&&(c=c.concat(h[a].children_d)))},this)),p.children=d,p.children_d=c,n=0,o=p.parents.length;n<o;n++)h[p.parents[n]].children_d=h[p.parents[n]].children_d.concat(c);this.trigger("model",{nodes:c,parent:l}),l!==e.jstree.root?(this._node_changed(l),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==u&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),r.call(this,!0)},_append_json_data:function(t,i,r,a){if(null!==this.element){t=this.get_node(t),t.children=[],t.children_d=[],i.d&&(i=i.d,"string"==typeof i&&(i=JSON.parse(i))),e.isArray(i)||(i=[i]);var n=null,o={df:this._model.default_state,dat:i,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},s=function(e,t){e.data&&(e=e.data);var i,r,a,n,o=e.dat,s=e.par,l=[],d=[],c=[],h=e.df,p=e.t_id,u=e.t_cnt,g=e.m,f=g[s],m=e.sel,v=function(e,i,r){r=r?r.concat():[],i&&r.unshift(i);var a,n,o,s,l=e.id.toString(),d={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:i,parents:r,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(a in h)h.hasOwnProperty(a)&&(d.state[a]=h[a]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(d.icon=e.data.jstree.icon),d.icon!==t&&null!==d.icon&&""!==d.icon||(d.icon=!0),e&&e.data&&(d.data=e.data,e.data.jstree))for(a in e.data.jstree)e.data.jstree.hasOwnProperty(a)&&(d.state[a]=e.data.jstree[a]);if(e&&"object"==typeof e.state)for(a in e.state)e.state.hasOwnProperty(a)&&(d.state[a]=e.state[a]);if(e&&"object"==typeof e.li_attr)for(a in e.li_attr)e.li_attr.hasOwnProperty(a)&&(d.li_attr[a]=e.li_attr[a]);if(d.li_attr.id||(d.li_attr.id=l),e&&"object"==typeof e.a_attr)for(a in e.a_attr)e.a_attr.hasOwnProperty(a)&&(d.a_attr[a]=e.a_attr[a]);for(e&&e.children&&e.children===!0&&(d.state.loaded=!1,d.children=[],d.children_d=[]),g[d.id]=d,a=0,n=d.children.length;a<n;a++)o=v(g[d.children[a]],d.id,r),s=g[o],d.children_d.push(o),s.children_d.length&&(d.children_d=d.children_d.concat(s.children_d));return delete e.data,delete e.children,g[d.id].original=e,d.state.selected&&c.push(d.id),d.id},b=function(e,i,r){r=r?r.concat():[],i&&r.unshift(i);var a,n,o,s,l,d=!1;do d="j"+p+"_"+ ++u;while(g[d]);l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:i,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(a in h)h.hasOwnProperty(a)&&(l.state[a]=h[a]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),l.icon!==t&&null!==l.icon&&""!==l.icon||(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(a in e.data.jstree)e.data.jstree.hasOwnProperty(a)&&(l.state[a]=e.data.jstree[a]);if(e&&"object"==typeof e.state)for(a in e.state)e.state.hasOwnProperty(a)&&(l.state[a]=e.state[a]);if(e&&"object"==typeof e.li_attr)for(a in e.li_attr)e.li_attr.hasOwnProperty(a)&&(l.li_attr[a]=e.li_attr[a]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=d),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(a in e.a_attr)e.a_attr.hasOwnProperty(a)&&(l.a_attr[a]=e.a_attr[a]);if(e&&e.children&&e.children.length){for(a=0,n=e.children.length;a<n;a++)o=b(e.children[a],l.id,r),s=g[o],l.children.push(o),s.children_d.length&&(l.children_d=l.children_d.concat(s.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&e.children===!0&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,g[l.id]=l,l.state.selected&&c.push(l.id),l.id};if(o.length&&o[0].id!==t&&o[0].parent!==t){for(r=0,a=o.length;r<a;r++)o[r].children||(o[r].children=[]),g[o[r].id.toString()]=o[r];for(r=0,a=o.length;r<a;r++)g[o[r].parent.toString()].children.push(o[r].id.toString()),f.children_d.push(o[r].id.toString());for(r=0,a=f.children.length;r<a;r++)i=v(g[f.children[r]],s,f.parents.concat()),d.push(i),g[i].children_d.length&&(d=d.concat(g[i].children_d));for(r=0,a=f.parents.length;r<a;r++)g[f.parents[r]].children_d=g[f.parents[r]].children_d.concat(d);n={cnt:u,mod:g,sel:m,par:s,dpc:d,add:c}}else{for(r=0,a=o.length;r<a;r++)i=b(o[r],s,f.parents.concat()),i&&(l.push(i),d.push(i),g[i].children_d.length&&(d=d.concat(g[i].children_d)));for(f.children=l,f.children_d=d,r=0,a=f.parents.length;r<a;r++)g[f.parents[r]].children_d=g[f.parents[r]].children_d.concat(d);n={cnt:u,mod:g,sel:m,par:s,dpc:d,add:c}}return"undefined"!=typeof window&&"undefined"!=typeof window.document?n:void postMessage(n)},l=function(t,i){if(null!==this.element){if(this._cnt=t.cnt,this._model.data=t.mod,i){var a,n,o=t.add,s=t.sel,l=this._data.core.selected.slice(),d=this._model.data;if(s.length!==l.length||e.vakata.array_unique(s.concat(l)).length!==s.length){for(a=0,n=s.length;a<n;a++)e.inArray(s[a],o)===-1&&e.inArray(s[a],l)===-1&&(d[s[a]].state.selected=!1);for(a=0,n=l.length;a<n;a++)e.inArray(l[a],s)===-1&&(d[l[a]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add)),this.trigger("model",{nodes:t.dpc,parent:t.par}),t.par!==e.jstree.root?(this._node_changed(t.par),this.redraw()):this.redraw(!0),t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),r.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+s.toString()],{type:"text/javascript"}))),!this._data.core.working||a?(this._data.core.working=!0,n=new window.Worker(this._wrk),n.onmessage=e.proxy(function(e){l.call(this,e.data,!0);try{n.terminate(),n=null}catch(t){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),o.par?n.postMessage(o):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,i,r,!0])}catch(d){l.call(this,s(o),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else l.call(this,s(o),!1)}},_parse_model_from_html:function(i,r,a){a=a?[].concat(a):[],r&&a.unshift(r);var n,o,s,l,d,c=this._model.data,h={id:!1,text:!1,icon:!0,parent:r,parents:a,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in this._model.default_state)this._model.default_state.hasOwnProperty(s)&&(h.state[s]=this._model.default_state[s]);if(l=e.vakata.attributes(i,!0),e.each(l,function(t,i){return i=e.trim(i),!i.length||(h.li_attr[t]=i,void("id"===t&&(h.id=i.toString())))}),l=i.children("a").first(),l.length&&(l=e.vakata.attributes(l,!0),e.each(l,function(t,i){i=e.trim(i),i.length&&(h.a_attr[t]=i)})),l=i.children("a").first().length?i.children("a").first().clone():i.clone(),l.children("ins, i, ul").remove(),l=l.html(),l=e("<div />").html(l),h.text=this.settings.core.force_text?l.text():l.html(),l=i.data(),h.data=l?e.extend(!0,{},l):null,h.state.opened=i.hasClass("jstree-open"),h.state.selected=i.children("a").hasClass("jstree-clicked"),h.state.disabled=i.children("a").hasClass("jstree-disabled"),h.data&&h.data.jstree)for(s in h.data.jstree)h.data.jstree.hasOwnProperty(s)&&(h.state[s]=h.data.jstree[s]);l=i.children("a").children(".jstree-themeicon"),l.length&&(h.icon=!l.hasClass("jstree-themeicon-hidden")&&l.attr("rel")),h.state.icon!==t&&(h.icon=h.state.icon),h.icon!==t&&null!==h.icon&&""!==h.icon||(h.icon=!0),l=i.children("ul").children("li");do d="j"+this._id+"_"+ ++this._cnt;while(c[d]);return h.id=h.li_attr.id?h.li_attr.id.toString():d,l.length?(l.each(e.proxy(function(t,i){n=this._parse_model_from_html(e(i),h.id,a),o=this._model.data[n],h.children.push(n),o.children_d.length&&(h.children_d=h.children_d.concat(o.children_d))},this)),h.children_d=h.children_d.concat(h.children)):i.hasClass("jstree-closed")&&(h.state.loaded=!1),h.li_attr["class"]&&(h.li_attr["class"]=h.li_attr["class"].replace("jstree-closed","").replace("jstree-open","")),h.a_attr["class"]&&(h.a_attr["class"]=h.a_attr["class"].replace("jstree-clicked","").replace("jstree-disabled","")),c[h.id]=h,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_flat_json:function(e,i,r){r=r?r.concat():[],i&&r.unshift(i);var a,n,o,s,l=e.id.toString(),d=this._model.data,c=this._model.default_state,h={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:i,parents:r,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(a in c)c.hasOwnProperty(a)&&(h.state[a]=c[a]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(h.icon=e.data.jstree.icon),h.icon!==t&&null!==h.icon&&""!==h.icon||(h.icon=!0),e&&e.data&&(h.data=e.data,e.data.jstree))for(a in e.data.jstree)e.data.jstree.hasOwnProperty(a)&&(h.state[a]=e.data.jstree[a]);if(e&&"object"==typeof e.state)for(a in e.state)e.state.hasOwnProperty(a)&&(h.state[a]=e.state[a]);if(e&&"object"==typeof e.li_attr)for(a in e.li_attr)e.li_attr.hasOwnProperty(a)&&(h.li_attr[a]=e.li_attr[a]);if(h.li_attr.id||(h.li_attr.id=l),e&&"object"==typeof e.a_attr)for(a in e.a_attr)e.a_attr.hasOwnProperty(a)&&(h.a_attr[a]=e.a_attr[a]);for(e&&e.children&&e.children===!0&&(h.state.loaded=!1,h.children=[],h.children_d=[]),d[h.id]=h,a=0,n=h.children.length;a<n;a++)o=this._parse_model_from_flat_json(d[h.children[a]],h.id,r),s=d[o],h.children_d.push(o),s.children_d.length&&(h.children_d=h.children_d.concat(s.children_d));return delete e.data,delete e.children,d[h.id].original=e,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_json:function(e,i,r){r=r?r.concat():[],i&&r.unshift(i);var a,n,o,s,l,d=!1,c=this._model.data,h=this._model.default_state;do d="j"+this._id+"_"+ ++this._cnt;while(c[d]);l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:i,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(a in h)h.hasOwnProperty(a)&&(l.state[a]=h[a]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),l.icon!==t&&null!==l.icon&&""!==l.icon||(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(a in e.data.jstree)e.data.jstree.hasOwnProperty(a)&&(l.state[a]=e.data.jstree[a]);if(e&&"object"==typeof e.state)for(a in e.state)e.state.hasOwnProperty(a)&&(l.state[a]=e.state[a]);if(e&&"object"==typeof e.li_attr)for(a in e.li_attr)e.li_attr.hasOwnProperty(a)&&(l.li_attr[a]=e.li_attr[a]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=d),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(a in e.a_attr)e.a_attr.hasOwnProperty(a)&&(l.a_attr[a]=e.a_attr[a]);if(e&&e.children&&e.children.length){for(a=0,n=e.children.length;a<n;a++)o=this._parse_model_from_json(e.children[a],l.id,r),s=c[o],l.children.push(o),s.children_d.length&&(l.children_d=l.children_d.concat(s.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&e.children===!0&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,c[l.id]=l,l.state.selected&&this._data.core.selected.push(l.id),l.id},_redraw:function(){var t,i,r,a=this._model.force_full_redraw?this._model.data[e.jstree.root].children.concat([]):this._model.changed.concat([]),n=c.createElement("UL"),o=this._data.core.focused;for(i=0,r=a.length;i<r;i++)t=this.redraw_node(a[i],!0,this._model.force_full_redraw),t&&this._model.force_full_redraw&&n.appendChild(t);this._model.force_full_redraw&&(n.className=this.get_container_ul()[0].className,n.setAttribute("role","group"),this.element.empty().append(n)),null!==o&&(t=this.get_node(o,!0),t&&t.length&&t.children(".jstree-anchor")[0]!==c.activeElement?t.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:a})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(t){var i=this.get_node(t),r=!1,a=!1,n=!1,o=c;if(!i)return!1;if(i.id===e.jstree.root)return this.redraw(!0);if(t=this.get_node(t,!0),!t||!t.length)return!1;if(t.children(".jstree-children").remove(),t=t[0],i.children.length&&i.state.loaded){for(n=o.createElement("UL"),n.setAttribute("role","group"),n.className="jstree-children",r=0,a=i.children.length;r<a;r++)n.appendChild(this.redraw_node(i.children[r],!0,!0));t.appendChild(n)}},redraw_node:function(t,i,r,a){var n=this.get_node(t),o=!1,s=!1,l=!1,d=!1,p=!1,u=!1,g="",f=c,m=this._model.data,v=!1,b=null,y=0,w=0,_=!1,A=!1;if(!n)return!1;if(n.id===e.jstree.root)return this.redraw(!0);if(i=i||0===n.children.length,t=c.querySelector?this.element[0].querySelector("#"+("0123456789".indexOf(n.id[0])!==-1?"\\3"+n.id[0]+" "+n.id.substr(1).replace(e.jstree.idregex,"\\$&"):n.id.replace(e.jstree.idregex,"\\$&"))):c.getElementById(n.id))t=e(t),r||(o=t.parent().parent()[0],o===this.element[0]&&(o=null),s=t.index()),i||!n.children.length||t.children(".jstree-children").length||(i=!0),i||(l=t.children(".jstree-children")[0]),v=t.children(".jstree-anchor")[0]===c.activeElement,t.remove();else if(i=!0,!r){if(o=n.parent!==e.jstree.root?e("#"+n.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null,!(null===o||o&&m[n.parent].state.opened))return!1;
s=e.inArray(n.id,null===o?m[e.jstree.root].children:m[n.parent].children)}t=h.cloneNode(!0),g="jstree-node ";for(d in n.li_attr)if(n.li_attr.hasOwnProperty(d)){if("id"===d)continue;"class"!==d?t.setAttribute(d,n.li_attr[d]):g+=n.li_attr[d]}for(n.a_attr.id||(n.a_attr.id=n.id+"_anchor"),t.setAttribute("aria-selected",!!n.state.selected),t.setAttribute("aria-level",n.parents.length),t.setAttribute("aria-labelledby",n.a_attr.id),n.state.disabled&&t.setAttribute("aria-disabled",!0),d=0,p=n.children.length;d<p;d++)if(!m[n.children[d]].state.hidden){_=!0;break}if(null!==n.parent&&m[n.parent]&&!n.state.hidden&&(d=e.inArray(n.id,m[n.parent].children),A=n.id,d!==-1))for(d++,p=m[n.parent].children.length;d<p&&(m[m[n.parent].children[d]].state.hidden||(A=m[n.parent].children[d]),A===n.id);d++);n.state.hidden&&(g+=" jstree-hidden"),n.state.loaded&&!_?g+=" jstree-leaf":(g+=n.state.opened&&n.state.loaded?" jstree-open":" jstree-closed",t.setAttribute("aria-expanded",n.state.opened&&n.state.loaded)),A===n.id&&(g+=" jstree-last"),t.id=n.id,t.className=g,g=(n.state.selected?" jstree-clicked":"")+(n.state.disabled?" jstree-disabled":"");for(p in n.a_attr)if(n.a_attr.hasOwnProperty(p)){if("href"===p&&"#"===n.a_attr[p])continue;"class"!==p?t.childNodes[1].setAttribute(p,n.a_attr[p]):g+=" "+n.a_attr[p]}if(g.length&&(t.childNodes[1].className="jstree-anchor "+g),(n.icon&&n.icon!==!0||n.icon===!1)&&(n.icon===!1?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":n.icon.indexOf("/")===-1&&n.icon.indexOf(".")===-1?t.childNodes[1].childNodes[0].className+=" "+n.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage="url("+n.icon+")",t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(f.createTextNode(n.text)):t.childNodes[1].innerHTML+=n.text,i&&n.children.length&&(n.state.opened||a)&&n.state.loaded){for(u=f.createElement("UL"),u.setAttribute("role","group"),u.className="jstree-children",d=0,p=n.children.length;d<p;d++)u.appendChild(this.redraw_node(n.children[d],i,!0));t.appendChild(u)}if(l&&t.appendChild(l),!r){for(o||(o=this.element[0]),d=0,p=o.childNodes.length;d<p;d++)if(o.childNodes[d]&&o.childNodes[d].className&&o.childNodes[d].className.indexOf("jstree-children")!==-1){b=o.childNodes[d];break}b||(b=f.createElement("UL"),b.setAttribute("role","group"),b.className="jstree-children",o.appendChild(b)),o=b,s<o.childNodes.length?o.insertBefore(t,o.childNodes[s]):o.appendChild(t),v&&(y=this.element[0].scrollTop,w=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=y,this.element[0].scrollLeft=w)}return n.state.opened&&!n.state.loaded&&(n.state.opened=!1,setTimeout(e.proxy(function(){this.open_node(n.id,!1,0)},this),0)),t},open_node:function(i,r,a){var n,o,s,l;if(e.isArray(i)){for(i=i.slice(),n=0,o=i.length;n<o;n++)this.open_node(i[n],r,a);return!0}return i=this.get_node(i),!(!i||i.id===e.jstree.root)&&(a=a===t?this.settings.core.animation:a,this.is_closed(i)?this.is_loaded(i)?(s=this.get_node(i,!0),l=this,s.length&&(a&&s.children(".jstree-children").length&&s.children(".jstree-children").stop(!0,!0),i.children.length&&!this._firstChild(s.children(".jstree-children")[0])&&this.draw_children(i),a?(this.trigger("before_open",{node:i}),s.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(a,function(){this.style.display="",l.trigger("after_open",{node:i})})):(this.trigger("before_open",{node:i}),s[0].className=s[0].className.replace("jstree-closed","jstree-open"),s[0].setAttribute("aria-expanded",!0))),i.state.opened=!0,r&&r.call(this,i,!0),s.length||this.trigger("before_open",{node:i}),this.trigger("open_node",{node:i}),a&&s.length||this.trigger("after_open",{node:i}),!0):this.is_loading(i)?setTimeout(e.proxy(function(){this.open_node(i,r,a)},this),500):void this.load_node(i,function(e,t){return t?this.open_node(e,r,a):!!r&&r.call(this,e,!1)}):(r&&r.call(this,i,!1),!1))},_open_to:function(t){if(t=this.get_node(t),!t||t.id===e.jstree.root)return!1;var i,r,a=t.parents;for(i=0,r=a.length;i<r;i+=1)i!==e.jstree.root&&this.open_node(a[i],!1,0);return e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(i,r){var a,n,o,s;if(e.isArray(i)){for(i=i.slice(),a=0,n=i.length;a<n;a++)this.close_node(i[a],r);return!0}return i=this.get_node(i),!(!i||i.id===e.jstree.root)&&(!this.is_closed(i)&&(r=r===t?this.settings.core.animation:r,o=this,s=this.get_node(i,!0),s.length&&(r?s.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(r,function(){this.style.display="",s.children(".jstree-children").remove(),o.trigger("after_close",{node:i})}):(s[0].className=s[0].className.replace("jstree-open","jstree-closed"),s.attr("aria-expanded",!1).children(".jstree-children").remove())),i.state.opened=!1,this.trigger("close_node",{node:i}),void(r&&s.length||this.trigger("after_close",{node:i}))))},toggle_node:function(t){var i,r;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;i<r;i++)this.toggle_node(t[i]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(t,i,r){if(t||(t=e.jstree.root),t=this.get_node(t),!t)return!1;var a,n,o,s=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0);if(!s.length){for(a=0,n=t.children_d.length;a<n;a++)this.is_closed(this._model.data[t.children_d[a]])&&(this._model.data[t.children_d[a]].state.opened=!0);return this.trigger("open_all",{node:t})}r=r||s,o=this,s=this.is_closed(t)?s.find(".jstree-closed").addBack():s.find(".jstree-closed"),s.each(function(){o.open_node(this,function(e,t){t&&this.is_parent(e)&&this.open_all(e,i,r)},i||0)}),0===r.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(r)})},close_all:function(t,i){if(t||(t=e.jstree.root),t=this.get_node(t),!t)return!1;var r,a,n=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0),o=this;for(n.length&&(n=this.is_open(t)?n.find(".jstree-open").addBack():n.find(".jstree-open"),e(n.get().reverse()).each(function(){o.close_node(this,i||0)})),r=0,a=t.children_d.length;r<a;r++)this._model.data[t.children_d[r]].state.opened=!1;this.trigger("close_all",{node:t})},is_disabled:function(e){return e=this.get_node(e),e&&e.state&&e.state.disabled},enable_node:function(t){var i,r;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;i<r;i++)this.enable_node(t[i]);return!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&(t.state.disabled=!1,this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),void this.trigger("enable_node",{node:t}))},disable_node:function(t){var i,r;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;i<r;i++)this.disable_node(t[i]);return!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&(t.state.disabled=!0,this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),void this.trigger("disable_node",{node:t}))},hide_node:function(t,i){var r,a;if(e.isArray(t)){for(t=t.slice(),r=0,a=t.length;r<a;r++)this.hide_node(t[r],!0);return this.redraw(),!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&void(t.state.hidden||(t.state.hidden=!0,this._node_changed(t.parent),i||this.redraw(),this.trigger("hide_node",{node:t})))},show_node:function(t,i){var r,a;if(e.isArray(t)){for(t=t.slice(),r=0,a=t.length;r<a;r++)this.show_node(t[r],!0);return this.redraw(),!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&void(t.state.hidden&&(t.state.hidden=!1,this._node_changed(t.parent),i||this.redraw(),this.trigger("show_node",{node:t})))},hide_all:function(t){var i,r=this._model.data,a=[];for(i in r)r.hasOwnProperty(i)&&i!==e.jstree.root&&!r[i].state.hidden&&(r[i].state.hidden=!0,a.push(i));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("hide_all",{nodes:a}),a},show_all:function(t){var i,r=this._model.data,a=[];for(i in r)r.hasOwnProperty(i)&&i!==e.jstree.root&&r[i].state.hidden&&(r[i].state.hidden=!1,a.push(i));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("show_all",{nodes:a}),a},activate_node:function(e,i){if(this.is_disabled(e))return!1;if(i&&"object"==typeof i||(i={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(i.metaKey||i.ctrlKey||i.shiftKey)&&(!i.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(i.shiftKey){var r,a,n=this.get_node(e).id,o=this._data.core.last_clicked.id,s=this.get_node(this._data.core.last_clicked.parent).children,l=!1;for(r=0,a=s.length;r<a;r+=1)s[r]===n&&(l=!l),s[r]===o&&(l=!l),this.is_disabled(s[r])||!l&&s[r]!==n&&s[r]!==o?this.deselect_node(s[r],!0,i):this.select_node(s[r],!0,!1,i);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:i})}else this.is_selected(e)?this.deselect_node(e,!1,i):this.select_node(e,!1,!1,i);else!this.settings.core.multiple&&(i.metaKey||i.ctrlKey||i.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,i):(this.deselect_all(!0),this.select_node(e,!1,!1,i),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e),event:i})},hover_node:function(e){if(e=this.get_node(e,!0),!e||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),i=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){i.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(e){return e=this.get_node(e,!0),!!(e&&e.length&&e.children(".jstree-hovered").length)&&(e.children(".jstree-anchor").removeClass("jstree-hovered"),void this.trigger("dehover_node",{node:this.get_node(e)}))},select_node:function(t,i,r,a){var n,o,s;if(e.isArray(t)){for(t=t.slice(),o=0,s=t.length;o<s;o++)this.select_node(t[o],i,r,a);return!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&(n=this.get_node(t,!0),void(t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),r||(n=this._open_to(t)),n&&n.length&&n.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:a}),i||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:a}))))},deselect_node:function(t,i,r){var a,n,o;if(e.isArray(t)){for(t=t.slice(),a=0,n=t.length;a<n;a++)this.deselect_node(t[a],i,r);return!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&(o=this.get_node(t,!0),void(t.state.selected&&(t.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.id),o.length&&o.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:r}),i||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:r}))))},select_all:function(t){var i,r,a=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[e.jstree.root].children_d.concat(),i=0,r=this._data.core.selected.length;i<r;i++)this._model.data[this._data.core.selected[i]]&&(this._model.data[this._data.core.selected[i]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),t||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:a})},deselect_all:function(e){var t,i,r=this._data.core.selected.concat([]);for(t=0,i=this._data.core.selected.length;t<i;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:r}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:r})},is_selected:function(t){return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&t.state.selected},get_selected:function(t){return t?e.map(this._data.core.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.core.selected.slice()},get_top_selected:function(t){var i,r,a,n,o=this.get_selected(!0),s={};for(i=0,r=o.length;i<r;i++)s[o[i].id]=o[i];for(i=0,r=o.length;i<r;i++)for(a=0,n=o[i].children_d.length;a<n;a++)s[o[i].children_d[a]]&&delete s[o[i].children_d[a]];o=[];for(i in s)s.hasOwnProperty(i)&&o.push(i);return t?e.map(o,e.proxy(function(e){return this.get_node(e)},this)):o},get_bottom_selected:function(t){var i,r,a=this.get_selected(!0),n=[];for(i=0,r=a.length;i<r;i++)a[i].children.length||n.push(a[i].id);return t?e.map(n,e.proxy(function(e){return this.get_node(e)},this)):n},get_state:function(){var t,i={core:{open:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},/*!
						'themes' : {
							'name' : this.get_theme(),
							'icons' : this._data.core.themes.icons,
							'dots' : this._data.core.themes.dots
						},
						*/
selected:[]}};for(t in this._model.data)this._model.data.hasOwnProperty(t)&&t!==e.jstree.root&&(this._model.data[t].state.opened&&i.core.open.push(t),this._model.data[t].state.selected&&i.core.selected.push(t));return i},set_state:function(i,r){if(i){if(i.core){var a,n;if(i.core.open)return e.isArray(i.core.open)&&i.core.open.length?this._load_nodes(i.core.open,function(e){this.open_node(e,!1,0),delete i.core.open,this.set_state(i,r)},!0):(delete i.core.open,this.set_state(i,r)),!1;if(i.core.scroll)return i.core.scroll&&i.core.scroll.left!==t&&this.element.scrollLeft(i.core.scroll.left),i.core.scroll&&i.core.scroll.top!==t&&this.element.scrollTop(i.core.scroll.top),delete i.core.scroll,this.set_state(i,r),!1;if(i.core.selected)return a=this,this.deselect_all(),e.each(i.core.selected,function(e,t){a.select_node(t,!1,!0)}),delete i.core.selected,this.set_state(i,r),!1;for(n in i)i.hasOwnProperty(n)&&"core"!==n&&e.inArray(n,this.settings.plugins)===-1&&delete i[n];if(e.isEmptyObject(i.core))return delete i.core,this.set_state(i,r),!1}return!e.isEmptyObject(i)||(i=null,r&&r.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(t,i){this._data.core.state=i===!0?{}:this.get_state(),i&&e.isFunction(i)&&(this._data.core.state=i.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var r=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+r+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(e.jstree.root,function(t,i){i&&(this.get_container_ul()[0].className=r,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(t){if(t=this.get_node(t),!t||t.id===e.jstree.root)return!1;var i=[],r=[];this._data.core.selected.concat([]);r.push(t.id),t.state.opened===!0&&i.push(t.id),this.get_node(t,!0).find(".jstree-open").each(function(){i.push(this.id)}),this._load_nodes(r,e.proxy(function(e){this.open_node(i,!1,0),this.select_node(this._data.core.selected),this.trigger("refresh_node",{node:t,nodes:e})},this))},set_id:function(t,i){if(t=this.get_node(t),!t||t.id===e.jstree.root)return!1;var r,a,n=this._model.data;for(i=i.toString(),n[t.parent].children[e.inArray(t.id,n[t.parent].children)]=i,r=0,a=t.parents.length;r<a;r++)n[t.parents[r]].children_d[e.inArray(t.id,n[t.parents[r]].children_d)]=i;for(r=0,a=t.children.length;r<a;r++)n[t.children[r]].parent=i;for(r=0,a=t.children_d.length;r<a;r++)n[t.children_d[r]].parents[e.inArray(t.id,n[t.children_d[r]].parents)]=i;return r=e.inArray(t.id,this._data.core.selected),r!==-1&&(this._data.core.selected[r]=i),r=this.get_node(t.id,!0),r&&(r.attr("id",i).children(".jstree-anchor").attr("id",i+"_anchor").end().attr("aria-labelledby",i+"_anchor"),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",i)),delete n[t.id],t.id=i,t.li_attr.id=i,n[i]=t,!0},get_text:function(t){return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&t.text},set_text:function(t,i){var r,a;if(e.isArray(t)){for(t=t.slice(),r=0,a=t.length;r<a;r++)this.set_text(t[r],i);return!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&(t.text=i,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:i}),!0)},get_json:function(t,i,r){if(t=this.get_node(t||e.jstree.root),!t)return!1;i&&i.flat&&!r&&(r=[]);var a,n,o={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:e.extend(!0,{},t.li_attr),a_attr:e.extend(!0,{},t.a_attr),state:{},data:(!i||!i.no_data)&&e.extend(!0,{},t.data)};if(i&&i.flat?o.parent=t.parent:o.children=[],!i||!i.no_state)for(a in t.state)t.state.hasOwnProperty(a)&&(o.state[a]=t.state[a]);if(i&&i.no_id&&(delete o.id,o.li_attr&&o.li_attr.id&&delete o.li_attr.id,o.a_attr&&o.a_attr.id&&delete o.a_attr.id),i&&i.flat&&t.id!==e.jstree.root&&r.push(o),!i||!i.no_children)for(a=0,n=t.children.length;a<n;a++)i&&i.flat?this.get_json(t.children[a],i,r):o.children.push(this.get_json(t.children[a],i));return i&&i.flat?r:t.id===e.jstree.root?o.children:o},create_node:function(i,r,a,n,o){if(null===i&&(i=e.jstree.root),i=this.get_node(i),!i)return!1;if(a=a===t?"last":a,!a.toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(i))return this.load_node(i,function(){this.create_node(i,r,a,n,!0)});r||(r={text:this.get_string("New node")}),"string"==typeof r&&(r={text:r}),r.text===t&&(r.text=this.get_string("New node"));var s,l,d,c;switch(i.id===e.jstree.root&&("before"===a&&(a="first"),"after"===a&&(a="last")),a){case"before":s=this.get_node(i.parent),a=e.inArray(i.id,s.children),i=s;break;case"after":s=this.get_node(i.parent),a=e.inArray(i.id,s.children)+1,i=s;break;case"inside":case"first":a=0;break;case"last":a=i.children.length;break;default:a||(a=0)}if(a>i.children.length&&(a=i.children.length),r.id||(r.id=!0),!this.check("create_node",r,i,a))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(r.id===!0&&delete r.id,r=this._parse_model_from_json(r,i.id,i.parents.concat()),!r)return!1;for(s=this.get_node(r),l=[],l.push(r),l=l.concat(s.children_d),this.trigger("model",{nodes:l,parent:i.id}),i.children_d=i.children_d.concat(l),d=0,c=i.parents.length;d<c;d++)this._model.data[i.parents[d]].children_d=this._model.data[i.parents[d]].children_d.concat(l);for(r=s,s=[],d=0,c=i.children.length;d<c;d++)s[d>=a?d+1:d]=i.children[d];return s[a]=r.id,i.children=s,this.redraw_node(i,!0),n&&n.call(this,this.get_node(r)),this.trigger("create_node",{node:this.get_node(r),parent:i.id,position:a}),r.id},rename_node:function(t,i){var r,a,n;if(e.isArray(t)){for(t=t.slice(),r=0,a=t.length;r<a;r++)this.rename_node(t[r],i);return!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&(n=t.text,this.check("rename_node",t,this.get_parent(t),i)?(this.set_text(t,i),this.trigger("rename_node",{node:t,text:i,old:n}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(t){var i,r,a,n,o,s,l,d,c,h,p,u;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;i<r;i++)this.delete_node(t[i]);return!0}if(t=this.get_node(t),!t||t.id===e.jstree.root)return!1;if(a=this.get_node(t.parent),n=e.inArray(t.id,a.children),h=!1,!this.check("delete_node",t,a,n))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(n!==-1&&(a.children=e.vakata.array_remove(a.children,n)),o=t.children_d.concat([]),o.push(t.id),d=0,c=o.length;d<c;d++){for(s=0,l=t.parents.length;s<l;s++)n=e.inArray(o[d],this._model.data[t.parents[s]].children_d),n!==-1&&(this._model.data[t.parents[s]].children_d=e.vakata.array_remove(this._model.data[t.parents[s]].children_d,n));this._model.data[o[d]].state.selected&&(h=!0,n=e.inArray(o[d],this._data.core.selected),n!==-1&&(this._data.core.selected=e.vakata.array_remove(this._data.core.selected,n)))}for(this.trigger("delete_node",{node:t,parent:a.id}),h&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:a.id}),d=0,c=o.length;d<c;d++)delete this._model.data[o[d]];return e.inArray(this._data.core.focused,o)!==-1&&(this._data.core.focused=null,p=this.element[0].scrollTop,u=this.element[0].scrollLeft,a.id===e.jstree.root?this.get_node(this._model.data[e.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(a,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=p,this.element[0].scrollLeft=u),this.redraw_node(a,!0),!0},check:function(t,i,r,a,n){i=i&&i.id?i:this.get_node(i),r=r&&r.id?r:this.get_node(r);var o=t.match(/^move_node|copy_node|create_node$/i)?r:i,s=this.settings.core.check_callback;return"move_node"!==t&&"copy_node"!==t||n&&n.is_multi||i.id!==r.id&&e.inArray(i.id,r.children)!==a&&e.inArray(r.id,i.children_d)===-1?(o&&o.data&&(o=o.data),o&&o.functions&&(o.functions[t]===!1||o.functions[t]===!0)?(o.functions[t]===!1&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:a,obj:!(!i||!i.id)&&i.id,par:!(!r||!r.id)&&r.id})}),o.functions[t]):!(s===!1||e.isFunction(s)&&s.call(this,t,i,r,a,n)===!1||s&&s[t]===!1)||(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:a,obj:!(!i||!i.id)&&i.id,par:!(!r||!r.id)&&r.id})},!1)):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:a,obj:!(!i||!i.id)&&i.id,par:!(!r||!r.id)&&r.id})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(i,r,a,n,o,s,l){var d,c,h,p,u,g,f,m,v,b,y,w,_,A;if(r=this.get_node(r),a=a===t?0:a,!r)return!1;if(!a.toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(r))return this.load_node(r,function(){this.move_node(i,r,a,n,!0,!1,l)});if(e.isArray(i)){if(1!==i.length){for(d=0,c=i.length;d<c;d++)(v=this.move_node(i[d],r,a,n,o,!1,l))&&(r=v,a="after");return this.redraw(),!0}i=i[0]}if(i=i&&i.id?i:this.get_node(i),!i||i.id===e.jstree.root)return!1;if(h=(i.parent||e.jstree.root).toString(),u=a.toString().match(/^(before|after)$/)&&r.id!==e.jstree.root?this.get_node(r.parent):r,g=l?l:this._model.data[i.id]?this:e.jstree.reference(i.id),f=!g||!g._id||this._id!==g._id,p=g&&g._id&&h&&g._model.data[h]&&g._model.data[h].children?e.inArray(i.id,g._model.data[h].children):-1,g&&g._id&&(i=g._model.data[i.id]),f)return!!(v=this.copy_node(i,r,a,n,o,!1,l))&&(g&&g.delete_node(i),v);switch(r.id===e.jstree.root&&("before"===a&&(a="first"),"after"===a&&(a="last")),a){case"before":a=e.inArray(r.id,u.children);break;case"after":a=e.inArray(r.id,u.children)+1;break;case"inside":case"first":a=0;break;case"last":a=u.children.length;break;default:a||(a=0)}if(a>u.children.length&&(a=u.children.length),!this.check("move_node",i,u,a,{core:!0,origin:l,is_multi:g&&g._id&&g._id!==this._id,is_foreign:!g||!g._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(i.parent===u.id){for(m=u.children.concat(),v=e.inArray(i.id,m),v!==-1&&(m=e.vakata.array_remove(m,v),a>v&&a--),v=[],b=0,y=m.length;b<y;b++)v[b>=a?b+1:b]=m[b];v[a]=i.id,u.children=v,this._node_changed(u.id),this.redraw(u.id===e.jstree.root)}else{for(v=i.children_d.concat(),v.push(i.id),b=0,y=i.parents.length;b<y;b++){for(m=[],A=g._model.data[i.parents[b]].children_d,w=0,_=A.length;w<_;w++)e.inArray(A[w],v)===-1&&m.push(A[w]);g._model.data[i.parents[b]].children_d=m}for(g._model.data[h].children=e.vakata.array_remove_item(g._model.data[h].children,i.id),b=0,y=u.parents.length;b<y;b++)this._model.data[u.parents[b]].children_d=this._model.data[u.parents[b]].children_d.concat(v);for(m=[],b=0,y=u.children.length;b<y;b++)m[b>=a?b+1:b]=u.children[b];for(m[a]=i.id,u.children=m,u.children_d.push(i.id),u.children_d=u.children_d.concat(i.children_d),i.parent=u.id,v=u.parents.concat(),v.unshift(u.id),A=i.parents.length,i.parents=v,v=v.concat(),b=0,y=i.children_d.length;b<y;b++)this._model.data[i.children_d[b]].parents=this._model.data[i.children_d[b]].parents.slice(0,A*-1),Array.prototype.push.apply(this._model.data[i.children_d[b]].parents,v);h!==e.jstree.root&&u.id!==e.jstree.root||(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(h),this._node_changed(u.id)),s||this.redraw()}return n&&n.call(this,i,u,a),this.trigger("move_node",{node:i,parent:u.id,position:a,old_parent:h,old_position:p,is_multi:g&&g._id&&g._id!==this._id,is_foreign:!g||!g._id,old_instance:g,new_instance:this}),i.id},copy_node:function(i,r,a,n,o,s,l){var d,c,h,p,u,g,f,m,v,b,y;if(r=this.get_node(r),a=a===t?0:a,!r)return!1;if(!a.toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(r))return this.load_node(r,function(){this.copy_node(i,r,a,n,!0,!1,l)});if(e.isArray(i)){if(1!==i.length){for(d=0,c=i.length;d<c;d++)(p=this.copy_node(i[d],r,a,n,o,!0,l))&&(r=p,a="after");return this.redraw(),!0}i=i[0]}if(i=i&&i.id?i:this.get_node(i),!i||i.id===e.jstree.root)return!1;switch(m=(i.parent||e.jstree.root).toString(),v=a.toString().match(/^(before|after)$/)&&r.id!==e.jstree.root?this.get_node(r.parent):r,b=l?l:this._model.data[i.id]?this:e.jstree.reference(i.id),y=!b||!b._id||this._id!==b._id,b&&b._id&&(i=b._model.data[i.id]),r.id===e.jstree.root&&("before"===a&&(a="first"),"after"===a&&(a="last")),a){case"before":a=e.inArray(r.id,v.children);break;case"after":a=e.inArray(r.id,v.children)+1;break;case"inside":case"first":a=0;break;case"last":a=v.children.length;break;default:a||(a=0)}if(a>v.children.length&&(a=v.children.length),!this.check("copy_node",i,v,a,{core:!0,origin:l,is_multi:b&&b._id&&b._id!==this._id,is_foreign:!b||!b._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(f=b?b.get_json(i,{no_id:!0,no_data:!0,no_state:!0}):i,!f)return!1;if(f.id===!0&&delete f.id,f=this._parse_model_from_json(f,v.id,v.parents.concat()),!f)return!1;for(p=this.get_node(f),i&&i.state&&i.state.loaded===!1&&(p.state.loaded=!1),h=[],h.push(f),h=h.concat(p.children_d),this.trigger("model",{nodes:h,parent:v.id}),u=0,g=v.parents.length;u<g;u++)this._model.data[v.parents[u]].children_d=this._model.data[v.parents[u]].children_d.concat(h);for(h=[],u=0,g=v.children.length;u<g;u++)h[u>=a?u+1:u]=v.children[u];return h[a]=p.id,v.children=h,v.children_d.push(p.id),v.children_d=v.children_d.concat(p.children_d),v.id===e.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(v.id),s||this.redraw(v.id===e.jstree.root),n&&n.call(this,p,v,a),this.trigger("copy_node",{node:p,original:i,parent:v.id,position:a,old_parent:m,old_position:b&&b._id&&m&&b._model.data[m]&&b._model.data[m].children?e.inArray(i.id,b._model.data[m].children):-1,is_multi:b&&b._id&&b._id!==this._id,is_foreign:!b||!b._id,old_instance:b,new_instance:this}),p.id},cut:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var i,r,a,l=[];for(r=0,a=t.length;r<a;r++)i=this.get_node(t[r]),i&&i.id&&i.id!==e.jstree.root&&l.push(i);return!!l.length&&(n=l,s=this,o="move_node",void this.trigger("cut",{node:t}))},copy:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var i,r,a,l=[];for(r=0,a=t.length;r<a;r++)i=this.get_node(t[r]),i&&i.id&&i.id!==e.jstree.root&&l.push(i);return!!l.length&&(n=l,s=this,o="copy_node",void this.trigger("copy",{node:t}))},get_buffer:function(){return{mode:o,node:n,inst:s}},can_paste:function(){return o!==!1&&n!==!1},paste:function(e,t){return e=this.get_node(e),!!(e&&o&&o.match(/^(copy_node|move_node)$/)&&n)&&(this[o](n,e,t,!1,!1,!1,s)&&this.trigger("paste",{parent:e.id,node:n,mode:o}),n=!1,o=!1,void(s=!1))},clear_buffer:function(){n=!1,o=!1,s=!1,this.trigger("clear_buffer")},edit:function(t,i,r){var a,n,o,s,l,d,c,h,p,u=!1;/*!
				oi = obj.children("i:visible"),
				ai = a.children("i:visible"),
				w1 = oi.width() * oi.length,
				w2 = ai.width() * ai.length,
				*/
return!!(t=this.get_node(t))&&(this.settings.core.check_callback===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_07",reason:"Could not edit node because of check_callback"},this.settings.core.error.call(this,this._data.core.last_error),!1):(p=t,i="string"==typeof i?i:t.text,this.set_text(t,""),t=this._open_to(t),p.text=i,a=this._data.core.rtl,n=this.element.width(),this._data.core.focused=p.id,o=t.children(".jstree-anchor").focus(),s=e("<span>"),l=i,d=e("<div />",{css:{position:"absolute",top:"-200px",left:a?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),c=e("<input />",{value:l,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:e.proxy(function(i){i.stopImmediatePropagation(),i.preventDefault();var a,n=s.children(".jstree-rename-input"),c=n.val(),h=this.settings.core.force_text;""===c&&(c=l),d.remove(),s.replaceWith(o),s.remove(),l=h?l:e("<div></div>").append(e.parseHTML(l)).html(),this.set_text(t,l),a=!!this.rename_node(t,h?e("<div></div>").text(c).text():e("<div></div>").append(e.parseHTML(c)).html()),a||this.set_text(t,l),this._data.core.focused=p.id,setTimeout(e.proxy(function(){var e=this.get_node(p.id,!0);e.length&&(this._data.core.focused=p.id,e.children(".jstree-anchor").focus())},this),0),r&&r.call(this,p,a,u)},this),keydown:function(e){var t=e.which;27===t&&(u=!0,this.value=l),27!==t&&13!==t&&37!==t&&38!==t&&39!==t&&40!==t&&32!==t||e.stopImmediatePropagation(),27!==t&&13!==t||(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){c.width(Math.min(d.text("pW"+this.value).width(),n))},keypress:function(e){if(13===e.which)return!1}}),h={fontFamily:o.css("fontFamily")||"",fontSize:o.css("fontSize")||"",fontWeight:o.css("fontWeight")||"",fontStyle:o.css("fontStyle")||"",fontStretch:o.css("fontStretch")||"",fontVariant:o.css("fontVariant")||"",letterSpacing:o.css("letterSpacing")||"",wordSpacing:o.css("wordSpacing")||""},s.attr("class",o.attr("class")).append(o.contents().clone()).append(c),o.replaceWith(s),d.css(h),void c.css(h).width(Math.min(d.text("pW"+c[0].value).width(),n))[0].select()))},set_theme:function(t,i){if(!t)return!1;if(i===!0){var r=this.settings.core.themes.dir;r||(r=e.jstree.path+"/themes"),i=r+"/"+t+"/style.css"}i&&e.inArray(i,l)===-1&&(e("head").append('<link rel="stylesheet" href="'+i+'" type="text/css" />'),l.push(i)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=t,this.element.addClass("jstree-"+t),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive"),this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},set_icon:function(i,r){var a,n,o,s;if(e.isArray(i)){for(i=i.slice(),a=0,n=i.length;a<n;a++)this.set_icon(i[a],r);return!0}return i=this.get_node(i),!(!i||i.id===e.jstree.root)&&(s=i.icon,i.icon=r===!0||null===r||r===t||""===r||r,o=this.get_node(i,!0).children(".jstree-anchor").children(".jstree-themeicon"),r===!1?this.hide_icon(i):r===!0||null===r||r===t||""===r?(o.removeClass("jstree-themeicon-custom "+s).css("background","").removeAttr("rel"),s===!1&&this.show_icon(i)):r.indexOf("/")===-1&&r.indexOf(".")===-1?(o.removeClass(s).css("background",""),o.addClass(r+" jstree-themeicon-custom").attr("rel",r),s===!1&&this.show_icon(i)):(o.removeClass(s).css("background",""),o.addClass("jstree-themeicon-custom").css("background","url('"+r+"') center center no-repeat").attr("rel",r),s===!1&&this.show_icon(i)),!0)},get_icon:function(t){return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&t.icon},hide_icon:function(t){var i,r;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;i<r;i++)this.hide_icon(t[i]);return!0}return t=this.get_node(t),!(!t||t===e.jstree.root)&&(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(t){var i,r,a;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;i<r;i++)this.show_icon(t[i]);return!0}return t=this.get_node(t),!(!t||t===e.jstree.root)&&(a=this.get_node(t,!0),t.icon=!a.length||a.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),t.icon||(t.icon=!0),a.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},e.vakata={},e.vakata.attributes=function(t,i){t=e(t)[0];var r=i?{}:[];return t&&t.attributes&&e.each(t.attributes,function(t,a){e.inArray(a.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])===-1&&null!==a.value&&""!==e.trim(a.value)&&(i?r[a.name]=a.value:r.push(a.name))}),r},e.vakata.array_unique=function(e){var i,r,a=[],n={};for(i=0,r=e.length;i<r;i++)n[e[i]]===t&&(a.push(e[i]),n[e[i]]=!0);return a},e.vakata.array_remove=function(e,t,i){var r=e.slice((i||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e},e.vakata.array_remove_item=function(t,i){var r=e.inArray(i,t);return r!==-1?e.vakata.array_remove(t,r):t},e.jstree.plugins.changed=function(e,t){var i=[];this.trigger=function(e,r){var a,n;if(r||(r={}),"changed"===e.replace(".jstree","")){r.changed={selected:[],deselected:[]};var o={};for(a=0,n=i.length;a<n;a++)o[i[a]]=1;for(a=0,n=r.selected.length;a<n;a++)o[r.selected[a]]?o[r.selected[a]]=2:r.changed.selected.push(r.selected[a]);for(a=0,n=i.length;a<n;a++)1===o[i[a]]&&r.changed.deselected.push(i[a]);i=r.selected.slice()}t.trigger.call(this,e,r)},this.refresh=function(e,r){return i=[],t.refresh.apply(this,arguments)}};var p=c.createElement("I");p.className="jstree-icon jstree-checkbox",p.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0},e.jstree.plugins.checkbox=function(i,r){this.bind=function(){r.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",e.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",e.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),this.settings.checkbox.cascade.indexOf("undetermined")!==-1&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",e.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",e.proxy(function(e,t){var i,r,a=this._model.data,n=(a[t.parent],t.nodes);for(i=0,r=n.length;i<r;i++)a[n[i]].state.checked=a[n[i]].state.checked||a[n[i]].original&&a[n[i]].original.state&&a[n[i]].original.state.checked,a[n[i]].state.checked&&this._data.checkbox.selected.push(n[i])},this)),this.settings.checkbox.cascade.indexOf("up")===-1&&this.settings.checkbox.cascade.indexOf("down")===-1||this.element.on("model.jstree",e.proxy(function(t,i){var r,a,n,o,s,l,d=this._model.data,c=d[i.parent],h=i.nodes,p=[],u=this.settings.checkbox.cascade,g=this.settings.checkbox.tie_selection;if(u.indexOf("down")!==-1)if(c.state[g?"selected":"checked"]){for(a=0,n=h.length;a<n;a++)d[h[a]].state[g?"selected":"checked"]=!0;this._data[g?"core":"checkbox"].selected=this._data[g?"core":"checkbox"].selected.concat(h)}else for(a=0,n=h.length;a<n;a++)if(d[h[a]].state[g?"selected":"checked"]){for(o=0,s=d[h[a]].children_d.length;o<s;o++)d[d[h[a]].children_d[o]].state[g?"selected":"checked"]=!0;this._data[g?"core":"checkbox"].selected=this._data[g?"core":"checkbox"].selected.concat(d[h[a]].children_d)}if(u.indexOf("up")!==-1){for(a=0,n=c.children_d.length;a<n;a++)d[c.children_d[a]].children.length||p.push(d[c.children_d[a]].parent);for(p=e.vakata.array_unique(p),o=0,s=p.length;o<s;o++)for(c=d[p[o]];c&&c.id!==e.jstree.root;){for(r=0,a=0,n=c.children.length;a<n;a++)r+=d[c.children[a]].state[g?"selected":"checked"];if(r!==n)break;c.state[g?"selected":"checked"]=!0,this._data[g?"core":"checkbox"].selected.push(c.id),l=this.get_node(c,!0),l&&l.length&&l.attr("aria-selected",!0).children(".jstree-anchor").addClass(g?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}}this._data[g?"core":"checkbox"].selected=e.vakata.array_unique(this._data[g?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",e.proxy(function(t,i){var r,a,n,o,s=i.node,l=this._model.data,d=this.get_node(s.parent),c=this.get_node(s,!0),h=this.settings.checkbox.cascade,p=this.settings.checkbox.tie_selection;if(h.indexOf("down")!==-1)for(this._data[p?"core":"checkbox"].selected=e.vakata.array_unique(this._data[p?"core":"checkbox"].selected.concat(s.children_d)),r=0,a=s.children_d.length;r<a;r++)o=l[s.children_d[r]],o.state[p?"selected":"checked"]=!0,o&&o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=!1);if(h.indexOf("up")!==-1)for(;d&&d.id!==e.jstree.root;){for(n=0,r=0,a=d.children.length;r<a;r++)n+=l[d.children[r]].state[p?"selected":"checked"];if(n!==a)break;d.state[p?"selected":"checked"]=!0,this._data[p?"core":"checkbox"].selected.push(d.id),o=this.get_node(d,!0),o&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(p?"jstree-clicked":"jstree-checked"),d=this.get_node(d.parent)}h.indexOf("down")!==-1&&c.length&&c.find(".jstree-anchor").addClass(p?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!0)},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",e.proxy(function(t,i){var r,a,n,o=this.get_node(e.jstree.root),s=this._model.data;for(r=0,a=o.children_d.length;r<a;r++)n=s[o.children_d[r]],n&&n.original&&n.original.state&&n.original.state.undetermined&&(n.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",e.proxy(function(t,i){var r,a,n,o=i.node,s=this.get_node(o,!0),l=this.settings.checkbox.cascade,d=this.settings.checkbox.tie_selection;if(o&&o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=!1),l.indexOf("down")!==-1)for(r=0,a=o.children_d.length;r<a;r++)n=this._model.data[o.children_d[r]],n.state[d?"selected":"checked"]=!1,n&&n.original&&n.original.state&&n.original.state.undetermined&&(n.original.state.undetermined=!1);if(l.indexOf("up")!==-1)for(r=0,a=o.parents.length;r<a;r++)n=this._model.data[o.parents[r]],n.state[d?"selected":"checked"]=!1,n&&n.original&&n.original.state&&n.original.state.undetermined&&(n.original.state.undetermined=!1),n=this.get_node(o.parents[r],!0),n&&n.length&&n.attr("aria-selected",!1).children(".jstree-anchor").removeClass(d?"jstree-clicked":"jstree-checked");for(n=[],r=0,a=this._data[d?"core":"checkbox"].selected.length;r<a;r++)l.indexOf("down")!==-1&&e.inArray(this._data[d?"core":"checkbox"].selected[r],o.children_d)!==-1||l.indexOf("up")!==-1&&e.inArray(this._data[d?"core":"checkbox"].selected[r],o.parents)!==-1||n.push(this._data[d?"core":"checkbox"].selected[r]);this._data[d?"core":"checkbox"].selected=e.vakata.array_unique(n),l.indexOf("down")!==-1&&s.length&&s.find(".jstree-anchor").removeClass(d?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!1)},this)),this.settings.checkbox.cascade.indexOf("up")!==-1&&this.element.on("delete_node.jstree",e.proxy(function(t,i){for(var r,a,n,o,s=this.get_node(i.parent),l=this._model.data,d=this.settings.checkbox.tie_selection;s&&s.id!==e.jstree.root&&!s.state[d?"selected":"checked"];){for(n=0,r=0,a=s.children.length;r<a;r++)n+=l[s.children[r]].state[d?"selected":"checked"];if(!(a>0&&n===a))break;s.state[d?"selected":"checked"]=!0,this._data[d?"core":"checkbox"].selected.push(s.id),o=this.get_node(s,!0),o&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(d?"jstree-clicked":"jstree-checked"),s=this.get_node(s.parent)}},this)).on("move_node.jstree",e.proxy(function(t,i){var r,a,n,o,s,l=i.is_multi,d=i.old_parent,c=this.get_node(i.parent),h=this._model.data,p=this.settings.checkbox.tie_selection;if(!l)for(r=this.get_node(d);r&&r.id!==e.jstree.root&&!r.state[p?"selected":"checked"];){for(a=0,n=0,o=r.children.length;n<o;n++)a+=h[r.children[n]].state[p?"selected":"checked"];if(!(o>0&&a===o))break;r.state[p?"selected":"checked"]=!0,this._data[p?"core":"checkbox"].selected.push(r.id),s=this.get_node(r,!0),s&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(p?"jstree-clicked":"jstree-checked"),r=this.get_node(r.parent)}for(r=c;r&&r.id!==e.jstree.root;){for(a=0,n=0,o=r.children.length;n<o;n++)a+=h[r.children[n]].state[p?"selected":"checked"];if(a===o)r.state[p?"selected":"checked"]||(r.state[p?"selected":"checked"]=!0,this._data[p?"core":"checkbox"].selected.push(r.id),s=this.get_node(r,!0),s&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(p?"jstree-clicked":"jstree-checked"));else{if(!r.state[p?"selected":"checked"])break;r.state[p?"selected":"checked"]=!1,this._data[p?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[p?"core":"checkbox"].selected,r.id),s=this.get_node(r,!0),s&&s.length&&s.attr("aria-selected",!1).children(".jstree-anchor").removeClass(p?"jstree-clicked":"jstree-checked")}r=this.get_node(r.parent)}},this))},this._undetermined=function(){if(null!==this.element){var i,r,a,n,o={},s=this._model.data,l=this.settings.checkbox.tie_selection,d=this._data[l?"core":"checkbox"].selected,c=[],h=this;for(i=0,r=d.length;i<r;i++)if(s[d[i]]&&s[d[i]].parents)for(a=0,n=s[d[i]].parents.length;a<n;a++)o[s[d[i]].parents[a]]===t&&s[d[i]].parents[a]!==e.jstree.root&&(o[s[d[i]].parents[a]]=!0,c.push(s[d[i]].parents[a]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var l,d=h.get_node(this);if(d.state.loaded){for(i=0,r=d.children_d.length;i<r;i++)if(l=s[d.children_d[i]],!l.state.loaded&&l.original&&l.original.state&&l.original.state.undetermined&&l.original.state.undetermined===!0)for(o[l.id]===t&&l.id!==e.jstree.root&&(o[l.id]=!0,c.push(l.id)),a=0,n=l.parents.length;a<n;a++)o[l.parents[a]]===t&&l.parents[a]!==e.jstree.root&&(o[l.parents[a]]=!0,c.push(l.parents[a]))}else if(d.original&&d.original.state&&d.original.state.undetermined&&d.original.state.undetermined===!0)for(o[d.id]===t&&d.id!==e.jstree.root&&(o[d.id]=!0,c.push(d.id)),a=0,n=d.parents.length;a<n;a++)o[d.parents[a]]===t&&d.parents[a]!==e.jstree.root&&(o[d.parents[a]]=!0,c.push(d.parents[a]))}),this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),i=0,r=c.length;i<r;i++)s[c[i]].state[l?"selected":"checked"]||(d=this.get_node(c[i],!0),d&&d.length&&d.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined"))}},this.redraw_node=function(t,i,a,n){if(t=r.redraw_node.apply(this,arguments)){var o,s,l=null,d=null;for(o=0,s=t.childNodes.length;o<s;o++)if(t.childNodes[o]&&t.childNodes[o].className&&t.childNodes[o].className.indexOf("jstree-anchor")!==-1){l=t.childNodes[o];break}l&&(!this.settings.checkbox.tie_selection&&this._model.data[t.id].state.checked&&(l.className+=" jstree-checked"),d=p.cloneNode(!1),this._model.data[t.id].state.checkbox_disabled&&(d.className+=" jstree-checkbox-disabled"),l.insertBefore(d,l.childNodes[0]))}return a||this.settings.checkbox.cascade.indexOf("undetermined")===-1||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)),t},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(t){t=this.get_node(t);var i,r,a=this.settings.checkbox.cascade,n=this.settings.checkbox.tie_selection,o=this._data[n?"core":"checkbox"].selected,s=this._model.data;if(!t||t.state[n?"selected":"checked"]===!0||a.indexOf("undetermined")===-1||a.indexOf("down")===-1&&a.indexOf("up")===-1)return!1;if(!t.state.loaded&&t.original.state.undetermined===!0)return!0;for(i=0,r=t.children_d.length;i<r;i++)if(e.inArray(t.children_d[i],o)!==-1||!s[t.children_d[i]].state.loaded&&s[t.children_d[i]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(t){var i,r,a;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;i<r;i++)this.disable_checkbox(t[i]);return!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&(a=this.get_node(t,!0),void(t.state.checkbox_disabled||(t.state.checkbox_disabled=!0,a&&a.length&&a.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:t}))))},this.enable_checkbox=function(t){var i,r,a;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;i<r;i++)this.enable_checkbox(t[i]);return!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&(a=this.get_node(t,!0),void(t.state.checkbox_disabled&&(t.state.checkbox_disabled=!1,a&&a.length&&a.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:t}))))},this.activate_node=function(t,i){return!e(i.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(i.target).hasClass("jstree-checkbox"))&&(i.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(i.target).hasClass("jstree-checkbox")?r.activate_node.call(this,t,i):!this.is_disabled(t)&&(this.is_checked(t)?this.uncheck_node(t,i):this.check_node(t,i),void this.trigger("activate_node",{node:this.get_node(t)})))},this.check_node=function(t,i){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,i);var r,a,n;if(e.isArray(t)){for(t=t.slice(),a=0,n=t.length;a<n;a++)this.check_node(t[a],i);return!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&(r=this.get_node(t,!0),void(t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),r&&r.length&&r.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:i}))))},this.uncheck_node=function(t,i){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,i);var r,a,n;if(e.isArray(t)){for(t=t.slice(),r=0,a=t.length;r<a;r++)this.uncheck_node(t[r],i);return!0}return t=this.get_node(t),!(!t||t.id===e.jstree.root)&&(n=this.get_node(t,!0),void(t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,t.id),n.length&&n.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:i}))))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var t,i;this._data.checkbox.selected.concat([]);for(this._data.checkbox.selected=this._model.data[e.jstree.root].children_d.concat(),t=0,i=this._data.checkbox.selected.length;t<i;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var e,t,i=this._data.checkbox.selected.concat([]);for(e=0,t=this._data.checkbox.selected.length;e<t;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:i})},this.is_checked=function(t){return this.settings.checkbox.tie_selection?this.is_selected(t):(t=this.get_node(t),!(!t||t.id===e.jstree.root)&&t.state.checked)},this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?e.map(this._data.checkbox.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.checkbox.selected},this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);var i,r,a,n,o=this.get_checked(!0),s={};for(i=0,r=o.length;i<r;i++)s[o[i].id]=o[i];for(i=0,r=o.length;i<r;i++)for(a=0,n=o[i].children_d.length;a<n;a++)s[o[i].children_d[a]]&&delete s[o[i].children_d[a]];o=[];for(i in s)s.hasOwnProperty(i)&&o.push(i);return t?e.map(o,e.proxy(function(e){return this.get_node(e)},this)):o},this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);var i,r,a=this.get_checked(!0),n=[];for(i=0,r=a.length;i<r;i++)a[i].children.length||n.push(a[i].id);return t?e.map(n,e.proxy(function(e){return this.get_node(e)},this)):n},this.load_node=function(t,i){var a,n,o,s;if(!e.isArray(t)&&!this.settings.checkbox.tie_selection&&(s=this.get_node(t),s&&s.state.loaded))for(a=0,n=s.children_d.length;a<n;a++)this._model.data[s.children_d[a]].state.checked&&(o=!0,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,s.children_d[a]));return r.load_node.apply(this,arguments)},this.get_state=function(){var e=r.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection?e:(e.checkbox=this._data.checkbox.selected.slice(),e)},this.set_state=function(t,i){var a=r.set_state.apply(this,arguments);if(a&&t.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var n=this;e.each(t.checkbox,function(e,t){n.check_node(t)})}return delete t.checkbox,this.set_state(t,i),!1}return a},this.refresh=function(e,t){return this.settings.checkbox.tie_selection||(this._data.checkbox.selected=[]),r.refresh.apply(this,arguments)}},e.jstree.defaults.conditionalselect=function(){return!0},e.jstree.plugins.conditionalselect=function(e,t){this.activate_node=function(e,i){this.settings.conditionalselect.call(this,this.get_node(e),i)&&t.activate_node.call(this,e,i)}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(t,i){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var i=e.jstree.reference(t.reference),r=i.get_node(t.reference);i.create_node(r,{},"last",function(e){setTimeout(function(){i.edit(e)},0)})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",/*!
						"shortcut"			: 113,
						"shortcut_label"	: 'F2',
						"icon"				: "glyphicon glyphicon-leaf",
						*/
action:function(t){var i=e.jstree.reference(t.reference),r=i.get_node(t.reference);i.edit(r)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var i=e.jstree.reference(t.reference),r=i.get_node(t.reference);i.is_selected(r)?i.delete_node(i.get_selected()):i.delete_node(r)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var i=e.jstree.reference(t.reference),r=i.get_node(t.reference);i.is_selected(r)?i.cut(i.get_top_selected()):i.cut(r)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var i=e.jstree.reference(t.reference),r=i.get_node(t.reference);i.is_selected(r)?i.copy(i.get_top_selected()):i.copy(r)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!e.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var i=e.jstree.reference(t.reference),r=i.get_node(t.reference);i.paste(r)}}}}}}},e.jstree.plugins.contextmenu=function(i,r){this.bind=function(){r.bind.call(this);var t,i,a=0,n=null;this.element.on("contextmenu.jstree",".jstree-anchor",e.proxy(function(e,t){e.preventDefault(),a=e.ctrlKey?+new Date:0,(t||n)&&(a=+new Date+1e4),n&&clearTimeout(n),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e)},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){this._data.contextmenu.visible&&(!a||+new Date-a>250)&&e.vakata.context.hide(),a=0},this)).on("touchstart.jstree",".jstree-anchor",function(r){r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(t=r.pageX,i=r.pageY,n=setTimeout(function(){e(r.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(e){n&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(Math.abs(t-e.pageX)>50||Math.abs(i-e.pageY)>50)&&clearTimeout(n)}).on("touchend.vakata.jstree",function(e){n&&clearTimeout(n)}),/*!
				if(!('oncontextmenu' in document.body) && ('ontouchstart' in document.body)) {
					var el = null, tm = null;
					this.element
						.on("touchstart", ".jstree-anchor", function (e) {
							el = e.currentTarget;
							tm = +new Date();
							$(document).one("touchend", function (e) {
								e.target = document.elementFromPoint(e.originalEvent.targetTouches[0].pageX - window.pageXOffset, e.originalEvent.targetTouches[0].pageY - window.pageYOffset);
								e.currentTarget = e.target;
								tm = ((+(new Date())) - tm);
								if(e.target === el && tm > 600 && tm < 1000) {
									e.preventDefault();
									$(el).trigger('contextmenu', e);
								}
								el = null;
								tm = null;
							});
						});
				}
				*/
e(c).on("context_hide.vakata.jstree",e.proxy(function(){this._data.contextmenu.visible=!1},this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),r.teardown.call(this)},this.show_contextmenu=function(i,r,a,n){if(i=this.get_node(i),!i||i.id===e.jstree.root)return!1;var o=this.settings.contextmenu,s=this.get_node(i,!0),l=s.children(".jstree-anchor"),d=!1,c=!1;(o.show_at_node||r===t||a===t)&&(d=l.offset(),r=d.left,a=d.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(i)&&this.activate_node(i,n),c=o.items,e.isFunction(c)&&(c=c.call(this,i,e.proxy(function(e){this._show_contextmenu(i,r,a,e)},this))),e.isPlainObject(c)&&this._show_contextmenu(i,r,a,c)},this._show_contextmenu=function(t,i,r,a){var n=this.get_node(t,!0),o=n.children(".jstree-anchor");e(c).one("context_show.vakata.jstree",e.proxy(function(t,i){var r="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(i.element).addClass(r)},this)),this._data.contextmenu.visible=!0,e.vakata.context.show(o,{x:i,y:r},a),this.trigger("show_contextmenu",{node:t,x:i,y:r})}},function(e){var t=!1,i={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(t){e(c).triggerHandler("context_"+t+".vakata",{reference:i.reference,element:i.element,position:{x:i.position_x,y:i.position_y}})},_execute:function(t){return t=i.items[t],!(!t||t._disabled&&(!e.isFunction(t._disabled)||t._disabled({item:t,reference:i.reference,element:i.element}))||!t.action)&&t.action.call(null,{item:t,reference:i.reference,element:i.element,position:{x:i.position_x,y:i.position_y}})},_parse:function(t,r){if(!t)return!1;r||(i.html="",i.items=[]);var a,n="",o=!1;return r&&(n+="<ul>"),e.each(t,function(t,r){return!r||(i.items.push(r),!o&&r.separator_before&&(n+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),o=!1,n+="<li class='"+(r._class||"")+(r._disabled===!0||e.isFunction(r._disabled)&&r._disabled({item:r,reference:i.reference,element:i.element})?" vakata-contextmenu-disabled ":"")+"' "+(r.shortcut?" data-shortcut='"+r.shortcut+"' ":"")+">",n+="<a href='#' rel='"+(i.items.length-1)+"'>",e.vakata.context.settings.icons&&(n+="<i ",r.icon&&(n+=r.icon.indexOf("/")!==-1||r.icon.indexOf(".")!==-1?" style='background:url(\""+r.icon+"\") center center no-repeat' ":" class='"+r.icon+"' "),n+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),n+=(e.isFunction(r.label)?r.label({item:t,reference:i.reference,element:i.element}):r.label)+(r.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+r.shortcut+'">'+(r.shortcut_label||"")+"</span>":"")+"</a>",r.submenu&&(a=e.vakata.context._parse(r.submenu,!0),a&&(n+=a)),n+="</li>",void(r.separator_after&&(n+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",o=!0)))}),n=n.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),r&&(n+="</ul>"),r||(i.html=n,e.vakata.context._trigger("parse")),n.length>10&&n},_show_submenu:function(i){if(i=e(i),i.length&&i.children("ul").length){var r=i.children("ul"),a=i.offset().left+i.outerWidth(),n=i.offset().top,o=r.width(),s=r.height(),l=e(window).width()+e(window).scrollLeft(),d=e(window).height()+e(window).scrollTop();t?i[a-(o+10+i.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):i[a+o+10>l?"addClass":"removeClass"]("vakata-context-right"),n+s+10>d&&r.css("bottom","-1px"),r.show()}},show:function(r,a,n){var o,s,l,d,c,h,p,u,g=!0;switch(i.element&&i.element.length&&i.element.width(""),g){case!a&&!r:return!1;case!!a&&!!r:i.reference=r,i.position_x=a.x,i.position_y=a.y;break;case!a&&!!r:i.reference=r,o=r.offset(),i.position_x=o.left+r.outerHeight(),i.position_y=o.top;break;case!!a&&!r:i.position_x=a.x,i.position_y=a.y}r&&!n&&e(r).data("vakata_contextmenu")&&(n=e(r).data("vakata_contextmenu")),e.vakata.context._parse(n)&&i.element.html(i.html),i.items.length&&(i.element.appendTo("body"),s=i.element,l=i.position_x,d=i.position_y,c=s.width(),h=s.height(),p=e(window).width()+e(window).scrollLeft(),u=e(window).height()+e(window).scrollTop(),t&&(l-=s.outerWidth()-e(r).outerWidth(),l<e(window).scrollLeft()+20&&(l=e(window).scrollLeft()+20)),l+c+20>p&&(l=p-(c+20)),d+h+20>u&&(d=u-(h+20)),i.element.css({left:l,top:d}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),i.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){i.is_visible&&(i.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),i.is_visible=!1,e.vakata.context._trigger("hide"))}},e(function(){t="rtl"===e("body").css("direction");var r=!1;i.element=e("<ul class='vakata-context'></ul>"),i.element.on("mouseenter","li",function(t){t.stopImmediatePropagation(),e.contains(this,t.relatedTarget)||(r&&clearTimeout(r),i.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))}).on("mouseleave","li",function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(t){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(r=setTimeout(function(t){return function(){e.vakata.context.hide()}}(this),e.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(t){t.preventDefault(),e(this).blur().parent().hasClass("vakata-context-disabled")||e.vakata.context._execute(e(this).attr("rel"))===!1||e.vakata.context.hide()}).on("keydown","a",function(t){var r=null;switch(t.which){case 13:case 32:t.type="mouseup",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:i.is_visible&&(i.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 38:i.is_visible&&(r=i.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first(),r.length||(r=i.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),r.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 39:i.is_visible&&(i.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 40:i.is_visible&&(r=i.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first(),r.length||(r=i.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),r.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault()}}).on("keydown",function(e){e.preventDefault();var t=i.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.click()}),e(c).on("mousedown.vakata.jstree",function(t){i.is_visible&&!e.contains(i.element[0],t.target)&&e.vakata.context.hide()}).on("context_show.vakata.jstree",function(e,r){i.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),t&&i.element.addClass("vakata-context-rtl").css("direction","rtl"),i.element.find("ul").hide().end()})})}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1},e.jstree.plugins.dnd=function(t,i){this.bind=function(){i.bind.call(this),this.element.on("mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",e.proxy(function(t){if(this.settings.dnd.large_drag_target&&e(t.target).closest(".jstree-node")[0]!==t.currentTarget)return!0;if("touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var i=this.get_node(t.target),r=this.is_selected(i)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,a=r>1?r+" "+this.get_string("nodes"):this.get_text(t.currentTarget);return this.settings.core.force_text&&(a=e.vakata.html.escape(a)),i&&i.id&&i.id!==e.jstree.root&&(1===t.which||"touchstart"===t.type)&&(this.settings.dnd.is_draggable===!0||e.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,r>1?this.get_top_selected(!0):[i],t))?(this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(t,{jstree:!0,origin:this,obj:this.get_node(i,!0),nodes:r>1?this.get_top_selected():[i.id]},'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+a+'<ins class="jstree-copy" style="display:none;">+</ins></div>')):void 0},this))}},e(function(){var t=!1,i=!1,r=!1,a=!1,n=e('<div id="jstree-marker">&#160;</div>').hide();e(c).on("dnd_start.vakata.jstree",function(e,i){t=!1,r=!1,i&&i.data&&i.data.jstree&&n.appendTo("body")}).on("dnd_move.vakata.jstree",function(o,s){if(a&&clearTimeout(a),s&&s.data&&s.data.jstree&&(!s.event.target.id||"jstree-marker"!==s.event.target.id)){r=s.event;var l,d,c,h,p,u,g,f,m,v,b,y,w,_,A=e.jstree.reference(s.event.target),x=!1,k=!1,j=!1;if(A&&A._data&&A._data.dnd)if(n.attr("class","jstree-"+A.get_theme()+(A.settings.core.themes.responsive?" jstree-dnd-responsive":"")),s.helper.children().attr("class","jstree-"+A.get_theme()+" jstree-"+A.get_theme()+"-"+A.get_theme_variant()+" "+(A.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[s.data.origin&&(s.data.origin.settings.dnd.always_copy||s.data.origin.settings.dnd.copy&&(s.event.metaKey||s.event.ctrlKey))?"show":"hide"](),s.event.target!==A.element[0]&&s.event.target!==A.get_container_ul()[0]||0!==A.get_container_ul().children().length){if(x=A.settings.dnd.large_drop_target?e(s.event.target).closest(".jstree-node").children(".jstree-anchor"):e(s.event.target).closest(".jstree-anchor"),x&&x.length&&x.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(k=x.offset(),j=s.event.pageY-k.top,c=x.outerHeight(),u=j<c/3?["b","i","a"]:j>c-c/3?["a","i","b"]:j>c/2?["i","a","b"]:["i","b","a"],e.each(u,function(r,o){switch(o){case"b":l=k.left-6,d=k.top,h=A.get_parent(x),p=x.parent().index();break;case"i":w=A.settings.dnd.inside_pos,_=A.get_node(x.parent()),l=k.left-2,d=k.top+c/2+1,h=_.id,p="first"===w?0:"last"===w?_.children.length:Math.min(w,_.children.length);break;case"a":l=k.left-6,d=k.top+c,h=A.get_parent(x),p=x.parent().index()+1}for(g=!0,f=0,m=s.data.nodes.length;f<m;f++)if(v=s.data.origin&&(s.data.origin.settings.dnd.always_copy||s.data.origin.settings.dnd.copy&&(s.event.metaKey||s.event.ctrlKey))?"copy_node":"move_node",b=p,"move_node"===v&&"a"===o&&s.data.origin&&s.data.origin===A&&h===A.get_parent(s.data.nodes[f])&&(y=A.get_node(h),b>e.inArray(s.data.nodes[f],y.children)&&(b-=1)),g=g&&(A&&A.settings&&A.settings.dnd&&A.settings.dnd.check_while_dragging===!1||A.check(v,s.data.origin&&s.data.origin!==A?s.data.origin.get_node(s.data.nodes[f]):s.data.nodes[f],h,b,{dnd:!0,ref:A.get_node(x.parent()),pos:o,origin:s.data.origin,is_multi:s.data.origin&&s.data.origin!==A,is_foreign:!s.data.origin})),!g){A&&A.last_error&&(i=A.last_error());break}if("i"===o&&x.parent().is(".jstree-closed")&&A.settings.dnd.open_timeout&&(a=setTimeout(function(e,t){return function(){e.open_node(t)}}(A,x),A.settings.dnd.open_timeout)),g)return t={ins:A,par:h,pos:"i"!==o||"last"!==w||0!==p||A.is_loaded(_)?p:"last"},n.css({left:l+"px",top:d+"px"}).show(),s.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),i={},u=!0,!1}),u===!0))return}else{for(g=!0,f=0,m=s.data.nodes.length;f<m&&(g=g&&A.check(s.data.origin&&(s.data.origin.settings.dnd.always_copy||s.data.origin.settings.dnd.copy&&(s.event.metaKey||s.event.ctrlKey))?"copy_node":"move_node",s.data.origin&&s.data.origin!==A?s.data.origin.get_node(s.data.nodes[f]):s.data.nodes[f],e.jstree.root,"last",{dnd:!0,ref:A.get_node(e.jstree.root),pos:"i",origin:s.data.origin,is_multi:s.data.origin&&s.data.origin!==A,is_foreign:!s.data.origin}),g);f++);if(g)return t={ins:A,par:e.jstree.root,pos:"last"},n.hide(),void s.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok")}t=!1,s.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),n.hide()}}).on("dnd_scroll.vakata.jstree",function(e,i){i&&i.data&&i.data.jstree&&(n.hide(),t=!1,r=!1,i.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(o,s){if(a&&clearTimeout(a),s&&s.data&&s.data.jstree){n.hide().detach();var l,d,c=[];if(t){for(l=0,d=s.data.nodes.length;l<d;l++)c[l]=s.data.origin?s.data.origin.get_node(s.data.nodes[l]):s.data.nodes[l];t.ins[s.data.origin&&(s.data.origin.settings.dnd.always_copy||s.data.origin.settings.dnd.copy&&(s.event.metaKey||s.event.ctrlKey))?"copy_node":"move_node"](c,t.par,t.pos,!1,!1,!1,s.data.origin)}else l=e(s.event.target).closest(".jstree"),l.length&&i&&i.error&&"check"===i.error&&(l=l.jstree(!0),l&&l.settings.core.error.call(this,i));r=!1,t=!1}}).on("keyup.jstree keydown.jstree",function(t,i){i=e.vakata.dnd._get(),i&&i.data&&i.data.jstree&&(i.helper.find(".jstree-copy").first()[i.data.origin&&(i.data.origin.settings.dnd.always_copy||i.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"](),r&&(r.metaKey=t.metaKey,r.ctrlKey=t.ctrlKey,e.vakata.dnd._trigger("move",r)))})}),function(e){e.vakata.html={div:e("<div />"),escape:function(t){return e.vakata.html.div.text(t).html()},strip:function(t){return e.vakata.html.div.empty().append(e.parseHTML(t)).text()}};var t={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:50},_trigger:function(t,i){var r=e.vakata.dnd._get();r.event=i,e(c).triggerHandler("dnd_"+t+".vakata",r)},_get:function(){return{data:t.data,element:t.element,helper:t.helper}},_clean:function(){t.helper&&t.helper.remove(),t.scroll_i&&(clearInterval(t.scroll_i),t.scroll_i=!1),t={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},e(c).off("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(c).off("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop)},_scroll:function(i){if(!t.scroll_e||!t.scroll_l&&!t.scroll_t)return t.scroll_i&&(clearInterval(t.scroll_i),t.scroll_i=!1),!1;if(!t.scroll_i)return t.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(i===!0)return!1;var r=t.scroll_e.scrollTop(),a=t.scroll_e.scrollLeft();t.scroll_e.scrollTop(r+t.scroll_t*e.vakata.dnd.settings.scroll_speed),t.scroll_e.scrollLeft(a+t.scroll_l*e.vakata.dnd.settings.scroll_speed),r===t.scroll_e.scrollTop()&&a===t.scroll_e.scrollLeft()||e.vakata.dnd._trigger("scroll",t.scroll_e)},start:function(i,r,a){"touchstart"===i.type&&i.originalEvent&&i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0]&&(i.pageX=i.originalEvent.changedTouches[0].pageX,i.pageY=i.originalEvent.changedTouches[0].pageY,i.target=c.elementFromPoint(i.originalEvent.changedTouches[0].pageX-window.pageXOffset,i.originalEvent.changedTouches[0].pageY-window.pageYOffset)),t.is_drag&&e.vakata.dnd.stop({});try{i.currentTarget.unselectable="on",i.currentTarget.onselectstart=function(){return!1},i.currentTarget.style&&(i.currentTarget.style.MozUserSelect="none")}catch(n){}return t.init_x=i.pageX,t.init_y=i.pageY,t.data=r,t.is_down=!0,t.element=i.currentTarget,t.target=i.target,t.is_touch="touchstart"===i.type,a!==!1&&(t.helper=e("<div id='vakata-dnd'></div>").html(a).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(c).on("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(c).on("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop),!1},drag:function(i){if("touchmove"===i.type&&i.originalEvent&&i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0]&&(i.pageX=i.originalEvent.changedTouches[0].pageX,i.pageY=i.originalEvent.changedTouches[0].pageY,i.target=c.elementFromPoint(i.originalEvent.changedTouches[0].pageX-window.pageXOffset,i.originalEvent.changedTouches[0].pageY-window.pageYOffset)),t.is_down){if(!t.is_drag){if(!(Math.abs(i.pageX-t.init_x)>(t.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(i.pageY-t.init_y)>(t.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)))return;t.helper&&(t.helper.appendTo("body"),t.helper_w=t.helper.outerWidth()),t.is_drag=!0,e.vakata.dnd._trigger("start",i)}var r=!1,a=!1,n=!1,o=!1,s=!1,l=!1,d=!1,h=!1,p=!1,u=!1;return t.scroll_t=0,t.scroll_l=0,t.scroll_e=!1,e(e(i.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var r=e(this),a=r.offset();if(this.scrollHeight>this.offsetHeight&&(a.top+r.height()-i.pageY<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_t=1),i.pageY-a.top<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(a.left+r.width()-i.pageX<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_l=1),i.pageX-a.left<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_l=-1)),t.scroll_t||t.scroll_l)return t.scroll_e=e(this),!1}),t.scroll_e||(r=e(c),a=e(window),n=r.height(),o=a.height(),s=r.width(),l=a.width(),d=r.scrollTop(),h=r.scrollLeft(),n>o&&i.pageY-d<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_t=-1),n>o&&o-(i.pageY-d)<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_t=1),s>l&&i.pageX-h<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_l=-1),s>l&&l-(i.pageX-h)<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_l=1),(t.scroll_t||t.scroll_l)&&(t.scroll_e=r)),t.scroll_e&&e.vakata.dnd._scroll(!0),t.helper&&(p=parseInt(i.pageY+e.vakata.dnd.settings.helper_top,10),u=parseInt(i.pageX+e.vakata.dnd.settings.helper_left,10),n&&p+25>n&&(p=n-50),s&&u+t.helper_w>s&&(u=s-(t.helper_w+2)),t.helper.css({left:u+"px",top:p+"px"})),e.vakata.dnd._trigger("move",i),!1}},stop:function(i){if("touchend"===i.type&&i.originalEvent&&i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0]&&(i.pageX=i.originalEvent.changedTouches[0].pageX,i.pageY=i.originalEvent.changedTouches[0].pageY,i.target=c.elementFromPoint(i.originalEvent.changedTouches[0].pageX-window.pageXOffset,i.originalEvent.changedTouches[0].pageY-window.pageYOffset)),t.is_drag)e.vakata.dnd._trigger("stop",i);else if("touchend"===i.type&&i.target===t.target){var r=setTimeout(function(){e(i.target).click()},100);e(i.target).one("click",function(){r&&clearTimeout(r)})}return e.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(t,i){this.init=function(e,t){i.init.call(this,e,t),this._data.massload={}},this._load_nodes=function(t,r,a){var n=this.settings.massload;return a&&!e.isEmptyObject(this._data.massload)?i._load_nodes.call(this,t,r,a):e.isFunction(n)?n.call(this,t,e.proxy(function(e){if(e)for(var n in e)e.hasOwnProperty(n)&&(this._data.massload[n]=e[n]);i._load_nodes.call(this,t,r,a)},this)):"object"==typeof n&&n&&n.url?(n=e.extend(!0,{},n),e.isFunction(n.url)&&(n.url=n.url.call(this,t)),e.isFunction(n.data)&&(n.data=n.data.call(this,t)),e.ajax(n).done(e.proxy(function(e,n,o){if(e)for(var s in e)e.hasOwnProperty(s)&&(this._data.massload[s]=e[s]);i._load_nodes.call(this,t,r,a)},this)).fail(e.proxy(function(e){i._load_nodes.call(this,t,r,a)},this))):i._load_nodes.call(this,t,r,a)},this._load_node=function(t,r){var a=this._data.massload[t.id];return a?this["string"==typeof a?"_append_html_data":"_append_json_data"](t,"string"==typeof a?e(e.parseHTML(a)).filter(function(){return 3!==this.nodeType}):a,function(e){r.call(this,e),delete this._data.massload[t.id]}):i._load_node.call(this,t,r)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(i,r){this.bind=function(){r.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",e.proxy(function(t,i){if(this._data.search.som&&i.res.length){var r,a,n=this._model.data,o=[];for(r=0,a=i.res.length;r<a;r++)n[i.res[r]]&&!n[i.res[r]].state.hidden&&(o.push(i.res[r]),o=o.concat(n[i.res[r]].parents),this._data.search.smc&&(o=o.concat(n[i.res[r]].children_d)));o=e.vakata.array_remove_item(e.vakata.array_unique(o),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(o)}},this)).on("clear_search.jstree",e.proxy(function(e,t){this._data.search.som&&t.res.length&&this.show_node(this._data.search.hdn)},this))},this.search=function(i,r,a,n,o,s){if(i===!1||""===e.trim(i.toString()))return this.clear_search();n=this.get_node(n),n=n&&n.id?n.id:null,i=i.toString();var l,d,c=this.settings.search,h=!!c.ajax&&c.ajax,p=this._model.data,u=null,g=[],f=[];if(this._data.search.res.length&&!o&&this.clear_search(),a===t&&(a=c.show_only_matches),s===t&&(s=c.show_only_matches_children),!r&&h!==!1)return e.isFunction(h)?h.call(this,i,e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(i,!0,a,n,o)},!0)},this),n):(h=e.extend({},h),h.data||(h.data={}),h.data.str=i,n&&(h.data.inside=n),e.ajax(h).fail(e.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(h)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(i,!0,a,n,o)},!0)},this)));if(o||(this._data.search.str=i,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=a,this._data.search.smc=s),u=new e.vakata.search(i,(!0),{caseSensitive:c.case_sensitive,fuzzy:c.fuzzy}),e.each(p[n?n:e.jstree.root].children_d,function(e,t){var r=p[t];r.text&&(!c.search_leaves_only||r.state.loaded&&0===r.children.length)&&(c.search_callback&&c.search_callback.call(this,i,r)||!c.search_callback&&u.search(r.text).isMatch)&&(g.push(t),f=f.concat(r.parents))}),g.length){for(f=e.vakata.array_unique(f),l=0,d=f.length;l<d;l++)f[l]!==e.jstree.root&&p[f[l]]&&this.open_node(f[l],null,0)===!0&&this._data.search.opn.push(f[l]);o?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(g,function(t){return"0123456789".indexOf(t[0])!==-1?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(g))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(g,function(t){return"0123456789".indexOf(t[0])!==-1?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=g),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:i,res:this._data.search.res,show_only_matches:a})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,function(t){return"0123456789".indexOf(t[0])!==-1?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(t,i,a,n){if(t=r.redraw_node.apply(this,arguments),t&&e.inArray(t.id,this._data.search.res)!==-1){var o,s,l=null;for(o=0,s=t.childNodes.length;o<s;o++)if(t.childNodes[o]&&t.childNodes[o].className&&t.childNodes[o].className.indexOf("jstree-anchor")!==-1){l=t.childNodes[o];break}l&&(l.className+=" jstree-search")}return t}},function(e){e.vakata.search=function(t,i,r){r=r||{},r=e.extend({},e.vakata.search.defaults,r),r.fuzzy!==!1&&(r.fuzzy=!0),t=r.caseSensitive?t:t.toLowerCase();var a,n,o,s,l=r.location,d=r.distance,c=r.threshold,h=t.length;return h>32&&(r.fuzzy=!1),r.fuzzy&&(a=1<<h-1,n=function(){var e={},i=0;for(i=0;i<h;i++)e[t.charAt(i)]=0;for(i=0;i<h;i++)e[t.charAt(i)]|=1<<h-i-1;return e}(),o=function(e,t){var i=e/h,r=Math.abs(l-t);return d?i+r/d:r?1:i}),s=function(e){if(e=r.caseSensitive?e:e.toLowerCase(),t===e||e.indexOf(t)!==-1)return{isMatch:!0,score:0};if(!r.fuzzy)return{isMatch:!1,score:1};var i,s,d,p,u,g,f,m,v,b=e.length,y=c,w=e.indexOf(t,l),_=h+b,A=1,x=[];for(w!==-1&&(y=Math.min(o(0,w),y),w=e.lastIndexOf(t,l+h),w!==-1&&(y=Math.min(o(0,w),y))),w=-1,i=0;i<h;i++){for(d=0,p=_;d<p;)o(i,l+p)<=y?d=p:_=p,p=Math.floor((_-d)/2+d);for(_=p,g=Math.max(1,l-p+1),f=Math.min(l+p,b)+h,m=new Array(f+2),m[f+1]=(1<<i)-1,s=f;s>=g;s--)if(v=n[e.charAt(s-1)],0===i?m[s]=(m[s+1]<<1|1)&v:m[s]=(m[s+1]<<1|1)&v|((u[s+1]|u[s])<<1|1)|u[s+1],m[s]&a&&(A=o(i,s-1),A<=y)){if(y=A,w=s-1,x.push(w),!(w>l))break;g=Math.max(1,2*l-w)}if(o(i+1,l)>y)break;u=m}return{isMatch:w>=0,score:A}},i===!0?{search:s}:s(i)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(t,i){this.bind=function(){i.bind.call(this),this.element.on("model.jstree",e.proxy(function(e,t){this.sort(t.parent,!0)},this)).on("rename_node.jstree create_node.jstree",e.proxy(function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",e.proxy(function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)},this))},this.sort=function(t,i){var r,a;if(t=this.get_node(t),t&&t.children&&t.children.length&&(t.children.sort(e.proxy(this.settings.sort,this)),i))for(r=0,a=t.children_d.length;r<a;r++)this.sort(t.children_d[r],!1)}};var u=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1},e.jstree.plugins.state=function(t,i){this.bind=function(){i.bind.call(this);var t=e.proxy(function(){this.element.on(this.settings.state.events,e.proxy(function(){u&&clearTimeout(u),u=setTimeout(e.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",e.proxy(function(e,i){this.element.one("restore_state.jstree",t),this.restore_state()||t()},this))},this.save_state=function(){var t={state:this.get_state(),ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(t))},this.restore_state=function(){var t=e.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(i){return!1}return!(t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl)&&(t&&t.state&&(t=t.state),t&&e.isFunction(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),!!t&&(this.element.one("set_state.jstree",function(i,r){r.instance.trigger("restore_state",{state:e.extend(!0,{},t)})}),this.set_state(t),!0))},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(e,t){e.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}}}(e),e.jstree.defaults.types={"default":{}},e.jstree.defaults.types[e.jstree.root]={},e.jstree.plugins.types=function(i,r){this.init=function(i,a){var n,o;if(a&&a.types&&a.types["default"])for(n in a.types)if("default"!==n&&n!==e.jstree.root&&a.types.hasOwnProperty(n))for(o in a.types["default"])a.types["default"].hasOwnProperty(o)&&a.types[n][o]===t&&(a.types[n][o]=a.types["default"][o]);r.init.call(this,i,a),this._model.data[e.jstree.root].type=e.jstree.root},this.refresh=function(t,i){r.refresh.call(this,t,i),this._model.data[e.jstree.root].type=e.jstree.root},this.bind=function(){this.element.on("model.jstree",e.proxy(function(i,r){var a,n,o=this._model.data,s=r.nodes,l=this.settings.types,d="default";for(a=0,n=s.length;a<n;a++)d="default",o[s[a]].original&&o[s[a]].original.type&&l[o[s[a]].original.type]&&(d=o[s[a]].original.type),o[s[a]].data&&o[s[a]].data.jstree&&o[s[a]].data.jstree.type&&l[o[s[a]].data.jstree.type]&&(d=o[s[a]].data.jstree.type),o[s[a]].type=d,o[s[a]].icon===!0&&l[d].icon!==t&&(o[s[a]].icon=l[d].icon);o[e.jstree.root].type=e.jstree.root},this)),r.bind.call(this)},this.get_json=function(t,i,a){var n,o,s=this._model.data,l=i?e.extend(!0,{},i,{no_id:!1}):{},d=r.get_json.call(this,t,l,a);if(d===!1)return!1;if(e.isArray(d))for(n=0,o=d.length;n<o;n++)d[n].type=d[n].id&&s[d[n].id]&&s[d[n].id].type?s[d[n].id].type:"default",i&&i.no_id&&(delete d[n].id,d[n].li_attr&&d[n].li_attr.id&&delete d[n].li_attr.id,d[n].a_attr&&d[n].a_attr.id&&delete d[n].a_attr.id);else d.type=d.id&&s[d.id]&&s[d.id].type?s[d.id].type:"default",i&&i.no_id&&(d=this._delete_ids(d));return d},this._delete_ids=function(t){if(e.isArray(t)){for(var i=0,r=t.length;i<r;i++)t[i]=this._delete_ids(t[i]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&e.isArray(t.children)&&(t.children=this._delete_ids(t.children)),t},this.check=function(i,a,n,o,s){if(r.check.call(this,i,a,n,o,s)===!1)return!1;a=a&&a.id?a:this.get_node(a),n=n&&n.id?n:this.get_node(n);var l,d,c,h,p=a&&a.id?s&&s.origin?s.origin:e.jstree.reference(a.id):null;switch(p=p&&p._model&&p._model.data?p._model.data:null,i){case"create_node":case"move_node":case"copy_node":if("move_node"!==i||e.inArray(a.id,n.children)===-1){if(l=this.get_rules(n),l.max_children!==t&&l.max_children!==-1&&l.max_children===n.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+i,data:JSON.stringify({chk:i,pos:o,obj:!(!a||!a.id)&&a.id,par:!(!n||!n.id)&&n.id})},!1;if(l.valid_children!==t&&l.valid_children!==-1&&e.inArray(a.type||"default",l.valid_children)===-1)return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+i,data:JSON.stringify({chk:i,pos:o,obj:!(!a||!a.id)&&a.id,par:!(!n||!n.id)&&n.id})},!1;if(p&&a.children_d&&a.parents){for(d=0,c=0,h=a.children_d.length;c<h;c++)d=Math.max(d,p[a.children_d[c]].parents.length);d=d-a.parents.length+1}(d<=0||d===t)&&(d=1);do{if(l.max_depth!==t&&l.max_depth!==-1&&l.max_depth<d)return this._data.core.last_error={
error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+i,data:JSON.stringify({chk:i,pos:o,obj:!(!a||!a.id)&&a.id,par:!(!n||!n.id)&&n.id})},!1;n=this.get_node(n.parent),l=this.get_rules(n),d++}while(n)}}return!0},this.get_rules=function(e){if(e=this.get_node(e),!e)return!1;var i=this.get_type(e,!0);return i.max_depth===t&&(i.max_depth=-1),i.max_children===t&&(i.max_children=-1),i.valid_children===t&&(i.valid_children=-1),i},this.get_type=function(t,i){return t=this.get_node(t),!!t&&(i?e.extend({type:t.type},this.settings.types[t.type]):t.type)},this.set_type=function(i,r){var a,n,o,s,l;if(e.isArray(i)){for(i=i.slice(),n=0,o=i.length;n<o;n++)this.set_type(i[n],r);return!0}return a=this.settings.types,i=this.get_node(i),!(!a[r]||!i)&&(s=i.type,l=this.get_icon(i),i.type=r,(l===!0||a[s]&&a[s].icon!==t&&l===a[s].icon)&&this.set_icon(i,a[r].icon===t||a[r].icon),!0)}},e.jstree.defaults.unique={case_sensitive:!1,duplicate:function(e,t){return e+" ("+t+")"}},e.jstree.plugins.unique=function(i,r){this.check=function(t,i,a,n,o){if(r.check.call(this,t,i,a,n,o)===!1)return!1;if(i=i&&i.id?i:this.get_node(i),a=a&&a.id?a:this.get_node(a),!a||!a.children)return!0;var s,l,d="rename_node"===t?n:i.text,c=[],h=this.settings.unique.case_sensitive,p=this._model.data;for(s=0,l=a.children.length;s<l;s++)c.push(h?p[a.children[s]].text:p[a.children[s]].text.toLowerCase());switch(h||(d=d.toLowerCase()),t){case"delete_node":return!0;case"rename_node":return s=e.inArray(d,c)===-1||i.text&&i.text[h?"toString":"toLowerCase"]()===d,s||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:n,obj:!(!i||!i.id)&&i.id,par:!(!a||!a.id)&&a.id})}),s;case"create_node":return s=e.inArray(d,c)===-1,s||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:n,obj:!(!i||!i.id)&&i.id,par:!(!a||!a.id)&&a.id})}),s;case"copy_node":return s=e.inArray(d,c)===-1,s||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:n,obj:!(!i||!i.id)&&i.id,par:!(!a||!a.id)&&a.id})}),s;case"move_node":return s=i.parent===a.id&&(!o||!o.is_multi)||e.inArray(d,c)===-1,s||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:n,obj:!(!i||!i.id)&&i.id,par:!(!a||!a.id)&&a.id})}),s}return!0},this.create_node=function(i,a,n,o,s){if(!a||a.text===t){if(null===i&&(i=e.jstree.root),i=this.get_node(i),!i)return r.create_node.call(this,i,a,n,o,s);if(n=n===t?"last":n,!n.toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(i))return r.create_node.call(this,i,a,n,o,s);a||(a={});var l,d,c,h,p,u=this._model.data,g=this.settings.unique.case_sensitive,f=this.settings.unique.duplicate;for(d=l=this.get_string("New node"),c=[],h=0,p=i.children.length;h<p;h++)c.push(g?u[i.children[h]].text:u[i.children[h]].text.toLowerCase());for(h=1;e.inArray(g?d:d.toLowerCase(),c)!==-1;)d=f.call(this,l,++h).toString();a.text=d}return r.create_node.call(this,i,a,n,o,s)}};var g=c.createElement("DIV");if(g.setAttribute("unselectable","on"),g.setAttribute("role","presentation"),g.className="jstree-wholerow",g.innerHTML="&#160;",e.jstree.plugins.wholerow=function(t,i){this.bind=function(){i.bind.call(this),this.element.on("ready.jstree set_state.jstree",e.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var i,r,a=!1;for(i=0,r=t.selected.length;i<r;i++)a=this.get_node(t.selected[i],!0),a&&a.length&&a.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",e.proxy(function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",e.proxy(function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",e.proxy(function(t){t.preventDefault();var i=e.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i)},this)).on("click.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var i=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",e.proxy(function(t){t.stopImmediatePropagation();var i=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",e.proxy(function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),i.teardown.call(this)},this.redraw_node=function(t,r,a,n){if(t=i.redraw_node.apply(this,arguments)){var o=g.cloneNode(!0);e.inArray(t.id,this._data.core.selected)!==-1&&(o.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===t.id&&(o.className+=" jstree-wholerow-hovered"),t.insertBefore(o,t.childNodes[0])}return t}},c.registerElement&&Object&&Object.create){var f=Object.create(HTMLElement.prototype);f.createdCallback=function(){var t,i={core:{},plugins:[]};for(t in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(i.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(i[t]=JSON.parse(this.getAttribute(t))));for(t in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(i.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));e(this).jstree(i)};try{c.registerElement("vakata-jstree",{prototype:f})}catch(m){}}}}),e.exports=i(65)},function(e,t,i){var r=i(68);"string"==typeof r&&(r=[[e.id,r,""]]);i(4)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,i){t=e.exports=i(3)(),t.push([e.id,".jstree-children,.jstree-container-ul,.jstree-node{display:block;margin:0;padding:0;list-style-type:none;list-style-image:none}.jstree-anchor,.jstree-node{white-space:nowrap}.jstree-anchor{display:inline-block;color:#000;padding:0 4px 0 1px;margin:0;vertical-align:top}.jstree-anchor:focus{outline:0}.jstree-anchor,.jstree-anchor:active,.jstree-anchor:hover,.jstree-anchor:link,.jstree-anchor:visited{text-decoration:none;color:inherit}.jstree-icon,.jstree-icon:empty{display:inline-block;text-decoration:none;margin:0;padding:0;vertical-align:top;text-align:center}.jstree-ocl{cursor:pointer}.jstree-leaf>.jstree-ocl{cursor:default}.jstree .jstree-open>.jstree-children{display:block}.jstree .jstree-closed>.jstree-children,.jstree .jstree-leaf>.jstree-children{display:none}.jstree-anchor>.jstree-themeicon{margin-right:2px}.jstree-anchor>.jstree-themeicon-hidden,.jstree-hidden,.jstree-no-icons .jstree-themeicon{display:none}.jstree-rtl .jstree-anchor{padding:0 1px 0 4px}.jstree-rtl .jstree-anchor>.jstree-themeicon{margin-left:2px;margin-right:0}.jstree-rtl .jstree-node{margin-left:0}.jstree-rtl .jstree-container-ul>.jstree-node{margin-right:0}.jstree-wholerow-ul{position:relative;display:inline-block;min-width:100%}.jstree-wholerow-ul .jstree-leaf>.jstree-ocl{cursor:pointer}.jstree-wholerow-ul .jstree-anchor,.jstree-wholerow-ul .jstree-icon{position:relative}.jstree-wholerow-ul .jstree-wholerow{width:100%;cursor:pointer;position:absolute;left:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.vakata-context{display:none}.vakata-context,.vakata-context ul{margin:0;padding:2px;position:absolute;background:#f5f5f5;border:1px solid #979797;box-shadow:2px 2px 2px #999}.vakata-context ul{list-style:none;left:100%;margin-top:-2.7em;margin-left:-4px}.vakata-context .vakata-context-right ul{left:auto;right:100%;margin-left:auto;margin-right:-4px}.vakata-context li{list-style:none;display:inline}.vakata-context li>a{display:block;padding:0 2em;text-decoration:none;width:auto;color:#000;white-space:nowrap;line-height:2.4em;text-shadow:1px 1px 0 #fff;border-radius:1px}.vakata-context li>a:hover{position:relative;background-color:#e8eff7;box-shadow:0 0 2px #0a6aa1}.vakata-context li>a.vakata-context-parent{background-image:url(\"data:image/gif;base64,R0lGODlhCwAHAIAAACgoKP///yH5BAEAAAEALAAAAAALAAcAAAIORI4JlrqN1oMSnmmZDQUAOw==\");background-position:100%;background-repeat:no-repeat}.vakata-context li>a:focus{outline:0}.vakata-context .vakata-context-hover>a{position:relative;background-color:#e8eff7;box-shadow:0 0 2px #0a6aa1}.vakata-context .vakata-context-separator>a,.vakata-context .vakata-context-separator>a:hover{background:#fff;border:0;border-top:1px solid #e2e3e3;height:1px;min-height:1px;max-height:1px;padding:0;margin:0 0 0 2.4em;border-left:1px solid #e0e0e0;text-shadow:0 0 0 transparent;box-shadow:0 0 0 transparent;border-radius:0}.vakata-context .vakata-contextmenu-disabled a,.vakata-context .vakata-contextmenu-disabled a:hover{color:silver;background-color:transparent;border:0;box-shadow:0 0 0}.vakata-context li>a>i{text-decoration:none;display:inline-block;height:2.4em;background:transparent;margin:0 0 0 -2em;vertical-align:top;text-align:center}.vakata-context li>a>i,.vakata-context li>a>i:empty{width:2.4em;line-height:2.4em}.vakata-context li>a .vakata-contextmenu-sep{display:inline-block;width:1px;height:2.4em;background:#fff;margin:0 .5em 0 0;border-left:1px solid #e2e3e3}.vakata-context .vakata-contextmenu-shortcut{font-size:.8em;color:silver;opacity:.5;display:none}.vakata-context-rtl ul{left:auto;right:100%;margin-left:auto;margin-right:-4px}.vakata-context-rtl li>a.vakata-context-parent{background-image:url(\"data:image/gif;base64,R0lGODlhCwAHAIAAACgoKP///yH5BAEAAAEALAAAAAALAAcAAAINjI+AC7rWHIsPtmoxLAA7\");background-position:0;background-repeat:no-repeat}.vakata-context-rtl .vakata-context-separator>a{margin:0 2.4em 0 0;border-left:0;border-right:1px solid #e2e3e3}.vakata-context-rtl .vakata-context-left ul{right:auto;left:100%;margin-left:-4px;margin-right:auto}.vakata-context-rtl li>a>i{margin:0 -2em 0 0}.vakata-context-rtl li>a .vakata-contextmenu-sep{margin:0 0 0 .5em;border-left-color:#fff;background:#e2e3e3}#jstree-marker{position:absolute;top:0;left:0;margin:-5px 0 0;padding:0;border-right:0;border-top:5px solid transparent;border-bottom:5px solid transparent;border-left:5px solid;width:0;height:0;font-size:0;line-height:0}#jstree-dnd{line-height:16px;margin:0;padding:4px}#jstree-dnd .jstree-copy,#jstree-dnd .jstree-icon{display:inline-block;text-decoration:none;margin:0 2px 0 0;padding:0;width:16px;height:16px}#jstree-dnd .jstree-ok{background:green}#jstree-dnd .jstree-er{background:red}#jstree-dnd .jstree-copy{margin:0 2px}.jstree-default .jstree-icon,.jstree-default .jstree-node{background-repeat:no-repeat;background-color:transparent}.jstree-default .jstree-anchor,.jstree-default .jstree-wholerow{transition:background-color .15s,box-shadow .15s}.jstree-default .jstree-hovered{background:#e7f4f9;border-radius:2px;box-shadow:inset 0 0 1px #ccc}.jstree-default .jstree-clicked{background:#beebff;border-radius:2px;box-shadow:inset 0 0 1px #999}.jstree-default .jstree-no-icons .jstree-anchor>.jstree-themeicon{display:none}.jstree-default .jstree-disabled{color:#666}.jstree-default .jstree-disabled.jstree-hovered{box-shadow:none}.jstree-default .jstree-disabled>.jstree-icon{opacity:.8;filter:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'><filter id='jstree-grayscale'><feColorMatrix type='matrix' values='0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0'/></filter></svg>#jstree-grayscale\");filter:gray;-webkit-filter:grayscale(100%)}.jstree-default .jstree-search{font-style:italic;color:#8b0000;font-weight:700}.jstree-default .jstree-no-checkboxes .jstree-checkbox{display:none!important}.jstree-default.jstree-checkbox-no-clicked .jstree-clicked{background:transparent;box-shadow:none}.jstree-default.jstree-checkbox-no-clicked .jstree-clicked.jstree-hovered{background:#e7f4f9}.jstree-default.jstree-checkbox-no-clicked>.jstree-wholerow-ul .jstree-wholerow-clicked{background:transparent}.jstree-default.jstree-checkbox-no-clicked>.jstree-wholerow-ul .jstree-wholerow-clicked.jstree-wholerow-hovered{background:#e7f4f9}.jstree-default>.jstree-striped{min-width:100%;display:inline-block;background:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAkCAMAAAB/qqA+AAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlMNAMM9s3UAAAAXSURBVHjajcEBAQAAAIKg/H/aCQZ70AUBjAATb6YPDgAAAABJRU5ErkJggg==\") 0 0 repeat}.jstree-default>.jstree-wholerow-ul .jstree-clicked,.jstree-default>.jstree-wholerow-ul .jstree-hovered{background:transparent;box-shadow:none;border-radius:0}.jstree-default .jstree-wholerow{box-sizing:border-box}.jstree-default .jstree-wholerow-hovered{background:#e7f4f9}.jstree-default .jstree-wholerow-clicked{background:#beebff;background:linear-gradient(180deg,#beebff 0,#a8e4ff)}.jstree-default .jstree-node{min-height:24px;line-height:24px;margin-left:24px;min-width:24px}.jstree-default .jstree-anchor{line-height:24px;height:24px}.jstree-default .jstree-icon,.jstree-default .jstree-icon:empty{width:24px;height:24px;line-height:24px}.jstree-default.jstree-rtl .jstree-node{margin-right:24px}.jstree-default .jstree-wholerow{height:24px}.jstree-default .jstree-icon,.jstree-default .jstree-node{background-image:url("+i(69)+")}.jstree-default .jstree-node{background-position:-292px -4px;background-repeat:repeat-y}.jstree-default .jstree-last{background:transparent}.jstree-default .jstree-open>.jstree-ocl{background-position:-132px -4px}.jstree-default .jstree-closed>.jstree-ocl{background-position:-100px -4px}.jstree-default .jstree-leaf>.jstree-ocl{background-position:-68px -4px}.jstree-default .jstree-themeicon{background-position:-260px -4px}.jstree-default>.jstree-no-dots .jstree-leaf>.jstree-ocl,.jstree-default>.jstree-no-dots .jstree-node{background:transparent}.jstree-default>.jstree-no-dots .jstree-open>.jstree-ocl{background-position:-36px -4px}.jstree-default>.jstree-no-dots .jstree-closed>.jstree-ocl{background-position:-4px -4px}.jstree-default .jstree-disabled,.jstree-default .jstree-disabled.jstree-hovered{background:transparent}.jstree-default .jstree-disabled.jstree-clicked{background:#efefef}.jstree-default .jstree-checkbox{background-position:-164px -4px}.jstree-default .jstree-checkbox:hover{background-position:-164px -36px}.jstree-default.jstree-checkbox-selection .jstree-clicked>.jstree-checkbox,.jstree-default .jstree-checked>.jstree-checkbox{background-position:-228px -4px}.jstree-default.jstree-checkbox-selection .jstree-clicked>.jstree-checkbox:hover,.jstree-default .jstree-checked>.jstree-checkbox:hover{background-position:-228px -36px}.jstree-default .jstree-anchor>.jstree-undetermined{background-position:-196px -4px}.jstree-default .jstree-anchor>.jstree-undetermined:hover{background-position:-196px -36px}.jstree-default .jstree-checkbox-disabled{opacity:.8;filter:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'><filter id='jstree-grayscale'><feColorMatrix type='matrix' values='0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0'/></filter></svg>#jstree-grayscale\");filter:gray;-webkit-filter:grayscale(100%)}.jstree-default>.jstree-striped{background-size:auto 48px}.jstree-default.jstree-rtl .jstree-node{background-position:100% 1px;background-repeat:repeat-y}.jstree-default.jstree-rtl .jstree-open>.jstree-ocl{background-position:-132px -36px}.jstree-default.jstree-rtl .jstree-closed>.jstree-ocl{background-position:-100px -36px}.jstree-default.jstree-rtl .jstree-leaf>.jstree-ocl{background-position:-68px -36px}.jstree-default.jstree-rtl>.jstree-no-dots .jstree-leaf>.jstree-ocl,.jstree-default.jstree-rtl>.jstree-no-dots .jstree-node{background:transparent}.jstree-default.jstree-rtl>.jstree-no-dots .jstree-open>.jstree-ocl{background-position:-36px -36px}.jstree-default.jstree-rtl>.jstree-no-dots .jstree-closed>.jstree-ocl{background-position:-4px -36px}.jstree-default .jstree-themeicon-custom{background-color:transparent;background-image:none;background-position:0 0}.jstree-default>.jstree-container-ul .jstree-loading>.jstree-ocl{background:url("+i(70)+") 50% no-repeat}.jstree-default .jstree-file{background:url("+i(69)+") -100px -68px no-repeat}.jstree-default .jstree-folder{background:url("+i(69)+") -260px -4px no-repeat}.jstree-default>.jstree-container-ul>.jstree-node{margin-left:0;margin-right:0}#jstree-dnd.jstree-default{line-height:24px;padding:0 4px}#jstree-dnd.jstree-default .jstree-er,#jstree-dnd.jstree-default .jstree-ok{background-image:url("+i(69)+');background-repeat:no-repeat;background-color:transparent}#jstree-dnd.jstree-default i{background:transparent;width:24px;height:24px;line-height:24px}#jstree-dnd.jstree-default .jstree-ok{background-position:-4px -68px}#jstree-dnd.jstree-default .jstree-er{background-position:-36px -68px}.jstree-default.jstree-rtl .jstree-node{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==")}.jstree-default.jstree-rtl .jstree-last{background:transparent}.jstree-default-small .jstree-node{min-height:18px;line-height:18px;margin-left:18px;min-width:18px}.jstree-default-small .jstree-anchor{line-height:18px;height:18px}.jstree-default-small .jstree-icon,.jstree-default-small .jstree-icon:empty{width:18px;height:18px;line-height:18px}.jstree-default-small.jstree-rtl .jstree-node{margin-right:18px}.jstree-default-small .jstree-wholerow{height:18px}.jstree-default-small .jstree-icon,.jstree-default-small .jstree-node{background-image:url('+i(69)+")}.jstree-default-small .jstree-node{background-position:-295px -7px;background-repeat:repeat-y}.jstree-default-small .jstree-last{background:transparent}.jstree-default-small .jstree-open>.jstree-ocl{background-position:-135px -7px}.jstree-default-small .jstree-closed>.jstree-ocl{background-position:-103px -7px}.jstree-default-small .jstree-leaf>.jstree-ocl{background-position:-71px -7px}.jstree-default-small .jstree-themeicon{background-position:-263px -7px}.jstree-default-small>.jstree-no-dots .jstree-leaf>.jstree-ocl,.jstree-default-small>.jstree-no-dots .jstree-node{background:transparent}.jstree-default-small>.jstree-no-dots .jstree-open>.jstree-ocl{background-position:-39px -7px}.jstree-default-small>.jstree-no-dots .jstree-closed>.jstree-ocl{background-position:-7px -7px}.jstree-default-small .jstree-disabled,.jstree-default-small .jstree-disabled.jstree-hovered{background:transparent}.jstree-default-small .jstree-disabled.jstree-clicked{background:#efefef}.jstree-default-small .jstree-checkbox{background-position:-167px -7px}.jstree-default-small .jstree-checkbox:hover{background-position:-167px -39px}.jstree-default-small.jstree-checkbox-selection .jstree-clicked>.jstree-checkbox,.jstree-default-small .jstree-checked>.jstree-checkbox{background-position:-231px -7px}.jstree-default-small.jstree-checkbox-selection .jstree-clicked>.jstree-checkbox:hover,.jstree-default-small .jstree-checked>.jstree-checkbox:hover{background-position:-231px -39px}.jstree-default-small .jstree-anchor>.jstree-undetermined{background-position:-199px -7px}.jstree-default-small .jstree-anchor>.jstree-undetermined:hover{background-position:-199px -39px}.jstree-default-small .jstree-checkbox-disabled{opacity:.8;filter:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'><filter id='jstree-grayscale'><feColorMatrix type='matrix' values='0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0'/></filter></svg>#jstree-grayscale\");filter:gray;-webkit-filter:grayscale(100%)}.jstree-default-small>.jstree-striped{background-size:auto 36px}.jstree-default-small.jstree-rtl .jstree-node{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==\");background-position:100% 1px;background-repeat:repeat-y}.jstree-default-small.jstree-rtl .jstree-open>.jstree-ocl{background-position:-135px -39px}.jstree-default-small.jstree-rtl .jstree-closed>.jstree-ocl{background-position:-103px -39px}.jstree-default-small.jstree-rtl .jstree-leaf>.jstree-ocl{background-position:-71px -39px}.jstree-default-small.jstree-rtl>.jstree-no-dots .jstree-leaf>.jstree-ocl,.jstree-default-small.jstree-rtl>.jstree-no-dots .jstree-node{background:transparent}.jstree-default-small.jstree-rtl>.jstree-no-dots .jstree-open>.jstree-ocl{background-position:-39px -39px}.jstree-default-small.jstree-rtl>.jstree-no-dots .jstree-closed>.jstree-ocl{background-position:-7px -39px}.jstree-default-small .jstree-themeicon-custom{background-color:transparent;background-image:none;background-position:0 0}.jstree-default-small>.jstree-container-ul .jstree-loading>.jstree-ocl{background:url("+i(70)+") 50% no-repeat}.jstree-default-small .jstree-file{background:url("+i(69)+") -103px -71px no-repeat}.jstree-default-small .jstree-folder{background:url("+i(69)+") -263px -7px no-repeat}.jstree-default-small>.jstree-container-ul>.jstree-node{margin-left:0;margin-right:0}#jstree-dnd.jstree-default-small{line-height:18px;padding:0 4px}#jstree-dnd.jstree-default-small .jstree-er,#jstree-dnd.jstree-default-small .jstree-ok{background-image:url("+i(69)+');background-repeat:no-repeat;background-color:transparent}#jstree-dnd.jstree-default-small i{background:transparent;width:18px;height:18px;line-height:18px}#jstree-dnd.jstree-default-small .jstree-ok{background-position:-7px -71px}#jstree-dnd.jstree-default-small .jstree-er{background-position:-39px -71px}.jstree-default-small.jstree-rtl .jstree-node{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAACAQMAAABv1h6PAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMHBgAAiABBI4gz9AAAAABJRU5ErkJggg==")}.jstree-default-small.jstree-rtl .jstree-last{background:transparent}.jstree-default-large .jstree-node{min-height:32px;line-height:32px;margin-left:32px;min-width:32px}.jstree-default-large .jstree-anchor{line-height:32px;height:32px}.jstree-default-large .jstree-icon,.jstree-default-large .jstree-icon:empty{width:32px;height:32px;line-height:32px}.jstree-default-large.jstree-rtl .jstree-node{margin-right:32px}.jstree-default-large .jstree-wholerow{height:32px}.jstree-default-large .jstree-icon,.jstree-default-large .jstree-node{background-image:url('+i(69)+")}.jstree-default-large .jstree-node{background-position:-288px 0;background-repeat:repeat-y}.jstree-default-large .jstree-last{background:transparent}.jstree-default-large .jstree-open>.jstree-ocl{background-position:-128px 0}.jstree-default-large .jstree-closed>.jstree-ocl{background-position:-96px 0}.jstree-default-large .jstree-leaf>.jstree-ocl{background-position:-64px 0}.jstree-default-large .jstree-themeicon{background-position:-256px 0}.jstree-default-large>.jstree-no-dots .jstree-leaf>.jstree-ocl,.jstree-default-large>.jstree-no-dots .jstree-node{background:transparent}.jstree-default-large>.jstree-no-dots .jstree-open>.jstree-ocl{background-position:-32px 0}.jstree-default-large>.jstree-no-dots .jstree-closed>.jstree-ocl{background-position:0 0}.jstree-default-large .jstree-disabled,.jstree-default-large .jstree-disabled.jstree-hovered{background:transparent}.jstree-default-large .jstree-disabled.jstree-clicked{background:#efefef}.jstree-default-large .jstree-checkbox{background-position:-160px 0}.jstree-default-large .jstree-checkbox:hover{background-position:-160px -32px}.jstree-default-large.jstree-checkbox-selection .jstree-clicked>.jstree-checkbox,.jstree-default-large .jstree-checked>.jstree-checkbox{background-position:-224px 0}.jstree-default-large.jstree-checkbox-selection .jstree-clicked>.jstree-checkbox:hover,.jstree-default-large .jstree-checked>.jstree-checkbox:hover{background-position:-224px -32px}.jstree-default-large .jstree-anchor>.jstree-undetermined{background-position:-192px 0}.jstree-default-large .jstree-anchor>.jstree-undetermined:hover{background-position:-192px -32px}.jstree-default-large .jstree-checkbox-disabled{opacity:.8;filter:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'><filter id='jstree-grayscale'><feColorMatrix type='matrix' values='0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0'/></filter></svg>#jstree-grayscale\");filter:gray;-webkit-filter:grayscale(100%)}.jstree-default-large>.jstree-striped{background-size:auto 64px}.jstree-default-large.jstree-rtl .jstree-node{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==\");background-position:100% 1px;background-repeat:repeat-y}.jstree-default-large.jstree-rtl .jstree-open>.jstree-ocl{background-position:-128px -32px}.jstree-default-large.jstree-rtl .jstree-closed>.jstree-ocl{background-position:-96px -32px}.jstree-default-large.jstree-rtl .jstree-leaf>.jstree-ocl{background-position:-64px -32px}.jstree-default-large.jstree-rtl>.jstree-no-dots .jstree-leaf>.jstree-ocl,.jstree-default-large.jstree-rtl>.jstree-no-dots .jstree-node{background:transparent}.jstree-default-large.jstree-rtl>.jstree-no-dots .jstree-open>.jstree-ocl{background-position:-32px -32px}.jstree-default-large.jstree-rtl>.jstree-no-dots .jstree-closed>.jstree-ocl{background-position:0 -32px}.jstree-default-large .jstree-themeicon-custom{background-color:transparent;background-image:none;background-position:0 0}.jstree-default-large>.jstree-container-ul .jstree-loading>.jstree-ocl{background:url("+i(70)+") 50% no-repeat}.jstree-default-large .jstree-file{background:url("+i(69)+") -96px -64px no-repeat}.jstree-default-large .jstree-folder{background:url("+i(69)+") -256px 0 no-repeat}.jstree-default-large>.jstree-container-ul>.jstree-node{margin-left:0;margin-right:0}#jstree-dnd.jstree-default-large{line-height:32px;padding:0 4px}#jstree-dnd.jstree-default-large .jstree-er,#jstree-dnd.jstree-default-large .jstree-ok{background-image:url("+i(69)+');background-repeat:no-repeat;background-color:transparent}#jstree-dnd.jstree-default-large i{background:transparent;width:32px;height:32px;line-height:32px}#jstree-dnd.jstree-default-large .jstree-ok{background-position:0 -64px}#jstree-dnd.jstree-default-large .jstree-er{background-position:-32px -64px}.jstree-default-large.jstree-rtl .jstree-node{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAACAQMAAAAD0EyKAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjgIIGBgABCgCBvVLXcAAAAABJRU5ErkJggg==")}.jstree-default-large.jstree-rtl .jstree-last{background:transparent}@media (max-width:768px){#jstree-dnd.jstree-dnd-responsive{line-height:40px;font-weight:700;font-size:1.1em;text-shadow:1px 1px #fff}#jstree-dnd.jstree-dnd-responsive>i{background:transparent;width:40px;height:40px}#jstree-dnd.jstree-dnd-responsive>.jstree-ok{background-image:url('+i(71)+");background-position:0 -200px;background-size:120px 240px}#jstree-dnd.jstree-dnd-responsive>.jstree-er{background-image:url("+i(71)+");background-position:-40px -200px;background-size:120px 240px}#jstree-marker.jstree-dnd-responsive{border-left-width:10px;border-top-width:10px;border-bottom-width:10px;margin-top:-10px}}@media (max-width:768px){.jstree-default-responsive .jstree-icon{background-image:url("+i(71)+")}.jstree-default-responsive .jstree-leaf>.jstree-ocl,.jstree-default-responsive .jstree-node{background:transparent}.jstree-default-responsive .jstree-node{min-height:40px;line-height:40px;margin-left:40px;min-width:40px;white-space:nowrap}.jstree-default-responsive .jstree-anchor{line-height:40px;height:40px}.jstree-default-responsive .jstree-icon,.jstree-default-responsive .jstree-icon:empty{width:40px;height:40px;line-height:40px}.jstree-default-responsive.jstree-rtl .jstree-node{margin-left:0;margin-right:40px}.jstree-default-responsive.jstree-rtl .jstree-container-ul>.jstree-node{margin-right:0}.jstree-default-responsive .jstree-checkbox,.jstree-default-responsive .jstree-ocl,.jstree-default-responsive .jstree-themeicon{background-size:120px 240px}.jstree-default-responsive .jstree-leaf>.jstree-ocl{background:transparent}.jstree-default-responsive .jstree-open>.jstree-ocl{background-position:0 0!important}.jstree-default-responsive .jstree-closed>.jstree-ocl{background-position:0 -40px!important}.jstree-default-responsive.jstree-rtl .jstree-closed>.jstree-ocl{background-position:-40px 0!important}.jstree-default-responsive .jstree-themeicon{background-position:-40px -40px}.jstree-default-responsive .jstree-checkbox,.jstree-default-responsive .jstree-checkbox:hover{background-position:-40px -80px}.jstree-default-responsive.jstree-checkbox-selection .jstree-clicked>.jstree-checkbox,.jstree-default-responsive.jstree-checkbox-selection .jstree-clicked>.jstree-checkbox:hover,.jstree-default-responsive .jstree-checked>.jstree-checkbox,.jstree-default-responsive .jstree-checked>.jstree-checkbox:hover{background-position:0 -80px}.jstree-default-responsive .jstree-anchor>.jstree-undetermined,.jstree-default-responsive .jstree-anchor>.jstree-undetermined:hover{background-position:0 -120px}.jstree-default-responsive .jstree-anchor{font-weight:700;font-size:1.1em;text-shadow:1px 1px #fff}.jstree-default-responsive>.jstree-striped{background:transparent}.jstree-default-responsive .jstree-wholerow{border-top:1px solid hsla(0,0%,100%,.7);border-bottom:1px solid rgba(64,64,64,.2);background:#ebebeb;height:40px}.jstree-default-responsive .jstree-wholerow-hovered{background:#e7f4f9}.jstree-default-responsive .jstree-wholerow-clicked{background:#beebff}.jstree-default-responsive .jstree-children .jstree-last>.jstree-wholerow{box-shadow:inset 0 -6px 3px -5px #666}.jstree-default-responsive .jstree-children .jstree-open>.jstree-wholerow{box-shadow:inset 0 6px 3px -5px #666;border-top:0}.jstree-default-responsive .jstree-children .jstree-open+.jstree-open{box-shadow:none}.jstree-default-responsive .jstree-checkbox,.jstree-default-responsive .jstree-icon,.jstree-default-responsive .jstree-node,.jstree-default-responsive .jstree-node>.jstree-ocl,.jstree-default-responsive .jstree-themeicon{background-image:url("+i(71)+");background-size:120px 240px}.jstree-default-responsive .jstree-node{background-position:-80px 0;background-repeat:repeat-y}.jstree-default-responsive .jstree-last{background:transparent}.jstree-default-responsive .jstree-leaf>.jstree-ocl{background-position:-40px -120px}.jstree-default-responsive .jstree-last>.jstree-ocl{background-position:-40px -160px}.jstree-default-responsive .jstree-themeicon-custom{background-color:transparent;background-image:none;background-position:0 0}.jstree-default-responsive .jstree-file{background:url("+i(71)+") 0 -160px no-repeat;background-size:120px 240px}.jstree-default-responsive .jstree-folder{background:url("+i(71)+") -40px -40px no-repeat;background-size:120px 240px}.jstree-default-responsive>.jstree-container-ul>.jstree-node{margin-left:0;margin-right:0}}",""]);
},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAABgCAMAAABblVsaAAADAFBMVEUAAABaoVUEYBipAAA5OTkEBAQAAACFZUcJAAAECgLirGt+fn6lpaalpaW5GBhbolUGYhmqAACop6n5+fnBAgKmAQEAWxrfn2UCXhkIDQZ1d3wWhwSlAAAPcRu+EhL3qamnBQWlpaVYuC6xEBD//f+yCQl2d3wvkCQVhQbJLS3BISEqhyxVrz10x00fjwarBQUAWRMrmgyoAgLng4OtCAjvk5MPfAelBwf18/VhuUHLDAz1k5NmukkHYRaKz2t0wVmb23pesUqP1W+P0nDsZ2fUSUm1FxfnWVnqY2O0BASNAADq2p2+GxuwVzj8+PIdHRukpKThq2n////s7O0mJib+/P3enWP67uFVV1uop6kkmwD459b99tVcY3D29fb9+O3x8vHf3+Dp6Oj78ungyI337caYmZihjFU1rwACNrDx8vHT09Tw0rfz3Lv03cbp157Js3u3oWfOwJLdzKdGbUOAgonw8O82rgb35dSluaX67uDq6+ua5mfO48Ph4uJ0dnstowAyqwD78uhdxCovpgB910i38YzP9q9arkL8+/vSAADoAADr7O3S58Y5sAbn5+f249DjAADtAQGpy6JAtwU1lxuC2E2z74hPvxbV1NX99+uvr+NKvQ/36tmy6JHFwJ0ilgR41ELl5eXy9PLd3t7U1dbKAQHC1Meg3oCR1nBozDFerUYnngBgxywjihLV09X/mJjZBQX24MrxAAD+Zmb9+Oz7i4sqiR1uwku4zL2c427W+Lrs7+x7x1r58+Sv3JmOy213vlpxu1d/f7iwxbXW1tn/tLTdAAD9d3f4Jibx1rrwPT3rEBBRxBRlxDeH0mGI02KJ1WCo34qs8HhvzjjJz7iwza337d62FBRiuUP2MTHezKn/q6uDloeguqRRozrM1b6Lz2yi2IeGvm4/ohyrmVWV416c1Xui6W+/0bU7jjS98ZUxjSm5vJaXsZ8slBFSvh7/3t7/ycn/fHzdzqmww7bL2cO3nFnodXV1mHacnFB4kX+kvKuq7HuwuY6orohs99ZiAAAA7XRSTlMA/S4cWkEmAQkW/YD+/1v+NSL+/v5cR/k5F/3prEVM9qH9+27//fzZ2ayEYN3t2LQZ6avdnPrZg/ro8/rVIunV66/o0PLQV/v50hJqkwX9/////////v////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////m1ZoxUAAAH80lEQVR42u2ceVjTZhzHCwXaeiAoc865TSbqDq8d7r7v4w9bwmjLUZ6uUFlKW8BRIqgoOEZBiYgKniBT0LlNcYrXnAdem+50uts5dzvdfd/vm7RMHn5JWUInxvcDNDzPm7xpPnyTvG/4gUrVtYwLcvvppru/PwJJIIEkkCSQJJAkkKDEBGq4z4BoJL/5CRy5ubnZDyowgXZ9716xsb166WN76/V2qB0Ti9YRa/dhB/2l+UhJyVFgAvVWDwftoWlWD7TTFo/nOYTHY6HBdq+PpmOH9bBAozGNT2B2jvISqC+kKQrJs1gsXgsoaPK2yTNnzpyMgAVSGNpSvWLLkl9BgSkpxglcACVHUN+JdRJkJEzfiQQK9K+JbZjBsjOwQhpMWF/qs5rSxxFfPr5thhnY96aPDrNIYPXKJSteX3kBsItcJG4Cpy8jQ2IC9ebA/hLkpEhG/7EN7JQpbCEXIlBg4fZJn9eUlpbW1GwvBPbz/taDW49QVPWHm1975dVVoaDAjJTcNKxPWGCgA6QCZTDBJCuBMvqPbbBarVMaHkYKaQ8ocMe8TychNs/bUdi3Q3PUxUvfmLfxSPXGJ0tKXv7gfRUsMAOnMENGAr2UPcDxmWQlUEb/WOAyZBCFkIYSaC7c+Rhm6ZPfrAIEDvi4dtGcl8reXpSZmTm3Cfw5ZiNx2XwAM8ZLPUAvmyd+fAET2P4D6l+4ne8fbkcCl+9GBqewLOWBBdaWPF1SUjunchV0Cv8+F6mbUzlt2rS5TTQsMMPJCXQixgclgQkcwUugaP961upw7F6GFLIUnMCy/PzKysr8/Pwy8Cay6+vp06dPnTp1QxO4PfLnznJmY39ut3t8sK6BMociMvrXsw6HY/5qFEIrCwqk+iQlJT2FvpLKKEgg/dUzuHXDJnB7rSonA4lzZ6e43enp6VITaFYFV6CM/jmB2CG6l8ACQ5J8hMACHV89U1+/4Ud4e50ux4nEuXPEBXbBOFCWQJVcgauXr57vsMID5YkhIX3QR0jILnCgbXE4/jhxfBPyxwLtuvAcd3ZubnpOSnq69AR265kIZeFBkzFQEMtPNfBAEZzqWVm2YVMTi7ECpzAWiAgg8AzGrjdj+uIXgYcFZh+SHiZoI8ZzKDaB/xe8RuLhND1tIhBIAgkkgQQCSSD5EQWpnSSQQBJIIAkkCSSQBBJIAjug4SAJBElsB9BuMBh6cKBvBNrbSBTeT5E5LzUvz6S8BCa6bG0wgACDbX3B84jiBcVpNgPU7q8PPHqs2iD8BuypeQ6TKVWBCSwwImy4gtSbBgks5usDcYFgMSjQyHeA6wN/g/aQymEyIYFoKf2div3yNqELEijev3ACGWMyk1zAOVwPCSzw1wdu2VYACfzio5MMMihcH5gaj/FSeQtN8UIR7EQCzaIHmCA7SRL71yQyyQzjMwgKfNNXH1hasx0S+MnWg1vrjMY64frA1PhHMPFiAjuRP9HylYSA1W3jgtS/5txZzFokMLmgwGgrBgT2WOyrD/xz3k5AIF8fWFfH1wf+rJIoMGAC7ZRX/ABN8jIouX8s0OWahRUajQICl/L1gbVlxo4C29UH/mRQBSmBeaw30AF2OELxksD27VD/p7YLFyBqzl3retHpWjsLGwQEanos3vnN04jaykxIoOqTf+sDj6YZTlsC5VYISu4fJdCV5TNYACbwzVX5HJmwQMNhX33g3ENGW9AS2H1LBJFAZ1ZWltPpcjFMMXgT6eMvb4MF2v7i6wMPMYyQQJ6iIN6FuwCJ/aO7cBYHNmgDhzFtAkNggVl/4/rAOrw9PJDmB4KpRQsT0EtwxoFdkkGJA2km6913f+AcukCBtolccSCuD4SucYY0p/PkieN1aCzEwNdAlRWD/C1sNdkpBc5E0hasX4BAkzFwJsIY/dgYSCA69ZkvDmF/jEtkKmdqbS1qbTWZVUoj8ZSnAYkSHhZ09mHCLnwSm1Lt5HkgoTtCEkggCSSQBBIIJIEEkkACgSSQQBJIIJAEnjU8wC+0JIHSGHJVJF5EXnWhwApahMj2up4cYYq3HHXn5aC/X94biwxGXvTtRbBBrS4iQidiMIz7rauF7anwBIbetmUJYHBI+YH9LWMjI2/cs+c72KA2gqLCI7TiAr2UI76nMoN3we03c/m7A66fu7q8quLAupaWljVr3ttzGXiKhlMTxQzyCaQdtLenEhM4YOTBW8eg/N2C6+dGdKif06gHlVdUPLt/377vW9ZcqhYQ+KiYQV6gl3Y4HOEKvPDh+rmbxoSOxPVzw4H6Q436yvKK2c++sG7dvkvVGiGB2KDQdZAXGOelKTpMeQkccAWunxtxPa6fGxUFrqK+v4ozeLda4C6LBSKDEaICcQi9SrwT97/CXz83KhRe45wb9nIG74qUKPAhv8E4BSYQGTyfr5+7JErAX0x5MzY4+537IlWSTmFOYFwcelHmWLD/+bh+7hKh/A1tbCxvbt5bUTH7nXvvkXQT8cY95PWizzNY4LgABuvrrxHIn+rat2IayxtHjy6vqjqwX8owRhPWz/+nLvFKnY30PzE8VOjw1YPfiom5Mjp6UGNV89VqSQPp6yz+/2Cn0ASqNAOihNvUg4cOQuLUg2IGw8OYgFM5zxMY/J+0lT8fhgxGnxOtaVtIeJgQ1q8fSl+/M/oUlvvHpKcs/jvhRQMHDhs2sAgRriL8d7Q6ne48BFpoz8oEEggkgQSSQAKBJLAb8Q85csYKBm7vjAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/gif;base64,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"},function(e,t){e.exports="data:image/png;base64,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"},function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},a=i(28),n=i(25),o=i(50),s=i(43),l=i(73);t.LinkTypesToolboxModel=l["default"];var d=i(45),c=function(e){function t(t){var i=e.call(this,t)||this;return i.onPressFilter=function(){i.props.onPressFilter&&i.props.onPressFilter(i.props.link)},i.changeState=function(e){"invisible"===e?i.props.link.setVisibility({visible:!1,showLabel:!1}):"withoutLabels"===e?i.props.link.setVisibility({visible:!0,showLabel:!1}):"allVisible"===e&&i.props.link.setVisibility({visible:!0,showLabel:!0})},i.isChecked=function(e){var t;return t=i.props.link.get("visible")?i.props.link.get("showLabel")?"allVisible":"withoutLabels":"invisible",e===t},i.getText=function(){var e=i.props.link.get("label"),t=d.chooseLocalizedText(e.values,i.props.language).text.toLowerCase();if(i.props.filterKey){var r=i.props.filterKey.toLowerCase(),a=t.toLowerCase().indexOf(r),o=a+r.length,s="",l="",c="";return 0===a?l=t.substring(0,o):(s=t.substring(0,a),l=t.substring(a,o)),o<=t.length&&(c=t.substring(o,t.length)),n.createElement("span",null,s,n.createElement("span",{style:{color:"darkred",fontWeight:"bold"}},l),c)}return n.createElement("span",null,t)},i}return r(t,e),t.prototype.render=function(){var e=this,t=this.props.link.get("isNew")?n.createElement("span",{className:"label label-warning"},"new"):"",i=this.props.count>0?n.createElement("span",{className:"badge"},this.props.count):"",r=t||i?n.createElement("div",null,t,i):"";return n.createElement("li",{"data-linkTypeId":this.props.link.id,className:"list-group-item linkInToolBox clearfix"},n.createElement("span",{className:"btn-group btn-group-xs","data-toggle":"buttons"},n.createElement("label",{className:"btn btn-default"+(this.isChecked("invisible")?" active":""),id:"invisible",title:"Hide links and labels",onClick:function(){return e.changeState("invisible")}},n.createElement("span",{className:"fa fa-times","aria-hidden":"true"})),n.createElement("label",{className:"btn btn-default"+(this.isChecked("withoutLabels")?" active":""),id:"withoutLabels",title:"Show links without labels",onClick:function(){return e.changeState("withoutLabels")}},n.createElement("span",{className:"fa fa-arrows-h","aria-hidden":"true"})),n.createElement("label",{className:"btn btn-default"+(this.isChecked("allVisible")?" active":""),id:"allVisible",title:"Show links with labels",onClick:function(){return e.changeState("allVisible")}},n.createElement("span",{className:"fa fa-text-width","aria-hidden":"true"}))),n.createElement("div",{className:"link-title"},this.getText()),r,n.createElement("a",{className:"filter-button",onClick:this.onPressFilter},n.createElement("img",null)))},t}(n.Component);t.LinkInToolBox=c;var h=function(e){function t(t){var i=e.call(this,t)||this;return i.compareLinks=function(e,t){var r=e.get("label"),a=t.get("label"),n=r?d.chooseLocalizedText(r.values,i.props.language).text.toLowerCase():null,o=a?d.chooseLocalizedText(a.values,i.props.language).text.toLowerCase():null;return n<o?-1:n>o?1:0},i.onChangeInput=function(e){i.setState({filterKey:e.currentTarget.value})},i.onDropFilter=function(){i.setState({filterKey:""})},i.changeState=function(e,t){if("invisible"===e)for(var i=0,r=t;i<r.length;i++){var a=r[i];a.setVisibility({visible:!1,showLabel:!1})}else if("withoutLabels"===e)for(var n=0,o=t;n<o.length;n++){var a=o[n];a.setVisibility({visible:!0,showLabel:!1})}else if("allVisible"===e)for(var s=0,l=t;s<l.length;s++){var a=l[s];a.setVisibility({visible:!0,showLabel:!0})}},i.getLinks=function(){return(i.props.links||[]).filter(function(e){var t=e.get("label"),r=t?d.chooseLocalizedText(t.values,i.props.language).text.toLowerCase():null;return!i.state.filterKey||r&&r.indexOf(i.state.filterKey.toLowerCase())!==-1}).sort(i.compareLinks)},i.getViews=function(e){for(var t=i.props.countMap||{},r=[],a=0,o=e;a<o.length;a++){var s=o[a];r.push(n.createElement(c,{key:s.id,link:s,onPressFilter:i.props.filterCallback,language:i.props.language,count:t[s.id]||0,filterKey:i.state.filterKey}))}return r},i.state={filterKey:""},i}return r(t,e),t.prototype.render=function(){var e=this,t="link-types-toolbox",i=this.props.dataState||null,r=this.getLinks(),a=this.getViews(r),o=null;if(this.props.label){var s=d.chooseLocalizedText(this.props.label.values,this.props.language).text.toLowerCase();o=n.createElement("h4",{className:"links-heading",style:{display:"block"}},"Connected to"," ",n.createElement("span",null,s))}var l=null;return this.state.filterKey&&(l=n.createElement("button",{type:"button",className:t+"__clearSearch",onClick:this.onDropFilter},n.createElement("span",{className:"fa fa-times","aria-hidden":"true"}))),n.createElement("div",{className:t+" stateBasedProgress","data-state":i},n.createElement("div",{className:t+"__heading"},n.createElement("div",{className:t+"__searching-box"},n.createElement("input",{className:"search-input form-control",type:"text",value:this.state.filterKey,onChange:this.onChangeInput,placeholder:"Search for..."}),l),n.createElement("div",{className:t+"__switch-all"},n.createElement("div",{className:"btn-group btn-group-xs"},n.createElement("label",{className:"btn btn-default",title:"Hide links and labels",onClick:function(){return e.changeState("invisible",r)}},n.createElement("span",{className:"fa fa-times","aria-hidden":"true"})),n.createElement("label",{className:"btn btn-default",title:"Show links without labels",onClick:function(){return e.changeState("withoutLabels",r)}},n.createElement("span",{className:"fa fa-arrows-h","aria-hidden":"true"})),n.createElement("label",{className:"btn btn-default",title:"Show links with labels",onClick:function(){return e.changeState("allVisible",r)}},n.createElement("span",{className:"fa fa-text-width","aria-hidden":"true"}))),n.createElement("span",null," Switch all"))),n.createElement("div",{className:"progress"},n.createElement("div",{className:"progress-bar progress-bar-striped active",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"100",style:{width:"100%"}})),n.createElement("div",{className:t+"__rest"},o,n.createElement("div",{className:"link-lists"},n.createElement("ul",{className:"list-group connected-links"},a))))},t}(n.Component);t.LinkTypesToolbox=h;var p=function(e){function t(t){var i=e.call(this,a.extend({tagName:"div"},t))||this;return i.props=t,i.linksOfElement=[],i.view=t.view,i.listenTo(i.view,"change:language",i.render),i.listenTo(i.view.model,"state:dataLoaded",i.render),i.listenTo(i.view,"change:language",i.updateLinks),i.listenTo(i.view.selection,"add remove reset",a.debounce(function(){var e=1===i.view.selection.length?i.view.selection.first():null;e!==i.model.get("selectedElement")&&i.model.set("selectedElement",e),i.updateLinks()},50)),i.listenTo(i.model,"state:beginQuery",function(){i.setDataState("querying")}),i.listenTo(i.model,"state:queryError",function(){return i.setDataState("error")}),i.listenTo(i.model,"state:endQuery",function(){i.setDataState(i.model.connectionsOfSelectedElement?"finished":null),i.updateLinks()}),i.filterCallback=function(e){var t=i.model.get("selectedElement");t.addToFilter(e)},i}return r(t,e),t.prototype.setDataState=function(e){this.dataState=e,this.render()},t.prototype.updateLinks=function(){var e=this;if(this.unsubscribeOnLinksEevents(),this.model.connectionsOfSelectedElement){this.countMap=this.model.connectionsOfSelectedElement;var t=a.keys(this.model.connectionsOfSelectedElement);this.linksOfElement=t.map(function(t){return e.view.model.createLinkType(t)}),this.subscribeOnLinksEevents(this.linksOfElement)}else this.linksOfElement=null,this.countMap={};this.render()},t.prototype.subscribeOnLinksEevents=function(e){for(var t=0,i=e;t<i.length;t++){var r=i[t];this.listenTo(r,"change:label",this.render),this.listenTo(r,"change:visible",this.render),this.listenTo(r,"change:showLabel",this.render)}},t.prototype.unsubscribeOnLinksEevents=function(){if(this.linksOfElement)for(var e=0,t=this.linksOfElement;e<t.length;e++){var i=t[e];this.stopListening(i)}},t.prototype.getReactComponent=function(){var e=this.model.get("selectedElement");return n.createElement(h,{links:this.linksOfElement,countMap:this.countMap,filterCallback:this.filterCallback,dataState:this.dataState,language:this.view.getLanguage(),label:e?e.template.label:null})},t.prototype.render=function(){return o.render(this.getReactComponent(),this.el),this},t.prototype.remove=function(){return this.unsubscribeOnLinksEevents(),this},t}(s.View);t.LinkTypesToolboxShell=p,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=p},function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},a=i(43),n=function(e){function t(t){var i=e.call(this)||this;return i.diagram=t,i.listenTo(i,"change:selectedElement",i.onSelectedElementChanged),i}return r(t,e),t.prototype.onSelectedElementChanged=function(e,t){var i=this;if(this.trigger("state:beginQuery"),t){var r={elementId:t.id};this.currentRequest=r,this.diagram.dataProvider.linkTypesOf(r).then(function(e){if(i.currentRequest===r){i.connectionsOfSelectedElement={};for(var t=0,a=e;t<a.length;t++){var n=a[t];i.connectionsOfSelectedElement[n.id]=n.inCount+n.outCount}i.trigger("state:endQuery")}})["catch"](function(e){i.currentRequest===r&&(console.error(e),i.trigger("state:queryError"))})}else this.currentRequest=null,this.connectionsOfSelectedElement=null,this.trigger("state:endQuery")},t}(a.Model);t.LinkTypesToolboxModel=n,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},a=i(25),n="ontodia-toolbar",o=function(e){function t(t){var i=e.call(this,t)||this;return i.onChangeLanguage=function(e){var t=e.currentTarget.value;i.props.onChangeLanguage(t)},i.onExportSVG=function(){i.props.onExportSVG(i.downloadImageLink)},i.onExportPNG=function(){i.props.onExportPNG(i.downloadImageLink)},i.state={showModal:!1},i}return r(t,e),t.prototype.render=function(){var e=this,t="<h4>Toolbox</h4><p>You can use additional tools for working with your diagram, such as choosing between automatic layouts or fit diagram to screen, etc.</p><p>Don’t forget to save diagrams, it always comes handy after all.</p>",i=a.createElement("button",{type:"button",className:"saveDiagramButton btn btn-primary",onClick:this.props.onSaveDiagram},a.createElement("span",{className:"fa fa-floppy-o","aria-hidden":"true"})," Save diagram"),r=a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.props.onEditAtMainSite},"Edit in ",a.createElement("img",{src:"images/ontodia_headlogo.png",height:"15.59"})),o=a.createElement("button",{type:"button",className:"btn btn-default",title:"Publish or share diagram",onClick:this.props.onShare},a.createElement("span",{className:"fa fa-users","aria-hidden":"true"})," Share"),s=a.createElement("button",{type:"button",className:"btn btn-default",onClick:this.props.onShowTutorial},a.createElement("span",{className:"fa fa-info-circle","aria-hidden":"true"})," Help"),l=!this.props.isEmbeddedMode;return a.createElement("div",{className:n},a.createElement("div",{className:"btn-group btn-group-sm","data-position":"bottom","data-step":"6","data-intro":t},l?this.props.onSaveDiagram?i:void 0:this.props.onEditAtMainSite?r:void 0,this.props.onSaveToSelf?a.createElement("button",{type:"button",className:"btn btn-default"},a.createElement("span",{className:"fa fa-floppy-o","aria-hidden":"true"})," Save under your account"):void 0,this.props.isDiagramSaved&&this.props.onResetDiagram?a.createElement("button",{type:"button",className:"btn btn-default"},a.createElement("span",{className:"fa fa-trash-o","aria-hidden":"true"})," Reset"):void 0,a.createElement("button",{type:"button",className:"btn btn-default",onClick:this.props.onForceLayout},a.createElement("span",{className:"fa fa-sitemap","aria-hidden":"true"})," Layout"),a.createElement("button",{type:"button",className:"btn btn-default",title:"Zoom In",onClick:this.props.onZoomIn},a.createElement("span",{className:"fa fa-search-plus","aria-hidden":"true"})),a.createElement("button",{type:"button",className:"btn btn-default",title:"Zoom Out",onClick:this.props.onZoomOut},a.createElement("span",{className:"fa fa-search-minus","aria-hidden":"true"})),a.createElement("button",{type:"button",className:"btn btn-default",title:"Fit to Screen",onClick:this.props.onZoomToFit},a.createElement("span",{className:"fa fa-arrows-alt","aria-hidden":"true"})),l&&this.props.onUndo?a.createElement("button",{type:"button",className:"btn btn-default "+n+"__undo",title:"Undo",onClick:this.props.onUndo},a.createElement("span",{className:"fa fa-undo","aria-hidden":"true"})):void 0,l&&this.props.onRedo?a.createElement("button",{type:"button",className:"btn btn-default "+n+"__redo",title:"Redo",onClick:this.props.onRedo},a.createElement("span",{className:"fa fa-repeat","aria-hidden":"true"})):void 0,a.createElement("button",{type:"button",className:"btn btn-default",title:"Export diagram as PNG",onClick:this.onExportPNG},a.createElement("span",{className:"fa fa-picture-o","aria-hidden":"true"})," PNG"),a.createElement("button",{type:"button",className:"btn btn-default",title:"Export diagram as SVG",onClick:this.onExportSVG},a.createElement("span",{className:"fa fa-picture-o","aria-hidden":"true"})," SVG"),a.createElement("button",{type:"button",className:"btn btn-default",title:"Print diagram",onClick:this.props.onPrint},a.createElement("span",{className:"fa fa-print","aria-hidden":"true"})),l&&this.props.onShare?o:void 0,a.createElement("span",{className:"btn-group "+n+"__language-selector"},l?a.createElement("label",null,a.createElement("span",null,"Ontology Language:")):void 0,a.createElement("select",{defaultValue:"en",onChange:this.onChangeLanguage},a.createElement("option",{value:"en"},"English"),a.createElement("option",{value:"ru"},"Russian"))),l?s:void 0),a.createElement("a",{href:"#",ref:function(t){e.downloadImageLink=t},style:{display:"none",visibility:"collapse"}}))},t}(a.Component);t.EditorToolbar=o,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o},function(e,t,i){"use strict";function r(){n.introJs().setOption("showStepNumbers",!1).onexit(function(){localStorage.setItem(o,"true")}).oncomplete(function(){localStorage.setItem(o,"true")}).start()}function a(){localStorage.getItem(o)||r()}var n=i(76),o="helpPopupDisable";t.showTutorial=r,t.showTutorialIfNotSeen=a},function(e,t){e.exports=h},function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},a=i(25),n=i(78),o=i(80),s=i(82),l=i(84),d=i(85),c="<p>Navigate through class tree and click a class to select it.</p>\n<p>When the class is selected, its instances are shown in Instances panel</p>\n<p>Double-click the class expands it and displays its subclasses.</p>",h="<p>Instances of the selected class are displayed here.</p>\n<p>You can select one or several instances and drag-and-drop them directly on canvas to\n start your diagram.</p>",p="<h4>Main working area</h4><p><b>Zooming:</b> Ctrl-mousewheel or pinch-zoom on touchpad</p>\n<p><b>Pan:</b> Ctrl-mouse drag or mouse wheel</p><h5>Filtering related instances</h5>\n<p>When you select an element on the diagram the Ontodia shows a funnel icon underneath the\n element. By clicking the funnel icon, you can filter the related elements into the Instances panel.</p>\n<p>Then related elements can be drag-and-dropped into the diagram.</p>\n<p>By repeating it you can navigate from one element to another as far as you like and your way\n will be shown on the diagram.</p>",u="<p>Connections panel lists all the connection present in the data source.</p>\n<p>You can define which connections Ontodia should display and which should stay hidden.</p>\n<p>You can also change the way they are shown on the diagram: it’s either with the name above\n them or without it.</p>",g="<p>Panels can be resized and collapsed.</p>",f=function(e){function t(){var t=e.apply(this,arguments)||this;return t.untilMouseUpClasses=[],t.onDocumentMouseUp=function(){for(var e=0,i=t.untilMouseUpClasses;e<i.length;e++){var r=i[e];t.element.classList.remove(r)}t.untilMouseUpClasses=[]},t}return r(t,e),t.prototype.render=function(){var e=this,t=a.createElement(s.ResizableSidebar,{dockSide:s.DockSide.Left,onStartResize:function(){return e.untilMouseUp({preventTextSelection:!0,horizontalResizing:!0})},tutorialProps:{"data-position":"right","data-step":"7","data-intro-id":"resize","data-intro":g}},a.createElement(l.Accordion,{onStartResize:function(){return e.untilMouseUp({preventTextSelection:!0,verticalResizing:!0})}},a.createElement(d.AccordionItem,{heading:"Classes",bodyRef:function(t){return e.classTreePanel=t},tutorialProps:{"data-position":"right","data-step":"1","data-intro-id":"tree-view","data-intro":c}}),a.createElement(d.AccordionItem,{heading:"Instances",tutorialProps:{"data-position":"top","data-step":"2","data-intro-id":"filter-view","data-intro":h}},a.createElement(o.InstancesSearch,{view:this.props.view,criteria:this.props.searchCriteria||{},onCriteriaChanged:this.props.onSearchCriteriaChanged})))),i=a.createElement(s.ResizableSidebar,{dockSide:s.DockSide.Right,onStartResize:function(){return e.untilMouseUp({preventTextSelection:!0,horizontalResizing:!0})}},a.createElement(l.Accordion,{onStartResize:function(){return e.untilMouseUp({preventTextSelection:!0,verticalResizing:!0})}},a.createElement(d.AccordionItem,{heading:"Connections",bodyClassName:"link-types-toolbox",bodyRef:function(t){return e.linkTypesPanel=t},tutorialProps:{"data-position":"left","data-step":"4","data-intro-id":"link-types-toolbox","data-intro":u}})));return a.createElement("div",{ref:function(t){return e.element=t},className:"ontodia"},a.createElement("div",{className:"ontodia__header"},this.props.toolbar),a.createElement("div",{className:"ontodia__workspace"},this.props.isViewOnly?null:t,a.createElement("div",{className:"ontodia__main-panel","data-position":"left","data-step":"3","data-intro-id":"diagram-area","data-intro":p},a.createElement(n.PaperArea,{ref:function(t){return e.paperArea=t},model:this.props.view.model,paper:this.props.view.paper,zoomOptions:{min:.2,max:2,maxFit:1,fitPadding:20},preventTextSelection:function(){return e.preventTextSelection()},onDragDrop:function(t,i){return e.props.view.onDragDrop(t,i)}})),this.props.isViewOnly?null:i))},t.prototype.componentDidMount=function(){document.addEventListener("mouseup",this.onDocumentMouseUp)},t.prototype.componentWillUnmount=function(){document.removeEventListener("mouseup",this.onDocumentMouseUp)},t.prototype.preventTextSelection=function(){this.untilMouseUp({preventTextSelection:!0})},t.prototype.untilMouseUp=function(e){this.untilMouseUpClasses=[],e.preventTextSelection&&this.untilMouseUpClasses.push("ontodia--unselectable"),e.horizontalResizing&&this.untilMouseUpClasses.push("ontodia--horizontal-resizing"),e.verticalResizing&&this.untilMouseUpClasses.push("ontodia--vertical-resizing");for(var t=0,i=this.untilMouseUpClasses;t<i.length;t++){var r=i[t];this.element.classList.add(r)}},t}(a.Component);t.WorkspaceMarkup=f,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=f},function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},a=this&&this.__assign||Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},n=i(43),o=i(44),s=i(25),l=i(50),d=i(28),c=i(79),h=function(e){function t(){var t=e.apply(this,arguments)||this;return t.listener=new n.Model,t.padding={x:0,y:0},t.isPanning=!1,t.adjustPaper=function(){t.center=t.clientToPaperCoords(t.area.clientWidth/2,t.area.clientHeight/2);var e=t.getScale(),i=t.getContentFittingBox(),r={left:i.x*e,right:(i.x+i.width)*e,top:i.y*e,bottom:(i.y+i.height)*e},a=t.pageSize.x*e,n=t.pageSize.y*e,o={left:Math.floor(r.left/a),right:Math.ceil(r.right/a),top:Math.floor(r.top/n),bottom:Math.ceil(r.bottom/n)},s=t.paper.options.origin,l={x:-o.left*a,y:-o.top*n};l.x===s.x&&l.y===s.y||t.paper.setOrigin(l.x,l.y);var d=t.paper.options.width,c=t.paper.options.height,h=Math.max(o.right-o.left,1)*a,p=Math.max(o.bottom-o.top,1)*n;h===d&&p===c||t.paper.setDimensions(h,p),t.updatePaperMargins()},t.onPaperScale=function(e,i,r,a){t.adjustPaper(),void 0===r&&void 0===a||t.centerTo({x:r,y:a})},t.onPaperResize=function(){t.center&&t.centerTo(t.center)},t.onPaperTranslate=function(e,i){if(t.previousOrigin){var r=t.previousOrigin,a=r.x,n=r.y,o=e-a,s=i-n;t.area.scrollLeft+=o,t.area.scrollTop+=s}t.previousOrigin={x:e,y:i}},t.onAreaPointerDown=function(e){e.target===t.area&&t.shouldStartPanning(e)&&(e.preventDefault(),t.startPanning(e))},t.onPointerMove=function(e){if(t.isPanning){var i=e.pageX-t.panningOrigin.pageX,r=e.pageY-t.panningOrigin.pageY;t.area.scrollLeft=t.panningScrollOrigin.scrollLeft-i,t.area.scrollTop=t.panningScrollOrigin.scrollTop-r}},t.stopPanning=function(){t.isPanning&&(t.isPanning=!1,document.removeEventListener("mousemove",t.onPointerMove),document.removeEventListener("mouseup",t.stopPanning))},t.onWheel=function(e){if(e.ctrlKey){e.preventDefault();var i=Math.max(-1,Math.min(1,e.deltaY)),r=t.area,a=r.offsetLeft,n=r.offsetTop,o=t.clientToPaperCoords(e.pageX-a,e.pageY-n);t.zoomBy(.1*-i,{pivot:o})}},t.onDragOver=function(e){return e.preventDefault&&e.preventDefault(),e.dataTransfer.dropEffect="move",!1},t.onDragDrop=function(e){if(t.props.onDragDrop){var i=t.area,r=i.offsetLeft,a=i.offsetTop,n=t.clientToPaperCoords(e.pageX-r,e.pageY-a);t.props.onDragDrop(e,n)}},t}return r(t,e),t.prototype.render=function(){var e=this;return s.createElement("div",{className:"paper-area",ref:function(t){return e.area=t},onMouseDown:this.onAreaPointerDown,onWheel:this.onWheel})},t.prototype.componentDidMount=function(){var e=this;this.paper=this.props.paper,this.pageSize={x:this.paper.options.width,y:this.paper.options.height},this.paper.svg.style.overflow="visible",this.area.appendChild(this.paper.el),this.updatePaperMargins(),this.centerTo(),this.spinnerElement=document.createElementNS("http://www.w3.org/2000/svg","g"),this.paper.svg.appendChild(this.spinnerElement),this.listener.listenTo(this.paper,"scale",this.onPaperScale),
this.listener.listenTo(this.paper,"resize",this.onPaperResize),this.listener.listenTo(this.paper,"translate",this.onPaperTranslate),this.listener.listenTo(this.paper,"blank:pointerdown",function(t){e.shouldStartPanning(t)&&(t.preventDefault(),e.startPanning(t))}),this.listener.listenTo(this.paper,"render:done",function(){e.adjustPaper(),e.centerTo()}),this.listener.listenTo(this.paper,"cell:pointerdown",function(){e.props.preventTextSelection()}),this.listener.listenTo(this.paper,"cell:pointerup",this.adjustPaper),this.listener.listenTo(this.paper.options.model,"add remove change:position",d.debounce(this.adjustPaper,50)),this.listener.listenTo(this.paper.options.model,"change:size",this.adjustPaper),this.listener.listenTo(this.paper,"ontodia:adjustSize",this.adjustPaper),this.area.addEventListener("dragover",this.onDragOver),this.area.addEventListener("drop",this.onDragDrop);var t=this.props.model;this.listener.listenTo(t,"state:beginLoad",function(){return e.showIndicator()}),this.listener.listenTo(t,"state:endLoad",function(t){return e.renderLoadingIndicator(t)}),this.listener.listenTo(t,"state:loadError",function(t){return e.renderLoadingIndicator(void 0,t)}),this.listener.listenTo(t,"state:renderStart",function(){l.unmountComponentAtNode(e.spinnerElement)}),this.listener.listenTo(t,"state:dataLoaded",function(){e.zoomToFit()})},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentWillUnmount=function(){this.stopPanning(),this.listener.stopListening(),this.area.removeEventListener("dragover",this.onDragOver),this.area.removeEventListener("drop",this.onDragDrop),l.unmountComponentAtNode(this.spinnerElement)},t.prototype.clientToPaperCoords=function(e,t){var i=this.paper.viewport.getCTM(),r=e+this.area.scrollLeft-this.padding.x-i.e;r/=i.a;var a=t+this.area.scrollTop-this.padding.y-i.f;return a/=i.d,{x:r,y:a}},t.prototype.getContentFittingBox=function(){return o.V(this.paper.viewport).bbox(!0,this.paper.svg)},t.prototype.getPaperSize=function(){var e=this.getScale(),t=this.paper.options,i=t.width,r=t.height;return{width:i/e,height:r/e}},t.prototype.updatePaperMargins=function(){var e=this.padding;this.padding={x:Math.ceil(.75*this.area.clientWidth),y:Math.ceil(.75*this.area.clientHeight)};var t=this.padding.x===e.x&&this.padding.y===e.y;if(!t){var i=this.paper.el;i.style.marginLeft=this.padding.x+"px",i.style.marginRight=this.padding.x+"px",i.style.marginTop=this.padding.y+"px",i.style.marginBottom=this.padding.y+"px",e&&(this.area.scrollLeft+=this.padding.x-e.x,this.area.scrollTop+=this.padding.y-e.y)}},t.prototype.shouldStartPanning=function(e){return e.ctrlKey||e.shiftKey||this.props.panningAlwaysActive},t.prototype.startPanning=function(e){this.props.preventTextSelection();var t=e.pageX,i=e.pageY;this.panningOrigin={pageX:t,pageY:i};var r=this.area,a=r.scrollLeft,n=r.scrollTop;this.panningScrollOrigin={scrollLeft:a,scrollTop:n},this.isPanning=!0,document.addEventListener("mousemove",this.onPointerMove),document.addEventListener("mouseup",this.stopPanning)},t.prototype.centerTo=function(e){var t,i,r=this.paper.viewport.getCTM();if(e){var a=r.a;t=e.x*a,i=e.y*a}else{var n=-r.e,o=-r.f,s=n+this.paper.options.width,l=o+this.paper.options.height;t=(n+s)/2,i=(o+l)/2}var d=this.area,c=d.clientWidth,h=d.clientHeight;this.updatePaperMargins(),this.area.scrollLeft=t-c/2+r.e+this.padding.x,this.area.scrollTop=i-h/2+r.f+this.padding.y},t.prototype.centerContent=function(){var e=this.paper.viewport.getBBox(),t=e.x,i=e.y,r=e.width,a=e.height,n={x:t+r/2,y:i+a/2};this.centerTo(n)},t.prototype.getScale=function(){var e=this.paper.viewport.getCTM();return e.a},t.prototype.setScale=function(e,t){void 0===t&&(t={});var i=e,r=this.props.zoomOptions,a=void 0===r?{}:r,n=a.min,o=a.max;void 0!==n&&(i=Math.max(i,n)),void 0!==o&&(i=Math.min(i,o));var s,l=this.clientToPaperCoords(this.area.clientWidth/2,this.area.clientHeight/2);if(t.pivot){var d=t.pivot,c=d.x,h=d.y,p=this.getScale(),u=i/p;s={x:c-(c-l.x)/u,y:h-(h-l.y)/u}}else s=l;this.paper.scale(i,i),this.centerTo(s)},t.prototype.zoomBy=function(e,t){void 0===t&&(t={}),this.setScale(this.getScale()+e,t)},t.prototype.zoomToFit=function(){if(0===this.paper.options.model.get("cells").length)return void this.centerTo();var e=this.paper.options.origin,t=e.x,i=e.y,r={x:t,y:i,width:this.area.clientWidth,height:this.area.clientHeight},a=this.props.zoomOptions,n=void 0===a?{}:a;this.paper.scaleContentToFit({fittingBBox:r,padding:(this.props.zoomOptions||{}).fitPadding,minScale:n.min,maxScale:n.maxFit||n.max}),this.paper.setOrigin(t,i),this.adjustPaper(),this.centerContent()},t.prototype.renderSpinner=function(e){void 0===e&&(e={});var t=this.paper.svg.getBoundingClientRect(),i=e.statusText?t.width/3:t.width/2,r={x:i,y:t.height/2};l.render(s.createElement(c.Spinner,a({position:r},e)),this.spinnerElement)},t.prototype.showIndicator=function(e){var t=this;this.centerTo(),this.renderSpinner(),e&&e.then(function(){l.unmountComponentAtNode(t.spinnerElement)})["catch"](function(e){console.error(e),t.renderSpinner({statusText:"Unknown error occured",errorOccured:!0})})},t.prototype.renderLoadingIndicator=function(e,t){var i=70;t?this.renderSpinner({statusText:t.statusText||t.message,errorOccured:!0}):e>i?this.renderSpinner({statusText:"The diagram contains more than "+i+" elements. Please wait until it is fully loaded."}):this.renderSpinner()},t}(s.Component);t.PaperArea=h},function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},a=i(25),n="ontodia-spinner",o=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.position,i=void 0===t?{x:0,y:0}:t,r=e.size,o=void 0===r?50:r,s=e.statusText,l=e.errorOccured,d=5,c="m3.47,-19.7 a20,20 0 1,1 -6.95,0 m0,0 l-6,5 m6,-5 l-8,-0"+(l?"M-8,-8L8,8M-8,8L8,-8":"");return a.createElement("g",{className:n,"data-error":l,transform:"translate("+i.x+","+i.y+")"},a.createElement("g",{className:n+"__arrow"},a.createElement("path",{d:c,transform:"scale(0.02)scale("+o+")",fill:"none",stroke:l?"red":"black",strokeWidth:"3",strokeLinecap:"round"})),a.createElement("text",{style:{dominantBaseline:"middle"},x:o/2+d},s))},t}(a.Component);t.Spinner=o},function(e,t,i){"use strict";function r(e,t){return{text:e.text,elementTypeId:e.elementTypeId,refElementId:e.refElementId,refElementLinkId:e.refElementLinkId,linkDirection:e.linkDirection,offset:0,limit:100,languageCode:t?t:"en"}}function a(e,t,i){return i?e.getLocalizedText(i.values).text:d.uri2name(t)}var n=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},o=this&&this.__assign||Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},s=i(25),l=i(43),d=i(45),c=i(81),h=i(8),p=i(9),u="ontodia-instances-search",g=function(e){function t(t){var i=e.call(this,t)||this;return i.listener=new l.Model,i.state={selectedItems:{},resultId:0},i}return n(t,e),t.prototype.render=function(){var e=this,t=13,i=u+" stateBasedProgress "+(this.props.className||""),r=this.state.quering?"querying":this.state.error?"error":this.state.items?"finished":void 0,a=void 0===this.state.inputText?this.props.criteria.text:this.state.inputText;return s.createElement("div",{className:i,"data-state":r},s.createElement("div",{className:"progress"},s.createElement("div",{className:"progress-bar progress-bar-striped active",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"100",style:{width:"100%"}})),s.createElement("div",{className:u+"__criteria"},this.renderCriteria(),s.createElement("div",{className:u+"__text-criteria input-group"},s.createElement("input",{type:"text",className:"form-control",placeholder:"Search for...",value:a||"",onChange:function(t){return e.setState({inputText:t.currentTarget.value})},onKeyUp:function(i){i.keyCode===t&&e.submitCriteriaUpdate()}}),s.createElement("span",{className:"input-group-btn"},s.createElement("button",{className:"btn btn-default",type:"button",title:"Search",onClick:function(){return e.submitCriteriaUpdate()}},s.createElement("span",{className:"fa fa-search","aria-hidden":"true"}))))),s.createElement("div",{className:u+"__rest",key:this.state.resultId},this.renderSearchResults(),s.createElement("div",{className:u+"__rest-end"},s.createElement("button",{type:"button",className:u+"__load-more btn btn-primary",disabled:this.state.quering,style:{display:this.state.moreItemsAvailable?void 0:"none"},onClick:function(){return e.queryItems(!0)}},s.createElement("span",{className:"fa fa-chevron-down","aria-hidden":"true"})," Show more"))))},t.prototype.renderCriteria=function(){var e=this,t=this.props,i=t.criteria,r=void 0===i?{}:i,n=t.view,l=[];if(r.elementTypeId){var d=n.model.getClassesById(r.elementTypeId),c=n.getLocalizedText(d.label.values).text;l.push(s.createElement("div",{key:"hasType",className:u+"__criterion"},this.renderRemoveCriterionButtons(function(){return e.props.onCriteriaChanged(o({},e.props.criteria,{elementTypeId:void 0}))}),"Has type ",s.createElement("span",{className:u+"__criterion-class",title:d.id},c)))}else if(r.refElementId){var g=n.model.getElement(r.refElementId),f=g&&g.template,m=a(n,r.refElementId,f&&f.label),v=r.refElementLinkId&&n.model.getLinkType(r.refElementLinkId),b=v&&a(n,v.id,v.label);l.push(s.createElement("div",{key:"hasLinkedElement",className:u+"__criterion"},this.renderRemoveCriterionButtons(function(){return e.props.onCriteriaChanged(o({},e.props.criteria,{refElementId:void 0,refElementLinkId:void 0}))}),"Connected to ",s.createElement("span",{className:u+"__criterion-element",title:g&&g.id},m),r.refElementLinkId&&s.createElement("span",null," through ",s.createElement("span",{className:u+"__criterion-link-type",title:v&&v.id},b),"in"===r.linkDirection&&s.createElement("span",null," as ",s.createElement("img",{src:h})," source"),"out"===r.linkDirection&&s.createElement("span",null," as ",s.createElement("img",{src:p})," target"))))}return s.createElement("div",{className:u+"__criterions"},l)},t.prototype.renderRemoveCriterionButtons=function(e){return s.createElement("div",{className:u+"__criterion-remove btn-group btn-group-xs"},s.createElement("button",{type:"button",className:"btn btn-default",title:"Remove criteria",onClick:e},s.createElement("span",{className:"fa fa-times","aria-hidden":"true"})))},t.prototype.renderSearchResults=function(){var e=this,t=this.state.items||[];return s.createElement("ul",{className:u+"__results"},t.map(function(t,i){return s.createElement(c.ListElementView,{key:i,model:t,view:e.props.view,disabled:Boolean(e.props.view.model.getElement(t.id)),selected:e.state.selectedItems[t.id]||!1,onClick:function(){return e.setState({selectedItems:o({},e.state.selectedItems,(i={},i[t.id]=!e.state.selectedItems[t.id],i))});var i},onDragStart:function(i){var r=Object.keys(o({},e.state.selectedItems,(n={},n[t.id]=!0,n)));try{i.dataTransfer.setData("application/x-ontodia-elements",JSON.stringify(r))}catch(a){i.dataTransfer.setData("text",JSON.stringify(r))}return!1;var n}})}))},t.prototype.submitCriteriaUpdate=function(){var e=void 0===this.state.inputText?this.props.criteria.text:this.state.inputText;e=""===e?void 0:e,this.props.onCriteriaChanged(o({},this.props.criteria,{text:e}))},t.prototype.componentDidMount=function(){var e=this;this.listener.listenTo(this.props.view,"change:language",function(){return e.forceUpdate()}),this.listener.listenTo(this.props.view.model.cells,"add remove reset",function(){for(var t=o({},e.state.selectedItems),i=0,r=Object.keys(t);i<r.length;i++){var a=r[i];t[a]&&e.props.view.model.getElement(a)&&delete t[a]}e.setState({selectedItems:t})}),this.queryItems(!1)},t.prototype.componentWillReceiveProps=function(e){var t=this,i=!!this.currentRequest&&this.currentRequest.languageCode!==e.view.getLanguage();(this.props.criteria!==e.criteria||i)&&this.setState({inputText:void 0},function(){return t.queryItems(!1)})},t.prototype.componentWillUnmount=function(){this.listener.stopListening(),this.currentRequest=void 0},t.prototype.queryItems=function(e){var t,i=this;if(e){if(!this.currentRequest)throw new Error("Cannot request more items without initial request.");var a=this.currentRequest,n=a.offset,s=a.limit;t=o({},this.currentRequest,{offset:n+s})}else t=r(this.props.criteria,this.props.view.getLanguage());return t.text||t.elementTypeId||t.refElementId||t.refElementLinkId?(this.currentRequest=t,this.setState({quering:!0,error:void 0,moreItemsAvailable:!1}),void this.props.view.model.dataProvider.filter(t).then(function(e){i.currentRequest===t&&i.processFilterData(e)})["catch"](function(e){i.currentRequest===t&&(console.error(e),i.setState({error:e}))})):void this.setState({quering:!1,error:void 0,items:void 0,moreItemsAvailable:!1,selectedItems:{}})},t.prototype.processFilterData=function(e){var t=o({},this.state.selectedItems),i=[];for(var r in e)if(e.hasOwnProperty(r)){var a=e[r];i.push(a),delete t[a.id]}var n=this.currentRequest.offset>0,s=n?this.state.items.concat(i):i,l=this.state.resultId;n||(l+=1),this.setState({quering:!1,resultId:l,items:s,error:void 0,moreItemsAvailable:i.length>=this.currentRequest.limit,selectedItems:t})},t}(s.Component);t.InstancesSearch=g},function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},a=this&&this.__assign||Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},n=this&&this.__rest||function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(i[r[a]]=e[r[a]]);return i},o=i(25),s=i(49),l="ontodia-list-element-view",d=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.view,i=e.model,r=e.selected,d=e.disabled,c=n(e,["view","model","selected","disabled"]),h=t.getTypeStyle(i.types).color,p=h.h,u=h.c,g=h.l,f=r&&!d?s.hcl(p,u,1.2*g):s.hcl("white"),m=d?l+"--disabled":"",v=l+" "+m+" "+(c.className||"");return o.createElement("li",a({},c,{className:v,draggable:!d,title:"Classes: "+t.getElementTypeString(i),style:{background:s.hcl(p,u,g)}}),o.createElement("div",{className:l+"__label",style:{background:f}},t.getLocalizedText(i.label.values).text))},t}(o.Component);t.ListElementView=d},function(e,t,i){"use strict";var r,a=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},n=this&&this.__assign||Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},o=i(25),s=i(83);!function(e){e[e.Left=1]="Left",e[e.Right=2]="Right"}(r=t.DockSide||(t.DockSide={}));var l="ontodia-drag-resizable-column",d=function(e){function t(t){var i=e.call(this,t)||this;i.onBeginDragHandle=function(){i.originWidth=i.state.open?i.state.width:0,i.props.onStartResize()},i.onDragHandle=function(e,t,a){var n=t;i.props.dockSide===r.Right&&(n=-n);var o=i.originWidth+n,s=Math.max(Math.min(o,i.props.maxWidth),i.props.minWidth);i.toggle({open:s>i.props.minWidth,newWidth:s})};var a=i.props.initiallyOpen;return i.state={open:a,width:i.defaultWidth()},i}return a(t,e),t.prototype.defaultWidth=function(){var e=this.props,t=e.defaultWidth,i=e.maxWidth;return Math.min(t,i)},t.prototype.render=function(){var e=this,t=this.props.dockSide===r.Left,i=this.state,a=i.open,d=i.width,c=l+" "+(l+"--"+(t?"docked-left":"docked-right")+" ")+(l+"--"+(a?"opened":"closed")+" ")+(""+(this.props.className||""));return o.createElement("div",n({className:c,style:{width:a?d:0}},this.props.tutorialProps),this.props.children,o.createElement(s.DraggableHandle,{className:l+"__handle",onBeginDragHandle:this.onBeginDragHandle,onDragHandle:this.onDragHandle},o.createElement("div",{className:l+"__handle-btn",onClick:function(){return e.toggle({open:!e.state.open})}})))},t.prototype.toggle=function(e){var t=this,i=e.open,r=e.newWidth,a=i!==this.state.open,n=function(){a&&t.props.onOpenOrClose&&t.props.onOpenOrClose(i)},o=i&&0===this.state.width&&void 0===r;o?this.setState({open:i,width:this.defaultWidth()},n):this.setState(void 0===r?{open:i}:{open:i,width:r},n)},t}(o.Component);d.defaultProps={dockSide:r.Left,minWidth:0,maxWidth:500,defaultWidth:275,initiallyOpen:!0},t.ResizableSidebar=d},function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},a=this&&this.__assign||Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},n=this&&this.__rest||function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(i[r[a]]=e[r[a]]);return i},o=i(25),s=function(e){function t(){var t=e.apply(this,arguments)||this;return t.isHoldingMouse=!1,t.onHandleMouseDown=function(e){if(e.target===e.currentTarget&&!t.isHoldingMouse){var i=0;e.button===i&&(t.isHoldingMouse=!0,t.originPageX=e.pageX,t.originPageY=e.pageY,document.addEventListener("mousemove",t.onMouseMove),document.addEventListener("mouseup",t.onMouseUp),t.props.onBeginDragHandle(e))}},t.onMouseMove=function(e){t.isHoldingMouse&&(e.preventDefault(),t.props.onDragHandle(e,e.pageX-t.originPageX,e.pageY-t.originPageY))},t.onMouseUp=function(e){t.removeListeners(),t.props.onEndDragHandle&&t.props.onEndDragHandle(e)},t}return r(t,e),t.prototype.render=function(){var e=this.props,t=(e.onBeginDragHandle,e.onDragHandle,e.onEndDragHandle,n(e,["onBeginDragHandle","onDragHandle","onEndDragHandle"]));return o.createElement("div",a({},t,{onMouseDown:this.onHandleMouseDown}),this.props.children)},t.prototype.componentWillUnmount=function(){this.removeListeners()},t.prototype.removeListeners=function(){this.isHoldingMouse&&(this.isHoldingMouse=!1,document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp))},t}(o.Component);t.DraggableHandle=s},function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},a=i(25),n="ontodia-accordion",o=function(e){function t(t){var i=e.call(this,t)||this;return i.items=[],i.onBeginDragHandle=function(e){i.originTotalHeight=i.element.clientHeight,i.originSizes=i.computeEffectiveItemHeights(),i.originCollapsed=i.state.collapsed.slice(),i.setState({resizing:!0},function(){i.props.onStartResize&&i.props.onStartResize()})},i.onEndDragHandle=function(){i.setState({resizing:!1})},i.sizeWhenCollapsed=function(e){var t=i.items[e];return t.header.clientHeight+(t.element.offsetHeight-t.element.clientHeight)},i.onDragHandle=function(e,t,r){var a=i.originSizes.slice(),n=i.originCollapsed.slice();new s(a,n,i.originTotalHeight,i.sizeWhenCollapsed).distribute(e+1,r),i.setState({sizes:a,collapsed:n})},i.state={collapsed:a.Children.map(i.props.children,function(){return!1}),resizing:!1},i}return r(t,e),t.prototype.render=function(){var e=this,t=this.state.resizing;return a.createElement("div",{className:n+" "+(t?n+"--resizing":""),ref:function(t){return e.element=t}},this.renderItems())},t.prototype.renderItems=function(){var e=this,t=this.state,i=t.sizes,r=t.collapsed,n=this.props.children,o=a.Children.count(n),s=this.element?this.element.clientHeight:void 0;return a.Children.map(n,function(t,l){var d=l===n.length-1,c=i?r[l]?i[l]:100*i[l]/s+"%":100/o+"%",h={ref:function(t){return e.items[l]=t},collapsed:r[l],height:c,onChangeCollapsed:function(t){return e.onItemChangeCollapsed(l,t)},onBeginDragHandle:d?void 0:function(){return e.onBeginDragHandle(l)},onDragHandle:d?void 0:function(t,i){return e.onDragHandle(l,t,i)},onEndDragHandle:e.onEndDragHandle};return a.cloneElement(t,h)})},t.prototype.computeEffectiveItemHeights=function(){var e=this;return this.items.map(function(t,i){return e.state.collapsed[i]?t.header.clientHeight:t.element.offsetHeight})},t.prototype.onItemChangeCollapsed=function(e,t){var i=this.element.clientHeight,r=this.computeEffectiveItemHeights(),a=this.state.collapsed.slice(),n=r[e],o=this.sizeWhenCollapsed(e),l=new s(r,a,i,this.sizeWhenCollapsed);if(t){var d=Math.max(n-o,0);r[e]=o,e===r.length-1?l.expand(d,0,e):l.expand(d,e+1,r.length)}else{var c=i/r.length-o,h=l.collapse(c,e+1,r.length);h=Math.max(h,l.leftoverSize()),h<c&&(h+=l.collapse(c-h,0,e));var p=Math.round(o+h);r[e]=p}a[e]=t,this.setState({sizes:r,collapsed:a})},t}(a.Component);t.Accordion=o;var s=function(){function e(e,t,i,r){this.sizes=e,this.collapsed=t,this.totalSize=i,this.sizeWhenCollapsed=r}return e.prototype.distribute=function(e,t){if(t>0){var i=this.collapse(t,e,this.sizes.length);i=Math.max(i,this.leftoverSize()),this.expand(i,0,e)}else{var i=this.collapse(-t,0,e);i=Math.max(i,this.leftoverSize()),this.expand(i,e,this.sizes.length)}},e.prototype.collapse=function(e,t,i){if(e<=0)return 0;for(var r=e,a=i-1;a>=t;a--)if(!this.collapsed[a]){var n=this.sizes[a],o=this.sizeWhenCollapsed(a),s=Math.round(Math.max(n-r,o));r-=n-s,this.sizes[a]=s,this.collapsed[a]=s<=o}return e-r},e.prototype.expand=function(e,t,i){if(e<=0)return 0;var r=this.collapsed.lastIndexOf(!1,i-1),a=r>=t?r:i-1,n=this.sizes[a],o=Math.round(n+e);return this.sizes[a]=o,this.collapsed[a]=o<=this.sizeWhenCollapsed(a),o-n},e.prototype.leftoverSize=function(){var e=this.sizes.reduce(function(e,t){return e+t},0);return Math.max(this.totalSize-e,0)},e}()},function(e,t,i){"use strict";var r=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},a=this&&this.__assign||Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},n=i(25),o=i(83),s="ontodia-accordion-item",l=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"header",{get:function(){return this._header},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this,t=this.props,i=t.heading,r=t.bodyClassName,l=t.children,d=t.tutorialProps,c=t.bodyRef,h=t.collapsed,p=t.height,u=t.onBeginDragHandle,g=t.onDragHandle,f=t.onEndDragHandle,m=u&&g&&f;return n.createElement("div",a({className:s+" "+s+"--"+(h?"collapsed":"expanded"),ref:function(t){return e._element=t},style:{height:p}},d),n.createElement("div",{className:s+"__inner"},n.createElement("div",{className:s+"__header",ref:function(t){return e._header=t},onClick:function(){return e.props.onChangeCollapsed(!h)}},i),n.createElement("div",{className:s+"__body"},l?l:n.createElement("div",{ref:c,className:""+(r||"")}))),m?n.createElement(o.DraggableHandle,{className:s+"__handle",onBeginDragHandle:function(e){return u()},onDragHandle:function(e,t,i){return g(t,i)},onEndDragHandle:function(e){return f()}}):null)},t}(n.Component);t.AccordionItem=l}])});
//# sourceMappingURL=ontodia.js.map